var je=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:global;var xe={};!function(je){xe=je()}((function(){var xe;return function o(je,xe,we){function a(Te,Ee){if(!xe[Te]){if(!je[Te]){var Ye=null;if(!Ee&&Ye)return Ye(Te,!0);if(Se)return Se(Te,!0);throw(Ee=new Error("Cannot find module '"+Te+"'")).code="MODULE_NOT_FOUND",Ee}Ye=xe[Te]={exports:{}},je[Te][0].call(Ye.exports,(function(xe){return a(je[Te][1][xe]||xe)}),Ye,Ye.exports,o,je,xe,we)}return xe[Te].exports}for(var Se=null,Te=0;Te<we.length;Te++)a(we[Te]);return a}({1:[function(je,xe,we){we.byteLength=function(je){je=c(je);var xe=je[0];je=je[1];return 3*(xe+je)/4-je},we.toByteArray=function(je){var xe,we,Se=c(je),Ye=Se[0],Ze=(Se=Se[1],new Ee(function(je,xe){return 3*(je+xe)/4-xe}(Ye,Se))),Qe=0,Ke=0<Se?Ye-4:Ye;for(we=0;we<Ke;we+=4)xe=Te[je.charCodeAt(we)]<<18|Te[je.charCodeAt(we+1)]<<12|Te[je.charCodeAt(we+2)]<<6|Te[je.charCodeAt(we+3)],Ze[Qe++]=xe>>16&255,Ze[Qe++]=xe>>8&255,Ze[Qe++]=255&xe;2===Se&&(xe=Te[je.charCodeAt(we)]<<2|Te[je.charCodeAt(we+1)]>>4,Ze[Qe++]=255&xe);1===Se&&(xe=Te[je.charCodeAt(we)]<<10|Te[je.charCodeAt(we+1)]<<4|Te[je.charCodeAt(we+2)]>>2,Ze[Qe++]=xe>>8&255,Ze[Qe++]=255&xe);return Ze},we.fromByteArray=function(je){for(var xe,we=je.length,Te=we%3,Ee=[],Ye=0,Ze=we-Te;Ye<Ze;Ye+=16383)Ee.push(function(je,xe,we){for(var Te,Ee=[],Ye=xe;Ye<we;Ye+=3)Te=(je[Ye]<<16&16711680)+(je[Ye+1]<<8&65280)+(255&je[Ye+2]),Ee.push(function(je){return Se[je>>18&63]+Se[je>>12&63]+Se[je>>6&63]+Se[63&je]}(Te));return Ee.join("")}(je,Ye,Ze<Ye+16383?Ze:Ye+16383));1==Te?(xe=je[we-1],Ee.push(Se[xe>>2]+Se[xe<<4&63]+"==")):2==Te&&(xe=(je[we-2]<<8)+je[we-1],Ee.push(Se[xe>>10]+Se[xe>>4&63]+Se[xe<<2&63]+"="));return Ee.join("")};for(var Se=[],Te=[],Ee="undefined"!=typeof Uint8Array?Uint8Array:Array,Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=0,Qe=Ye.length;Ze<Qe;++Ze)Se[Ze]=Ye[Ze],Te[Ye.charCodeAt(Ze)]=Ze;function c(je){var xe=je.length;if(0<xe%4)throw new Error("Invalid string. Length must be a multiple of 4");je=je.indexOf("="),xe=(je=-1===je?xe:je)===xe?0:4-je%4;return[je,xe]}Te["-".charCodeAt(0)]=62,Te["_".charCodeAt(0)]=63},{}],2:[function(je,xe,we){},{}],3:[function(je,xe,we){},{}],4:[function(xe,we,Se){!function(we){var Te=xe("base64-js"),Ee=xe("ieee754"),Ye="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,Ze=(Se.Buffer=we,Se.SlowBuffer=function(je){+je!=je&&(je=0);return we.alloc(+je)},Se.INSPECT_MAX_BYTES=50,2147483647);function l(je){if(Ze<je)throw new RangeError('The value "'+je+'" is invalid for option "size"');je=new Uint8Array(je);return Object.setPrototypeOf(je,we.prototype),je}function we(je,xe,we){if("number"!=typeof je)return o(je,xe,we);if("string"==typeof xe)throw new TypeError('The "string" argument must be of type string. Received type number');return i(je)}function o(je,xe,Se){if("string"==typeof je){var Te=je,Ee=xe;if(we.isEncoding(Ee="string"==typeof Ee&&""!==Ee?Ee:"utf8"))return Ye=0|h(Te,Ee),Ze=l(Ye),(Te=Ze.write(Te,Ee))!==Ye?Ze.slice(0,Te):Ze;throw new TypeError("Unknown encoding: "+Ee)}if(ArrayBuffer.isView(je))return u(je);if(null!=je){if(C(je,ArrayBuffer)||je&&C(je.buffer,ArrayBuffer)){var Ye=je,Ze=(Te=xe,Se);if(Te<0||Ye.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(Ye.byteLength<Te+(Ze||0))throw new RangeError('"length" is outside of buffer bounds');return Ye=void 0===Te&&void 0===Ze?new Uint8Array(Ye):void 0===Ze?new Uint8Array(Ye,Te):new Uint8Array(Ye,Te,Ze),Object.setPrototypeOf(Ye,we.prototype),Ye}if("number"==typeof je)throw new TypeError('The "value" argument must not be of type number. Received type number');Ee=je.valueOf&&je.valueOf();if(null!=Ee&&Ee!==je)return we.from(Ee,xe,Se);var Qe=function(je){var xe,Se;return we.isBuffer(je)?(xe=0|c(je.length),0!==(Se=l(xe)).length&&je.copy(Se,0,0,xe),Se):void 0!==je.length?"number"!=typeof je.length||O(je.length)?l(0):u(je):"Buffer"===je.type&&Array.isArray(je.data)?u(je.data):void 0}(je);if(Qe)return Qe;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof je[Symbol.toPrimitive])return we.from(je[Symbol.toPrimitive]("string"),xe,Se)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof je)}function n(je){if("number"!=typeof je)throw new TypeError('"size" argument must be of type number');if(je<0)throw new RangeError('The value "'+je+'" is invalid for option "size"')}function i(je){return n(je),l(je<0?0:0|c(je))}function u(je){for(var xe=je.length<0?0:0|c(je.length),we=l(xe),Se=0;Se<xe;Se+=1)we[Se]=255&je[Se];return we}function c(je){if(Ze<=je)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ze.toString(16)+" bytes");return 0|je}function h(je,xe){if(we.isBuffer(je))return je.length;if(ArrayBuffer.isView(je)||C(je,ArrayBuffer))return je.byteLength;if("string"!=typeof je)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof je);var Se=je.length,Te=2<arguments.length&&!0===arguments[2];if(!Te&&0===Se)return 0;for(var Ee=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return Se;case"utf8":case"utf-8":return E(je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Se;case"hex":return Se>>>1;case"base64":return M(je).length;default:if(Ee)return Te?-1:E(je).length;xe=(""+xe).toLowerCase(),Ee=!0}}function r(xe,we,Se){var Ee,Ye=!1;if((we=void 0===we||we<0?0:we)>(this||je).length)return"";if((Se=void 0===Se||Se>(this||je).length?(this||je).length:Se)<=0)return"";if((Se>>>=0)<=(we>>>=0))return"";for(xe=xe||"utf8";;)switch(xe){case"hex":var Ze=this||je,Qe=we,Ke=Se,$e=Ze.length;(!Ke||Ke<0||$e<Ke)&&(Ke=$e);for(var et="",tt=Qe=!Qe||Qe<0?0:Qe;tt<Ke;++tt)et+=Je[Ze[tt]];return et;case"utf8":case"utf-8":return T(this||je,we,Se);case"ascii":var rt=this||je,ot=($e=we,Se),nt="";ot=Math.min(rt.length,ot);for(var st=$e;st<ot;++st)nt+=String.fromCharCode(127&rt[st]);return nt;case"latin1":case"binary":var it=this||je,dt=(Qe=we,Se),ht="";dt=Math.min(it.length,dt);for(var ft=Qe;ft<dt;++ft)ht+=String.fromCharCode(it[ft]);return ht;case"base64":return pt=this||je,Ee=Se,0===(mt=we)&&Ee===pt.length?Te.fromByteArray(pt):Te.fromByteArray(pt.slice(mt,Ee));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var pt=we,mt=Se,yt=this.slice(pt,mt),gt="",wt=0;wt<yt.length;wt+=2)gt+=String.fromCharCode(yt[wt]+256*yt[wt+1]);return gt;default:if(Ye)throw new TypeError("Unknown encoding: "+xe);xe=(xe+"").toLowerCase(),Ye=!0}}function a(je,xe,we){var Se=je[xe];je[xe]=je[we],je[we]=Se}function f(je,xe,Se,Te,Ee){if(0===je.length)return-1;if("string"==typeof Se?(Te=Se,Se=0):2147483647<Se?Se=2147483647:Se<-2147483648&&(Se=-2147483648),(Se=(Se=O(Se=+Se)?Ee?0:je.length-1:Se)<0?je.length+Se:Se)>=je.length){if(Ee)return-1;Se=je.length-1}else if(Se<0){if(!Ee)return-1;Se=0}if("string"==typeof xe&&(xe=we.from(xe,Te)),we.isBuffer(xe))return 0===xe.length?-1:p(je,xe,Se,Te,Ee);if("number"==typeof xe)return xe&=255,"function"==typeof Uint8Array.prototype.indexOf?(Ee?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(je,xe,Se):p(je,[xe],Se,Te,Ee);throw new TypeError("val must be string, number or Buffer")}function p(je,xe,we,Se,Te){var Ee=1,Ye=je.length,Ze=xe.length;if(void 0!==Se&&("ucs2"===(Se=String(Se).toLowerCase())||"ucs-2"===Se||"utf16le"===Se||"utf-16le"===Se)){if(je.length<2||xe.length<2)return-1;Ye/=Ee=2,Ze/=2,we/=2}function l(je,xe){return 1===Ee?je[xe]:je.readUInt16BE(xe*Ee)}if(Te)for(var Qe=-1,Ke=we;Ke<Ye;Ke++)if(l(je,Ke)===l(xe,-1===Qe?0:Ke-Qe)){if(Ke-(Qe=-1===Qe?Ke:Qe)+1===Ze)return Qe*Ee}else-1!==Qe&&(Ke-=Ke-Qe),Qe=-1;else for(Ke=we=Ye<we+Ze?Ye-Ze:we;0<=Ke;Ke--){for(var Je=!0,$e=0;$e<Ze;$e++)if(l(je,Ke+$e)!==l(xe,$e)){Je=!1;break}if(Je)return Ke}return-1}function y(je,xe,we,Se){return k(function(je){for(var xe=[],we=0;we<je.length;++we)xe.push(255&je.charCodeAt(we));return xe}(xe),je,we,Se)}function g(je,xe,we,Se){return k(function(je,xe){for(var we,Se,Te=[],Ee=0;Ee<je.length&&!((xe-=2)<0);++Ee)Se=je.charCodeAt(Ee),we=Se>>8,Se%=256,Te.push(Se),Te.push(we);return Te}(xe,je.length-we),je,we,Se)}function T(je,xe,we){we=Math.min(je.length,we);for(var Se=[],Te=xe;Te<we;){var Ee,Ye,Ze,Ke,Je=je[Te],$e=null,et=239<Je?4:223<Je?3:191<Je?2:1;if(Te+et<=we)switch(et){case 1:Je<128&&($e=Je);break;case 2:128==(192&(Ee=je[Te+1]))&&127<(Ke=(31&Je)<<6|63&Ee)&&($e=Ke);break;case 3:Ee=je[Te+1],Ye=je[Te+2],128==(192&Ee)&&128==(192&Ye)&&2047<(Ke=(15&Je)<<12|(63&Ee)<<6|63&Ye)&&(Ke<55296||57343<Ke)&&($e=Ke);break;case 4:Ee=je[Te+1],Ye=je[Te+2],Ze=je[Te+3],128==(192&Ee)&&128==(192&Ye)&&128==(192&Ze)&&65535<(Ke=(15&Je)<<18|(63&Ee)<<12|(63&Ye)<<6|63&Ze)&&Ke<1114112&&($e=Ke)}null===$e?($e=65533,et=1):65535<$e&&($e-=65536,Se.push($e>>>10&1023|55296),$e=56320|1023&$e),Se.push($e),Te+=et}var tt=Se,rt=tt.length;if(rt<=Qe)return String.fromCharCode.apply(String,tt);for(var ot="",nt=0;nt<rt;)ot+=String.fromCharCode.apply(String,tt.slice(nt,nt+=Qe));return ot}Se.kMaxLength=Ze,(we.TYPED_ARRAY_SUPPORT=function(){try{var je=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(je,xe),42===je.foo()}catch(je){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(we.prototype,"parent",{enumerable:!0,get:function(){if(we.isBuffer(this||je))return(this||je).buffer}}),Object.defineProperty(we.prototype,"offset",{enumerable:!0,get:function(){if(we.isBuffer(this||je))return(this||je).byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&we[Symbol.species]===we&&Object.defineProperty(we,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),we.poolSize=8192,we.from=o,Object.setPrototypeOf(we.prototype,Uint8Array.prototype),Object.setPrototypeOf(we,Uint8Array),we.alloc=function(je,xe,we){return xe,we,n(je),je<=0||void 0===xe?l(je):"string"==typeof we?l(je).fill(xe,we):l(je).fill(xe)},we.allocUnsafe=i,we.allocUnsafeSlow=i,we.isBuffer=function(je){return null!=je&&!0===je._isBuffer&&je!==we.prototype},we.compare=function(je,xe){if(C(je,Uint8Array)&&(je=we.from(je,je.offset,je.byteLength)),C(xe,Uint8Array)&&(xe=we.from(xe,xe.offset,xe.byteLength)),!we.isBuffer(je)||!we.isBuffer(xe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(je===xe)return 0;for(var Se=je.length,Te=xe.length,Ee=0,Ye=Math.min(Se,Te);Ee<Ye;++Ee)if(je[Ee]!==xe[Ee]){Se=je[Ee],Te=xe[Ee];break}return Se<Te?-1:Te<Se?1:0},we.isEncoding=function(je){switch(String(je).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},we.concat=function(je,xe){if(!Array.isArray(je))throw new TypeError('"list" argument must be an Array of Buffers');if(0===je.length)return we.alloc(0);if(void 0===xe)for(Ee=xe=0;Ee<je.length;++Ee)xe+=je[Ee].length;for(var Se=we.allocUnsafe(xe),Te=0,Ee=0;Ee<je.length;++Ee){var Ye=je[Ee];if(C(Ye,Uint8Array)&&(Ye=we.from(Ye)),!we.isBuffer(Ye))throw new TypeError('"list" argument must be an Array of Buffers');Ye.copy(Se,Te),Te+=Ye.length}return Se},we.byteLength=h,we.prototype._isBuffer=!0,we.prototype.swap16=function(){var xe=(this||je).length;if(xe%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var we=0;we<xe;we+=2)a(this||je,we,we+1);return this||je},we.prototype.swap32=function(){var xe=(this||je).length;if(xe%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var we=0;we<xe;we+=4)a(this||je,we,we+3),a(this||je,we+1,we+2);return this||je},we.prototype.swap64=function(){var xe=(this||je).length;if(xe%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var we=0;we<xe;we+=8)a(this||je,we,we+7),a(this||je,we+1,we+6),a(this||je,we+2,we+5),a(this||je,we+3,we+4);return this||je},we.prototype.toLocaleString=we.prototype.toString=function(){var xe=(this||je).length;return 0===xe?"":0===arguments.length?T(this||je,0,xe):r.apply(this||je,arguments)},we.prototype.equals=function(xe){if(we.isBuffer(xe))return(this||je)===xe||0===we.compare(this||je,xe);throw new TypeError("Argument must be a Buffer")},we.prototype.inspect=function(){var xe="",we=Se.INSPECT_MAX_BYTES;xe=this.toString("hex",0,we).replace(/(.{2})/g,"$1 ").trim();return(this||je).length>we&&(xe+=" ... "),"<Buffer "+xe+">"},Ye&&(we.prototype[Ye]=we.prototype.inspect),we.prototype.compare=function(xe,Se,Te,Ee,Ye){if(C(xe,Uint8Array)&&(xe=we.from(xe,xe.offset,xe.byteLength)),!we.isBuffer(xe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof xe);if(void 0===Te&&(Te=xe?xe.length:0),void 0===Ee&&(Ee=0),void 0===Ye&&(Ye=(this||je).length),(Se=void 0===Se?0:Se)<0||Te>xe.length||Ee<0||Ye>(this||je).length)throw new RangeError("out of range index");if(Ye<=Ee&&Te<=Se)return 0;if(Ye<=Ee)return-1;if(Te<=Se)return 1;if((this||je)===xe)return 0;for(var Ze=(Ye>>>=0)-(Ee>>>=0),Qe=(Te>>>=0)-(Se>>>=0),Ke=Math.min(Ze,Qe),Je=this.slice(Ee,Ye),$e=xe.slice(Se,Te),et=0;et<Ke;++et)if(Je[et]!==$e[et]){Ze=Je[et],Qe=$e[et];break}return Ze<Qe?-1:Qe<Ze?1:0},we.prototype.includes=function(je,xe,we){return-1!==this.indexOf(je,xe,we)},we.prototype.indexOf=function(xe,we,Se){return f(this||je,xe,we,Se,!0)},we.prototype.lastIndexOf=function(xe,we,Se){return f(this||je,xe,we,Se,!1)},we.prototype.write=function(xe,we,Se,Te){if(void 0===we)Te="utf8",Se=(this||je).length,we=0;else if(void 0===Se&&"string"==typeof we)Te=we,Se=(this||je).length,we=0;else{if(!isFinite(we))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");we>>>=0,isFinite(Se)?(Se>>>=0,void 0===Te&&(Te="utf8")):(Te=Se,Se=void 0)}var Ee=(this||je).length-we;if((void 0===Se||Ee<Se)&&(Se=Ee),0<xe.length&&(Se<0||we<0)||we>(this||je).length)throw new RangeError("Attempt to write outside buffer bounds");Te=Te||"utf8";for(var Ye,Ze,Qe,Ke=!1;;)switch(Te){case"hex":var Je=this||je,$e=xe,et=we,tt=Se,rt=(et=Number(et)||0,Je.length-et);(!tt||rt<(tt=Number(tt)))&&(tt=rt),(rt=$e.length)/2<tt&&(tt=rt/2);for(var ot=0;ot<tt;++ot){var nt=parseInt($e.substr(2*ot,2),16);if(O(nt))return ot;Je[et+ot]=nt}return ot;case"utf8":case"utf-8":return rt=we,Qe=Se,k(E(xe,(Ze=this||je).length-rt),Ze,rt,Qe);case"ascii":return y(this||je,xe,we,Se);case"latin1":case"binary":return y(this||je,xe,we,Se);case"base64":return Ze=this||je,Qe=we,Ye=Se,k(M(xe),Ze,Qe,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this||je,xe,we,Se);default:if(Ke)throw new TypeError("Unknown encoding: "+Te);Te=(""+Te).toLowerCase(),Ke=!0}},we.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call((this||je)._arr||this||je,0)}};var Qe=4096;function m(je,xe,we){if(je%1!=0||je<0)throw new RangeError("offset is not uint");if(we<je+xe)throw new RangeError("Trying to access beyond buffer length")}function b(je,xe,Se,Te,Ee,Ye){if(!we.isBuffer(je))throw new TypeError('"buffer" argument must be a Buffer instance');if(Ee<xe||xe<Ye)throw new RangeError('"value" argument is out of bounds');if(Se+Te>je.length)throw new RangeError("Index out of range")}function _(je,xe,we,Se){if(we+Se>je.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("Index out of range")}function j(je,xe,we,Se,Te){return xe=+xe,we>>>=0,Te||_(je,0,we,4),Ee.write(je,xe,we,Se,23,4),we+4}function x(je,xe,we,Se,Te){return xe=+xe,we>>>=0,Te||_(je,0,we,8),Ee.write(je,xe,we,Se,52,8),we+8}we.prototype.slice=function(xe,Se){var Te=(this||je).length;Te=((xe=~~xe)<0?(xe+=Te)<0&&(xe=0):Te<xe&&(xe=Te),(Se=void 0===Se?Te:~~Se)<0?(Se+=Te)<0&&(Se=0):Te<Se&&(Se=Te),Se<xe&&(Se=xe),this.subarray(xe,Se));return Object.setPrototypeOf(Te,we.prototype),Te},we.prototype.readUIntLE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||je).length);for(var Te=(this||je)[xe],Ee=1,Ye=0;++Ye<we&&(Ee*=256);)Te+=(this||je)[xe+Ye]*Ee;return Te},we.prototype.readUIntBE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||je).length);for(var Te=(this||je)[xe+--we],Ee=1;0<we&&(Ee*=256);)Te+=(this||je)[xe+--we]*Ee;return Te},we.prototype.readUInt8=function(xe,we){return xe>>>=0,we||m(xe,1,(this||je).length),(this||je)[xe]},we.prototype.readUInt16LE=function(xe,we){return xe>>>=0,we||m(xe,2,(this||je).length),(this||je)[xe]|(this||je)[xe+1]<<8},we.prototype.readUInt16BE=function(xe,we){return xe>>>=0,we||m(xe,2,(this||je).length),(this||je)[xe]<<8|(this||je)[xe+1]},we.prototype.readUInt32LE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||je).length),((this||je)[xe]|(this||je)[xe+1]<<8|(this||je)[xe+2]<<16)+16777216*(this||je)[xe+3]},we.prototype.readUInt32BE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||je).length),16777216*(this||je)[xe]+((this||je)[xe+1]<<16|(this||je)[xe+2]<<8|(this||je)[xe+3])},we.prototype.readIntLE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||je).length);for(var Te=(this||je)[xe],Ee=1,Ye=0;++Ye<we&&(Ee*=256);)Te+=(this||je)[xe+Ye]*Ee;return(Ee*=128)<=Te&&(Te-=Math.pow(2,8*we)),Te},we.prototype.readIntBE=function(xe,we,Se){xe>>>=0,we>>>=0,Se||m(xe,we,(this||je).length);for(var Te=we,Ee=1,Ye=(this||je)[xe+--Te];0<Te&&(Ee*=256);)Ye+=(this||je)[xe+--Te]*Ee;return(Ee*=128)<=Ye&&(Ye-=Math.pow(2,8*we)),Ye},we.prototype.readInt8=function(xe,we){return xe>>>=0,we||m(xe,1,(this||je).length),128&(this||je)[xe]?-1*(255-(this||je)[xe]+1):(this||je)[xe]},we.prototype.readInt16LE=function(xe,we){xe>>>=0,we||m(xe,2,(this||je).length);we=(this||je)[xe]|(this||je)[xe+1]<<8;return 32768&we?4294901760|we:we},we.prototype.readInt16BE=function(xe,we){xe>>>=0,we||m(xe,2,(this||je).length);we=(this||je)[xe+1]|(this||je)[xe]<<8;return 32768&we?4294901760|we:we},we.prototype.readInt32LE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||je).length),(this||je)[xe]|(this||je)[xe+1]<<8|(this||je)[xe+2]<<16|(this||je)[xe+3]<<24},we.prototype.readInt32BE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||je).length),(this||je)[xe]<<24|(this||je)[xe+1]<<16|(this||je)[xe+2]<<8|(this||je)[xe+3]},we.prototype.readFloatLE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||je).length),Ee.read(this||je,xe,!0,23,4)},we.prototype.readFloatBE=function(xe,we){return xe>>>=0,we||m(xe,4,(this||je).length),Ee.read(this||je,xe,!1,23,4)},we.prototype.readDoubleLE=function(xe,we){return xe>>>=0,we||m(xe,8,(this||je).length),Ee.read(this||je,xe,!0,52,8)},we.prototype.readDoubleBE=function(xe,we){return xe>>>=0,we||m(xe,8,(this||je).length),Ee.read(this||je,xe,!1,52,8)},we.prototype.writeUIntLE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Se>>>=0,Te||b(this||je,xe,we,Se,Math.pow(2,8*Se)-1,0);var Ee=1,Ye=0;for((this||je)[we]=255&xe;++Ye<Se&&(Ee*=256);)(this||je)[we+Ye]=xe/Ee&255;return we+Se},we.prototype.writeUIntBE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Se>>>=0,Te||b(this||je,xe,we,Se,Math.pow(2,8*Se)-1,0);var Ee=Se-1,Ye=1;for((this||je)[we+Ee]=255&xe;0<=--Ee&&(Ye*=256);)(this||je)[we+Ee]=xe/Ye&255;return we+Se},we.prototype.writeUInt8=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,1,255,0),(this||je)[we]=255&xe,we+1},we.prototype.writeUInt16LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,2,65535,0),(this||je)[we]=255&xe,(this||je)[we+1]=xe>>>8,we+2},we.prototype.writeUInt16BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,2,65535,0),(this||je)[we]=xe>>>8,(this||je)[we+1]=255&xe,we+2},we.prototype.writeUInt32LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,4,4294967295,0),(this||je)[we+3]=xe>>>24,(this||je)[we+2]=xe>>>16,(this||je)[we+1]=xe>>>8,(this||je)[we]=255&xe,we+4},we.prototype.writeUInt32BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,4,4294967295,0),(this||je)[we]=xe>>>24,(this||je)[we+1]=xe>>>16,(this||je)[we+2]=xe>>>8,(this||je)[we+3]=255&xe,we+4},we.prototype.writeIntLE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Te||b(this||je,xe,we,Se,(Te=Math.pow(2,8*Se-1))-1,-Te);var Ee=0,Ye=1,Ze=0;for((this||je)[we]=255&xe;++Ee<Se&&(Ye*=256);)xe<0&&0===Ze&&0!==(this||je)[we+Ee-1]&&(Ze=1),(this||je)[we+Ee]=(xe/Ye>>0)-Ze&255;return we+Se},we.prototype.writeIntBE=function(xe,we,Se,Te){xe=+xe,we>>>=0,Te||b(this||je,xe,we,Se,(Te=Math.pow(2,8*Se-1))-1,-Te);var Ee=Se-1,Ye=1,Ze=0;for((this||je)[we+Ee]=255&xe;0<=--Ee&&(Ye*=256);)xe<0&&0===Ze&&0!==(this||je)[we+Ee+1]&&(Ze=1),(this||je)[we+Ee]=(xe/Ye>>0)-Ze&255;return we+Se},we.prototype.writeInt8=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,1,127,-128),(this||je)[we]=255&(xe=xe<0?255+xe+1:xe),we+1},we.prototype.writeInt16LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,2,32767,-32768),(this||je)[we]=255&xe,(this||je)[we+1]=xe>>>8,we+2},we.prototype.writeInt16BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,2,32767,-32768),(this||je)[we]=xe>>>8,(this||je)[we+1]=255&xe,we+2},we.prototype.writeInt32LE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,4,2147483647,-2147483648),(this||je)[we]=255&xe,(this||je)[we+1]=xe>>>8,(this||je)[we+2]=xe>>>16,(this||je)[we+3]=xe>>>24,we+4},we.prototype.writeInt32BE=function(xe,we,Se){return xe=+xe,we>>>=0,Se||b(this||je,xe,we,4,2147483647,-2147483648),(this||je)[we]=(xe=xe<0?4294967295+xe+1:xe)>>>24,(this||je)[we+1]=xe>>>16,(this||je)[we+2]=xe>>>8,(this||je)[we+3]=255&xe,we+4},we.prototype.writeFloatLE=function(xe,we,Se){return j(this||je,xe,we,!0,Se)},we.prototype.writeFloatBE=function(xe,we,Se){return j(this||je,xe,we,!1,Se)},we.prototype.writeDoubleLE=function(xe,we,Se){return x(this||je,xe,we,!0,Se)},we.prototype.writeDoubleBE=function(xe,we,Se){return x(this||je,xe,we,!1,Se)},we.prototype.copy=function(xe,Se,Te,Ee){if(!we.isBuffer(xe))throw new TypeError("argument should be a Buffer");if(Te=Te||0,Ee||0===Ee||(Ee=(this||je).length),Se>=xe.length&&(Se=xe.length),(Ee=0<Ee&&Ee<Te?Te:Ee)===Te)return 0;if(0===xe.length||0===(this||je).length)return 0;if((Se=Se||0)<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=(this||je).length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>(this||je).length&&(Ee=(this||je).length);var Ye=(Ee=xe.length-Se<Ee-Te?xe.length-Se+Te:Ee)-Te;if((this||je)===xe&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(Se,Te,Ee);else if((this||je)===xe&&Te<Se&&Se<Ee)for(var Ze=Ye-1;0<=Ze;--Ze)xe[Ze+Se]=(this||je)[Ze+Te];else Uint8Array.prototype.set.call(xe,this.subarray(Te,Ee),Se);return Ye},we.prototype.fill=function(xe,Se,Te,Ee){if("string"==typeof xe){if("string"==typeof Se?(Ee=Se,Se=0,Te=(this||je).length):"string"==typeof Te&&(Ee=Te,Te=(this||je).length),void 0!==Ee&&"string"!=typeof Ee)throw new TypeError("encoding must be a string");if("string"==typeof Ee&&!we.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);var Ye;1===xe.length&&(Ye=xe.charCodeAt(0),("utf8"===Ee&&Ye<128||"latin1"===Ee)&&(xe=Ye))}else"number"==typeof xe?xe&=255:"boolean"==typeof xe&&(xe=Number(xe));if(Se<0||(this||je).length<Se||(this||je).length<Te)throw new RangeError("Out of range index");var Ze;if(!(Te<=Se))if(Se>>>=0,Te=void 0===Te?(this||je).length:Te>>>0,"number"==typeof(xe=xe||0))for(Ze=Se;Ze<Te;++Ze)(this||je)[Ze]=xe;else{var Qe=we.isBuffer(xe)?xe:we.from(xe,Ee),Ke=Qe.length;if(0===Ke)throw new TypeError('The value "'+xe+'" is invalid for argument "value"');for(Ze=0;Ze<Te-Se;++Ze)(this||je)[Ze+Se]=Qe[Ze%Ke]}return this||je};var Ke=/[^+/0-9A-Za-z-_]/g;function E(je,xe){xe=xe||1/0;for(var we,Se=je.length,Te=null,Ee=[],Ye=0;Ye<Se;++Ye){if(55295<(we=je.charCodeAt(Ye))&&we<57344){if(!Te){if(56319<we){-1<(xe-=3)&&Ee.push(239,191,189);continue}if(Ye+1===Se){-1<(xe-=3)&&Ee.push(239,191,189);continue}Te=we;continue}if(we<56320){-1<(xe-=3)&&Ee.push(239,191,189),Te=we;continue}we=65536+(Te-55296<<10|we-56320)}else Te&&-1<(xe-=3)&&Ee.push(239,191,189);if(Te=null,we<128){if(--xe<0)break;Ee.push(we)}else if(we<2048){if((xe-=2)<0)break;Ee.push(we>>6|192,63&we|128)}else if(we<65536){if((xe-=3)<0)break;Ee.push(we>>12|224,we>>6&63|128,63&we|128)}else{if(!(we<1114112))throw new Error("Invalid code point");if((xe-=4)<0)break;Ee.push(we>>18|240,we>>12&63|128,we>>6&63|128,63&we|128)}}return Ee}function M(je){return Te.toByteArray(function(je){if((je=(je=je.split("=")[0]).trim().replace(Ke,"")).length<2)return"";for(;je.length%4!=0;)je+="=";return je}(je))}function k(je,xe,we,Se){for(var Te=0;Te<Se&&!(Te+we>=xe.length||Te>=je.length);++Te)xe[Te+we]=je[Te];return Te}function C(je,xe){return je instanceof xe||null!=je&&null!=je.constructor&&null!=je.constructor.name&&je.constructor.name===xe.name}function O(je){return je!=je}var Je=function(){for(var je="0123456789abcdef",xe=new Array(256),we=0;we<16;++we)for(var Se=16*we,Te=0;Te<16;++Te)xe[Se+Te]=je[we]+je[Te];return xe}()}.call(this||je,xe("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(je,xe,we){xe.exports=function(je){if("function"!=typeof je)throw TypeError(String(je)+" is not a function");return je}},{}],6:[function(je,xe,we){var Se=je("../internals/is-object");xe.exports=function(je){if(Se(je)||null===je)return je;throw TypeError("Can't set "+String(je)+" as a prototype")}},{"../internals/is-object":75}],7:[function(je,xe,we){var Se=je("../internals/well-known-symbol"),Te=je("../internals/object-create"),Ee=(je=je("../internals/object-define-property"),Se("unscopables")),Ye=Array.prototype;null==Ye[Ee]&&je.f(Ye,Ee,{configurable:!0,value:Te(null)}),xe.exports=function(je){Ye[Ee][je]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(je,xe,we){var Se=je("../internals/string-multibyte").charAt;xe.exports=function(je,xe,we){return xe+(we?Se(je,xe).length:1)}},{"../internals/string-multibyte":124}],9:[function(je,xe,we){xe.exports=function(je,xe,we){if(je instanceof xe)return je;throw TypeError("Incorrect "+(we?we+" ":"")+"invocation")}},{}],10:[function(je,xe,we){var Se=je("../internals/is-object");xe.exports=function(je){if(Se(je))return je;throw TypeError(String(je)+" is not an object")}},{"../internals/is-object":75}],11:[function(je,xe,we){xe.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(xe,we,Se){function o(je){return Qe(je)&&Ke(wt,Je(je))}var Te,Ee=xe("../internals/array-buffer-native"),Ye=xe("../internals/descriptors"),Ze=xe("../internals/global"),Qe=xe("../internals/is-object"),Ke=xe("../internals/has"),Je=xe("../internals/classof"),$e=xe("../internals/create-non-enumerable-property"),et=xe("../internals/redefine"),tt=xe("../internals/object-define-property").f,rt=xe("../internals/object-get-prototype-of"),ot=xe("../internals/object-set-prototype-of"),nt=xe("../internals/well-known-symbol"),st=(xe=xe("../internals/uid"),Ze.Int8Array),it=st&&st.prototype,dt=Ze.Uint8ClampedArray,ht=(dt=dt&&dt.prototype,st&&rt(st)),ft=it&&rt(it),pt=Object.prototype,mt=pt.isPrototypeOf,yt=(nt=nt("toStringTag"),xe("TYPED_ARRAY_TAG")),gt=Ee&&!!ot&&"Opera"!==Je(Ze.opera),wt=(xe=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(Te in wt)Ze[Te]||(gt=!1);if((!gt||"function"!=typeof ht||ht===Function.prototype)&&(ht=function(){throw TypeError("Incorrect invocation")},gt))for(Te in wt)Ze[Te]&&ot(Ze[Te],ht);if((!gt||!ft||ft===pt)&&(ft=ht.prototype,gt))for(Te in wt)Ze[Te]&&ot(Ze[Te].prototype,ft);if(gt&&rt(dt)!==ft&&ot(dt,ft),Ye&&!Ke(ft,nt))for(Te in xe=!0,tt(ft,nt,{get:function(){return Qe(this||je)?(this||je)[yt]:void 0}}),wt)Ze[Te]&&$e(Ze[Te],yt,Te);we.exports={NATIVE_ARRAY_BUFFER_VIEWS:gt,TYPED_ARRAY_TAG:xe&&yt,aTypedArray:function(je){if(o(je))return je;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(je){if(ot){if(mt.call(ht,je))return je}else for(var xe in wt)if(Ke(wt,Te)){xe=Ze[xe];if(xe&&(je===xe||mt.call(xe,je)))return je}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(je,xe,we){if(Ye){if(we)for(var Se in wt){Se=Ze[Se];Se&&Ke(Se.prototype,je)&&delete Se.prototype[je]}ft[je]&&!we||et(ft,je,!we&&gt&&it[je]||xe)}},exportTypedArrayStaticMethod:function(je,xe,we){var Se,Te;if(Ye){if(ot){if(we)for(Se in wt)(Te=Ze[Se])&&Ke(Te,je)&&delete Te[je];if(ht[je]&&!we)return;try{return et(ht,je,!we&&gt&&st[je]||xe)}catch(je){}}for(Se in wt)!(Te=Ze[Se])||Te[je]&&!we||et(Te,je,xe)}},isView:function(je){je=Je(je);return"DataView"===je||Ke(wt,je)},isTypedArray:o,TypedArray:ht,TypedArrayPrototype:ft}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(xe,we,Se){function r(je){return[255&je]}function o(je){return[255&je,je>>8&255]}function n(je){return[255&je,je>>8&255,je>>16&255,je>>24&255]}function s(je){return je[3]<<24|je[2]<<16|je[1]<<8|je[0]}function i(je){return xr(je,23,4)}function F(je){return xr(je,52,8)}function a(xe,we){it(xe[gt],we,{get:function(){return ft(this||je)[we]}})}function l(je,xe,we,Se){if(we=tt(we),je=ft(je),we+xe>je.byteLength)throw _r(wt);var Te=ft(je.buffer).bytes;we+=je.byteOffset,je=Te.slice(we,we+xe);return Se?je:je.reverse()}function u(je,xe,we,Se,Te,Ee){if(we=tt(we),je=ft(je),we+xe>je.byteLength)throw _r(wt);for(var Ye=ft(je.buffer).bytes,Ze=we+je.byteOffset,Qe=Se(+Te),Ke=0;Ke<xe;Ke++)Ye[Ze+Ke]=Qe[Ee?Ke:xe-Ke-1]}var Te=xe("../internals/global"),Ee=xe("../internals/descriptors"),Ye=xe("../internals/array-buffer-native"),Ze=xe("../internals/create-non-enumerable-property"),Qe=xe("../internals/redefine-all"),Ke=xe("../internals/fails"),Je=xe("../internals/an-instance"),$e=xe("../internals/to-integer"),et=xe("../internals/to-length"),tt=xe("../internals/to-index"),rt=xe("../internals/ieee754"),ot=xe("../internals/object-get-prototype-of"),nt=xe("../internals/object-set-prototype-of"),st=xe("../internals/object-get-own-property-names").f,it=xe("../internals/object-define-property").f,dt=xe("../internals/array-fill"),ht=xe("../internals/set-to-string-tag"),ft=(xe=xe("../internals/internal-state"),xe.get),pt=xe.set,mt="ArrayBuffer",yt="DataView",gt="prototype",wt="Wrong index",Dt=Te[mt],Xt=Dt,Yt=Te[yt],br=(xe=Yt&&Yt[gt],Object.prototype),_r=Te.RangeError,xr=rt.pack,wr=rt.unpack;if(Ye){if(!Ke((function(){Dt(1)}))||!Ke((function(){new Dt(-1)}))||Ke((function(){return new Dt,new Dt(1.5),new Dt(NaN),Dt.name!=mt}))){Te=(Xt=function(xe){return Je(this||je,Xt),new Dt(tt(xe))})[gt]=Dt[gt];for(var Sr,Tr=st(Dt),Er=0;Tr.length>Er;)(Sr=Tr[Er++])in Xt||Ze(Xt,Sr,Dt[Sr]);Te.constructor=Xt}nt&&ot(xe)!==br&&nt(xe,br);rt=new Yt(new Xt(2));var Ar=xe.setInt8;rt.setInt8(0,2147483648),rt.setInt8(1,2147483649),!rt.getInt8(0)&&rt.getInt8(1)||Qe(xe,{setInt8:function(xe,we){Ar.call(this||je,xe,we<<24>>24)},setUint8:function(xe,we){Ar.call(this||je,xe,we<<24>>24)}},{unsafe:!0})}else Xt=function(xe){Je(this||je,Xt,mt);xe=tt(xe);pt(this||je,{bytes:dt.call(new Array(xe),0),byteLength:xe}),Ee||((this||je).byteLength=xe)},Yt=function(xe,we,Se){Je(this||je,Yt,yt),Je(xe,Xt,yt);var Te=ft(xe).byteLength;we=$e(we);if(we<0||Te<we)throw _r("Wrong offset");if(Te<we+(Se=void 0===Se?Te-we:et(Se)))throw _r("Wrong length");pt(this||je,{buffer:xe,byteLength:Se,byteOffset:we}),Ee||((this||je).buffer=xe,(this||je).byteLength=Se,(this||je).byteOffset=we)},Ee&&(a(Xt,"byteLength"),a(Yt,"buffer"),a(Yt,"byteLength"),a(Yt,"byteOffset")),Qe(Yt[gt],{getInt8:function(xe){return l(this||je,1,xe)[0]<<24>>24},getUint8:function(xe){return l(this||je,1,xe)[0]},getInt16:function(xe){xe=l(this||je,2,xe,1<arguments.length?arguments[1]:void 0);return(xe[1]<<8|xe[0])<<16>>16},getUint16:function(xe){xe=l(this||je,2,xe,1<arguments.length?arguments[1]:void 0);return xe[1]<<8|xe[0]},getInt32:function(xe){return s(l(this||je,4,xe,1<arguments.length?arguments[1]:void 0))},getUint32:function(xe){return s(l(this||je,4,xe,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(xe){return wr(l(this||je,4,xe,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(xe){return wr(l(this||je,8,xe,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(xe,we){u(this||je,1,xe,r,we)},setUint8:function(xe,we){u(this||je,1,xe,r,we)},setInt16:function(xe,we){u(this||je,2,xe,o,we,2<arguments.length?arguments[2]:void 0)},setUint16:function(xe,we){u(this||je,2,xe,o,we,2<arguments.length?arguments[2]:void 0)},setInt32:function(xe,we){u(this||je,4,xe,n,we,2<arguments.length?arguments[2]:void 0)},setUint32:function(xe,we){u(this||je,4,xe,n,we,2<arguments.length?arguments[2]:void 0)},setFloat32:function(xe,we){u(this||je,4,xe,i,we,2<arguments.length?arguments[2]:void 0)},setFloat64:function(xe,we){u(this||je,8,xe,F,we,2<arguments.length?arguments[2]:void 0)}});ht(Xt,mt),ht(Yt,yt),we.exports={ArrayBuffer:Xt,DataView:Yt}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(xe,we,Se){var Te=xe("../internals/to-object"),Ee=xe("../internals/to-absolute-index"),Ye=xe("../internals/to-length"),Ze=Math.min;we.exports=[].copyWithin||function(xe,we){var Se=Te(this||je),Qe=Ye(Se.length),Ke=Ee(xe,Qe),Je=Ee(we,Qe),$e=(xe=2<arguments.length?arguments[2]:void 0,Ze((void 0===xe?Qe:Ee(xe,Qe))-Je,Qe-Ke)),et=1;for(Je<Ke&&Ke<Je+$e&&(et=-1,Je+=$e-1,Ke+=$e-1);0<$e--;)Je in Se?Se[Ke]=Se[Je]:delete Se[Ke],Ke+=et,Je+=et;return Se}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(xe,we,Se){var Te=xe("../internals/to-object"),Ee=xe("../internals/to-absolute-index"),Ye=xe("../internals/to-length");we.exports=function(xe){for(var we=Te(this||je),Se=Ye(we.length),Ze=arguments.length,Qe=Ee(1<Ze?arguments[1]:void 0,Se),Ke=(Ze=2<Ze?arguments[2]:void 0,void 0===Ze?Se:Ee(Ze,Se));Qe<Ke;)we[Qe++]=xe;return we}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(xe,we,Se){var Te=xe("../internals/array-iteration").forEach,Ee=xe("../internals/array-method-is-strict");xe=xe("../internals/array-method-uses-to-length"),Ee=Ee("forEach"),xe=xe("forEach");we.exports=Ee&&xe?[].forEach:function(xe){return Te(this||je,xe,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(xe,we,Se){var Te=xe("../internals/function-bind-context"),Ee=xe("../internals/to-object"),Ye=xe("../internals/call-with-safe-iteration-closing"),Ze=xe("../internals/is-array-iterator-method"),Qe=xe("../internals/to-length"),Ke=xe("../internals/create-property"),Je=xe("../internals/get-iterator-method");we.exports=function(xe){var we,Se,$e,et,tt,rt,ot=Ee(xe),nt=(xe="function"==typeof(this||je)?this||je:Array,arguments.length),st=1<nt?arguments[1]:void 0,it=void 0!==st,dt=Je(ot),ht=0;if(it&&(st=Te(st,2<nt?arguments[2]:void 0,2)),null==dt||xe==Array&&Ze(dt))for(Se=new xe(we=Qe(ot.length));ht<we;ht++)rt=it?st(ot[ht],ht):ot[ht],Ke(Se,ht,rt);else for(tt=(et=dt.call(ot)).next,Se=new xe;!($e=tt.call(et)).done;ht++)rt=it?Ye(et,st,[$e.value,ht],!0):$e.value,Ke(Se,ht,rt);return Se.length=ht,Se}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(je,xe,we){function o(je){return function(xe,we,Ye){var Ze,Qe=Se(xe),Ke=Te(Qe.length),Je=Ee(Ye,Ke);if(je&&we!=we){for(;Je<Ke;)if((Ze=Qe[Je++])!=Ze)return!0}else for(;Je<Ke;Je++)if((je||Je in Qe)&&Qe[Je]===we)return je||Je||0;return!je&&-1}}var Se=je("../internals/to-indexed-object"),Te=je("../internals/to-length"),Ee=je("../internals/to-absolute-index");xe.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(je,xe,we){function o(je){var xe=1==je,we=2==je,Ke=3==je,Je=4==je,$e=6==je,et=5==je||$e;return function(tt,rt,ot,nt){for(var st,it,dt=Ee(tt),ht=Te(dt),ft=Se(rt,ot,3),pt=Ye(ht.length),mt=0,yt=(rt=nt||Ze,xe?rt(tt,pt):we?rt(tt,0):void 0);mt<pt;mt++)if((et||mt in ht)&&(it=ft(st=ht[mt],mt,dt),je))if(xe)yt[mt]=it;else if(it)switch(je){case 3:return!0;case 5:return st;case 6:return mt;case 2:Qe.call(yt,st)}else if(Je)return!1;return $e?-1:Ke||Je?Je:yt}}var Se=je("../internals/function-bind-context"),Te=je("../internals/indexed-object"),Ee=je("../internals/to-object"),Ye=je("../internals/to-length"),Ze=je("../internals/array-species-create"),Qe=[].push;xe.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(xe,we,Se){var Te=xe("../internals/to-indexed-object"),Ee=xe("../internals/to-integer"),Ye=xe("../internals/to-length"),Ze=xe("../internals/array-method-is-strict"),Qe=(xe=xe("../internals/array-method-uses-to-length"),Math.min),Ke=[].lastIndexOf,Je=!!Ke&&1/[1].lastIndexOf(1,-0)<0;Ze=Ze("lastIndexOf"),xe=xe("indexOf",{ACCESSORS:!0,1:0});we.exports=!Je&&Ze&&xe?Ke:function(xe){if(Je)return Ke.apply(this||je,arguments)||0;var we=Te(this||je),Se=Ye(we.length),Ze=Se-1;for((Ze=1<arguments.length?Qe(Ze,Ee(arguments[1])):Ze)<0&&(Ze=Se+Ze);0<=Ze;Ze--)if(Ze in we&&we[Ze]===xe)return Ze||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(je,xe,we){var Se=je("../internals/fails"),Te=je("../internals/well-known-symbol"),Ee=je("../internals/engine-v8-version"),Ye=Te("species");xe.exports=function(je){return 51<=Ee||!Se((function(){var xe=[];return(xe.constructor={})[Ye]=function(){return{foo:1}},1!==xe[je](Boolean).foo}))}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(je,xe,we){var Se=je("../internals/fails");xe.exports=function(je,xe){var we=[][je];return!!we&&Se((function(){we.call(null,xe||function(){throw 1},1)}))}},{"../internals/fails":51}],23:[function(je,xe,we){function i(je){throw je}var Se=je("../internals/descriptors"),Te=je("../internals/fails"),Ee=je("../internals/has"),Ye=Object.defineProperty,Ze={};xe.exports=function(je,xe){var we,Qe,Ke,Je;return Ee(Ze,je)?Ze[je]:(we=[][je],Qe=!!Ee(xe=xe||{},"ACCESSORS")&&xe.ACCESSORS,Ke=Ee(xe,0)?xe[0]:i,Je=Ee(xe,1)?xe[1]:void 0,Ze[je]=!!we&&!Te((function(){if(Qe&&!Se)return!0;var je={length:-1};Qe?Ye(je,1,{enumerable:!0,get:i}):je[1]=1,we.call(je,Ke,Je)})))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(je,xe,we){function o(je){return function(xe,we,Ze,Qe){Se(we);var Ke=Te(xe),Je=Ee(Ke),$e=Ye(Ke.length),et=je?$e-1:0,tt=je?-1:1;if(Ze<2)for(;;){if(et in Je){Qe=Je[et],et+=tt;break}if(et+=tt,je?et<0:$e<=et)throw TypeError("Reduce of empty array with no initial value")}for(;je?0<=et:et<$e;et+=tt)et in Je&&(Qe=we(Qe,Je[et],et,Ke));return Qe}}var Se=je("../internals/a-function"),Te=je("../internals/to-object"),Ee=je("../internals/indexed-object"),Ye=je("../internals/to-length");xe.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(je,xe,we){var Se=je("../internals/is-object"),Te=je("../internals/is-array"),Ee=je("../internals/well-known-symbol")("species");xe.exports=function(je,xe){var we;return new(void 0===(we=Te(je)&&("function"==typeof(we=je.constructor)&&(we===Array||Te(we.prototype))||Se(we)&&null===(we=we[Ee]))?void 0:we)?Array:we)(0===xe?0:xe)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(je,xe,we){var Se=je("../internals/an-object");xe.exports=function(je,xe,we,Te){try{return Te?xe(Se(we)[0],we[1]):xe(we)}catch(xe){Te=je.return;throw void 0!==Te&&Se(Te.call(je)),xe}}},{"../internals/an-object":10}],27:[function(xe,we,Se){var Te=xe("../internals/well-known-symbol")("iterator"),Ee=!1;try{var Ye=0,Ze={next:function(){return{done:!!Ye++}},return:function(){Ee=!0}};Ze[Te]=function(){return this||je},Array.from(Ze,(function(){throw 2}))}catch(xe){}we.exports=function(je,xe){if(!xe&&!Ee)return!1;var we=!1;try{var Se={};Se[Te]=function(){return{next:function(){return{done:we=!0}}}},je(Se)}catch(je){}return we}},{"../internals/well-known-symbol":149}],28:[function(je,xe,we){var Se={}.toString;xe.exports=function(je){return Se.call(je).slice(8,-1)}},{}],29:[function(je,xe,we){var Se=je("../internals/to-string-tag-support"),Te=je("../internals/classof-raw"),Ee=je("../internals/well-known-symbol")("toStringTag"),Ye="Arguments"==Te(function(){return arguments}());xe.exports=Se?Te:function(je){var xe;return void 0===je?"Undefined":null===je?"Null":"string"==typeof(xe=function(je,xe){try{return je[xe]}catch(je){}}(je=Object(je),Ee))?xe:Ye?Te(je):"Object"==(xe=Te(je))&&"function"==typeof je.callee?"Arguments":xe}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(xe,we,Se){var Te=xe("../internals/object-define-property").f,Ee=xe("../internals/object-create"),Ye=xe("../internals/redefine-all"),Ze=xe("../internals/function-bind-context"),Qe=xe("../internals/an-instance"),Ke=xe("../internals/iterate"),Je=xe("../internals/define-iterator"),$e=xe("../internals/set-species"),et=xe("../internals/descriptors"),tt=xe("../internals/internal-metadata").fastKey,rt=(xe=xe("../internals/internal-state"),xe.set),ot=xe.getterFor;we.exports={getConstructor:function(xe,we,Se,Je){function s(je,xe,we){var Se,Te=nt(je),Ee=i(je,xe);return Ee?Ee.value=we:(Te.last=Ee={index:Se=tt(xe,!0),key:xe,value:we,previous:xe=Te.last,next:void 0,removed:!1},Te.first||(Te.first=Ee),xe&&(xe.next=Ee),et?Te.size++:je.size++,"F"!==Se&&(Te.index[Se]=Ee)),je}function i(je,xe){je=nt(je);var we,Se=tt(xe);if("F"!==Se)return je.index[Se];for(we=je.first;we;we=we.next)if(we.key==xe)return we}var $e=xe((function(je,xe){Qe(je,$e,we),rt(je,{type:we,index:Ee(null),first:void 0,last:void 0,size:0}),et||(je.size=0),null!=xe&&Ke(xe,je[Je],je,Se)})),nt=ot(we);return Ye($e.prototype,{clear:function(){for(var xe=nt(this||je),we=xe.index,Se=xe.first;Se;)Se.removed=!0,Se.previous&&(Se.previous=Se.previous.next=void 0),delete we[Se.index],Se=Se.next;xe.first=xe.last=void 0,et?xe.size=0:(this||je).size=0},delete:function(xe){var we,Se,Te=nt(this||je);xe=i(this||je,xe);return xe&&(we=xe.next,Se=xe.previous,delete Te.index[xe.index],xe.removed=!0,Se&&(Se.next=we),we&&(we.previous=Se),Te.first==xe&&(Te.first=we),Te.last==xe&&(Te.last=Se),et?Te.size--:(this||je).size--),!!xe},forEach:function(xe){for(var we,Se=nt(this||je),Te=Ze(xe,1<arguments.length?arguments[1]:void 0,3);we=we?we.next:Se.first;)for(Te(we.value,we.key,this||je);we&&we.removed;)we=we.previous},has:function(xe){return!!i(this||je,xe)}}),Ye($e.prototype,Se?{get:function(xe){xe=i(this||je,xe);return xe&&xe.value},set:function(xe,we){return s(this||je,0===xe?0:xe,we)}}:{add:function(xe){return s(this||je,xe=0===xe?0:xe,xe)}}),et&&Te($e.prototype,"size",{get:function(){return nt(this||je).size}}),$e},setStrong:function(xe,we,Se){var Te=we+" Iterator",Ee=ot(we),Ye=ot(Te);Je(xe,we,(function(xe,we){rt(this||je,{type:Te,target:xe,state:Ee(xe),kind:we,last:void 0})}),(function(){for(var xe=Ye(this||je),we=xe.kind,Se=xe.last;Se&&Se.removed;)Se=Se.previous;return xe.target&&(xe.last=Se=Se?Se.next:xe.state.first)?"keys"==we?{value:Se.key,done:!1}:"values"==we?{value:Se.value,done:!1}:{value:[Se.key,Se.value],done:!1}:{value:xe.target=void 0,done:!0}}),Se?"entries":"values",!Se,!0),$e(we)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(xe,we,Se){function l(je){return je.frozen||(je.frozen=new o)}function o(){(this||je).entries=[]}function n(je,xe){return rt(je.entries,(function(je){return je[0]===xe}))}var Te=xe("../internals/redefine-all"),Ee=xe("../internals/internal-metadata").getWeakData,Ye=xe("../internals/an-object"),Ze=xe("../internals/is-object"),Qe=xe("../internals/an-instance"),Ke=xe("../internals/iterate"),Je=xe("../internals/array-iteration"),$e=xe("../internals/has"),et=(xe=xe("../internals/internal-state"),xe.set),tt=xe.getterFor,rt=Je.find,ot=Je.findIndex,nt=0;o.prototype={get:function(xe){xe=n(this||je,xe);if(xe)return xe[1]},has:function(xe){return!!n(this||je,xe)},set:function(xe,we){var Se=n(this||je,xe);Se?Se[1]=we:(this||je).entries.push([xe,we])},delete:function(xe){var we=ot((this||je).entries,(function(je){return je[0]===xe}));return~we&&(this||je).entries.splice(we,1),!!~we}},we.exports={getConstructor:function(xe,we,Se,Je){function s(je,xe,we){var Se=ot(je),Te=Ee(Ye(xe),!0);return!0===Te?l(Se).set(xe,we):Te[Se.id]=we,je}var rt=xe((function(je,xe){Qe(je,rt,we),et(je,{type:we,id:nt++,frozen:void 0}),null!=xe&&Ke(xe,je[Je],je,Se)})),ot=tt(we);return Te(rt.prototype,{delete:function(xe){var we,Se=ot(this||je);return!!Ze(xe)&&(!0===(we=Ee(xe))?l(Se).delete(xe):we&&$e(we,Se.id)&&delete we[Se.id])},has:function(xe){var we,Se=ot(this||je);return!!Ze(xe)&&(!0===(we=Ee(xe))?l(Se).has(xe):we&&$e(we,Se.id))}}),Te(rt.prototype,Se?{get:function(xe){var we,Se=ot(this||je);if(Ze(xe))return!0===(we=Ee(xe))?l(Se).get(xe):we?we[Se.id]:void 0},set:function(xe,we){return s(this||je,xe,we)}}:{add:function(xe){return s(this||je,xe,!0)}}),rt}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/global"),Ye=xe("../internals/is-forced"),Ze=xe("../internals/redefine"),Qe=xe("../internals/internal-metadata"),Ke=xe("../internals/iterate"),Je=xe("../internals/an-instance"),$e=xe("../internals/is-object"),et=xe("../internals/fails"),tt=xe("../internals/check-correctness-of-iteration"),rt=xe("../internals/set-to-string-tag"),ot=xe("../internals/inherit-if-required");we.exports=function(xe,we,Se){function o(xe){var we=gt[xe];Ze(gt,xe,"add"==xe?function(xe){return we.call(this||je,0===xe?0:xe),this||je}:"delete"==xe?function(xe){return!(pt&&!$e(xe))&&we.call(this||je,0===xe?0:xe)}:"get"==xe?function(xe){return pt&&!$e(xe)?void 0:we.call(this||je,0===xe?0:xe)}:"has"==xe?function(xe){return!(pt&&!$e(xe))&&we.call(this||je,0===xe?0:xe)}:function(xe,Se){return we.call(this||je,0===xe?0:xe,Se),this||je})}var nt,st,it,dt,ht,ft=-1!==xe.indexOf("Map"),pt=-1!==xe.indexOf("Weak"),mt=ft?"set":"add",yt=Ee[xe],gt=yt&&yt.prototype,wt=yt,Dt={};return Ye(xe,"function"!=typeof yt||!(pt||gt.forEach&&!et((function(){(new yt).entries().next()}))))?(wt=Se.getConstructor(we,xe,ft,mt),Qe.REQUIRED=!0):Ye(xe,!0)&&(st=(nt=new wt)[mt](pt?{}:-0,1)!=nt,it=et((function(){nt.has(1)})),dt=tt((function(je){new yt(je)})),ht=!pt&&et((function(){for(var je=new yt,xe=5;xe--;)je[mt](xe,xe);return!je.has(-0)})),dt||(((wt=we((function(je,we){Je(je,wt,xe);je=ot(new yt,je,wt);return null!=we&&Ke(we,je[mt],je,ft),je}))).prototype=gt).constructor=wt),(it||ht)&&(o("delete"),o("has"),ft&&o("get")),(ht||st)&&o(mt),pt&&gt.clear&&delete gt.clear),Dt[xe]=wt,Te({global:!0,forced:wt!=yt},Dt),rt(wt,xe),pt||Se.setStrong(wt,xe,ft),wt}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(je,xe,we){var Se=je("../internals/has"),Te=je("../internals/own-keys"),Ee=je("../internals/object-get-own-property-descriptor"),Ye=je("../internals/object-define-property");xe.exports=function(je,xe){for(var we=Te(xe),Ze=Ye.f,Qe=Ee.f,Ke=0;Ke<we.length;Ke++){var Je=we[Ke];Se(je,Je)||Ze(je,Je,Qe(xe,Je))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(je,xe,we){var Se=je("../internals/well-known-symbol")("match");xe.exports=function(je){var xe=/./;try{"/./"[je](xe)}catch(we){try{return xe[Se]=!1,"/./"[je](xe)}catch(je){}}return!1}},{"../internals/well-known-symbol":149}],35:[function(je,xe,we){je=je("../internals/fails");xe.exports=!je((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":51}],36:[function(je,xe,we){var Se=je("../internals/require-object-coercible"),Te=/"/g;xe.exports=function(je,xe,we,Ee){je=String(Se(je));var Ye="<"+xe;return""!==we&&(Ye+=" "+we+'="'+String(Ee).replace(Te,"&quot;")+'"'),Ye+">"+je+"</"+xe+">"}},{"../internals/require-object-coercible":114}],37:[function(xe,we,Se){function o(){return this||je}var Te=xe("../internals/iterators-core").IteratorPrototype,Ee=xe("../internals/object-create"),Ye=xe("../internals/create-property-descriptor"),Ze=xe("../internals/set-to-string-tag"),Qe=xe("../internals/iterators");we.exports=function(je,xe,we){xe+=" Iterator";return je.prototype=Ee(Te,{next:Ye(1,we)}),Ze(je,xe,!1,!0),Qe[xe]=o,je}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(je,xe,we){var Se=je("../internals/descriptors"),Te=je("../internals/object-define-property"),Ee=je("../internals/create-property-descriptor");xe.exports=Se?function(je,xe,we){return Te.f(je,xe,Ee(1,we))}:function(je,xe,we){return je[xe]=we,je}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(je,xe,we){xe.exports=function(je,xe){return{enumerable:!(1&je),configurable:!(2&je),writable:!(4&je),value:xe}}},{}],40:[function(je,xe,we){var Se=je("../internals/to-primitive"),Te=je("../internals/object-define-property"),Ee=je("../internals/create-property-descriptor");xe.exports=function(je,xe,we){xe=Se(xe);xe in je?Te.f(je,xe,Ee(0,we)):je[xe]=we}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(xe,we,Se){function m(){return this||je}var Te=xe("../internals/export"),Ee=xe("../internals/create-iterator-constructor"),Ye=xe("../internals/object-get-prototype-of"),Ze=xe("../internals/object-set-prototype-of"),Qe=xe("../internals/set-to-string-tag"),Ke=xe("../internals/create-non-enumerable-property"),Je=xe("../internals/redefine"),$e=xe("../internals/well-known-symbol"),et=xe("../internals/is-pure"),tt=xe("../internals/iterators"),rt=(xe=xe("../internals/iterators-core"),xe.IteratorPrototype),ot=xe.BUGGY_SAFARI_ITERATORS,nt=$e("iterator"),st="values",it="entries";we.exports=function(xe,we,Se,$e,dt,ht,ft){Ee(Se,we,$e);function a(xe){if(xe===dt&&Dt)return Dt;if(!ot&&xe in gt)return gt[xe];switch(xe){case"keys":case st:case it:return function(){return new Se(this||je,xe)}}return function(){return new Se(this||je)}}$e=we+" Iterator";var pt,mt,yt=!1,gt=xe.prototype,wt=gt[nt]||gt["@@iterator"]||dt&&gt[dt],Dt=!ot&&wt||a(dt),Xt="Array"==we&&gt.entries||wt;if(Xt&&(Xt=Ye(Xt.call(new xe)),rt!==Object.prototype&&Xt.next&&(et||Ye(Xt)===rt||(Ze?Ze(Xt,rt):"function"!=typeof Xt[nt]&&Ke(Xt,nt,m)),Qe(Xt,$e,!0,!0),et&&(tt[$e]=m))),dt==st&&wt&&wt.name!==st&&(yt=!0,Dt=function(){return wt.call(this||je)}),et&&!ft||gt[nt]===Dt||Ke(gt,nt,Dt),tt[we]=Dt,dt)if(pt={values:a(st),keys:ht?Dt:a("keys"),entries:a(it)},ft)for(mt in pt)!ot&&!yt&&mt in gt||Je(gt,mt,pt[mt]);else Te({target:we,proto:!0,forced:ot||yt},pt);return pt}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(je,xe,we){var Se=je("../internals/path"),Te=je("../internals/has"),Ee=je("../internals/well-known-symbol-wrapped"),Ye=je("../internals/object-define-property").f;xe.exports=function(je){var xe=Se.Symbol||(Se.Symbol={});Te(xe,je)||Ye(xe,je,{value:Ee.f(je)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(je,xe,we){je=je("../internals/fails");xe.exports=!je((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":51}],44:[function(je,xe,we){var Se=je("../internals/global"),Te=(je=je("../internals/is-object"),Se.document),Ee=je(Te)&&je(Te.createElement);xe.exports=function(je){return Ee?Te.createElement(je):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(je,xe,we){xe.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(je,xe,we){je=je("../internals/engine-user-agent");xe.exports=/(iphone|ipod|ipad).*applewebkit/i.test(je)},{"../internals/engine-user-agent":47}],47:[function(je,xe,we){je=je("../internals/get-built-in");xe.exports=je("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(je,xe,we){var Se,Te,Ee=je("../internals/global");je=je("../internals/engine-user-agent"),Ee=Ee.process,Ee=Ee&&Ee.versions,Ee=Ee&&Ee.v8;Ee?Te=(Se=Ee.split("."))[0]+Se[1]:je&&(!(Se=je.match(/Edge\/(\d+)/))||74<=Se[1])&&(Se=je.match(/Chrome\/(\d+)/))&&(Te=Se[1]),xe.exports=Te&&+Te},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(je,xe,we){xe.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(je,xe,we){var Se=je("../internals/global"),Te=je("../internals/object-get-own-property-descriptor").f,Ee=je("../internals/create-non-enumerable-property"),Ye=je("../internals/redefine"),Ze=je("../internals/set-global"),Qe=je("../internals/copy-constructor-properties"),Ke=je("../internals/is-forced");xe.exports=function(je,xe){var we,Je,$e,et=je.target,tt=je.global,rt=je.stat,ot=tt?Se:rt?Se[et]||Ze(et,{}):(Se[et]||{}).prototype;if(ot)for(we in xe){if(Je=xe[we],$e=je.noTargetGet?($e=Te(ot,we))&&$e.value:ot[we],!Ke(tt?we:et+(rt?".":"#")+we,je.forced)&&void 0!==$e){if(typeof Je==typeof $e)continue;Qe(Je,$e)}(je.sham||$e&&$e.sham)&&Ee(Je,"sham",!0),Ye(ot,we,Je,je)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(je,xe,we){xe.exports=function(je){try{return!!je()}catch(je){return!0}}},{}],52:[function(xe,we,Se){xe("../modules/es.regexp.exec");var Te=xe("../internals/redefine"),Ee=xe("../internals/fails"),Ye=xe("../internals/well-known-symbol"),Ze=xe("../internals/regexp-exec"),Qe=xe("../internals/create-non-enumerable-property"),Ke=Ye("species"),Je=!Ee((function(){var je=/./;return je.exec=function(){var je=[];return je.groups={a:"7"},je},"7"!=="".replace(je,"$<a>")})),$e="$0"==="a".replace(/./,"$0"),et=(xe=Ye("replace"),!!/./[xe]&&""===/./[xe]("a","$0")),tt=!Ee((function(){var xe=/(?:)/,we=xe.exec;xe=(xe.exec=function(){return we.apply(this||je,arguments)},"ab".split(xe));return 2!==xe.length||"a"!==xe[0]||"b"!==xe[1]}));we.exports=function(xe,we,Se,rt){var ot,nt,st=Ye(xe),it=!Ee((function(){var je={};return je[st]=function(){return 7},7!=""[xe](je)})),dt=it&&!Ee((function(){var je=!1,we=/a/;return"split"===xe&&((we={constructor:{}}).constructor[Ke]=function(){return we},we.flags="",we[st]=/./[st]),we.exec=function(){return je=!0,null},we[st](""),!je}));it&&dt&&("replace"!==xe||Je&&$e&&!et)&&("split"!==xe||tt)||(ot=/./[st],Se=(dt=Se(st,""[xe],(function(je,xe,we,Se,Te){return xe.exec===Ze?it&&!Te?{done:!0,value:ot.call(xe,we,Se)}:{done:!0,value:je.call(we,xe,Se)}:{done:!1}}),{REPLACE_KEEPS_$0:$e,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:et}))[0],nt=dt[1],Te(String.prototype,xe,Se),Te(RegExp.prototype,st,2==we?function(xe,we){return nt.call(xe,this||je,we)}:function(xe){return nt.call(xe,this||je)})),rt&&Qe(RegExp.prototype[st],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(je,xe,we){function h(je,xe,we,Ye,Ze,Qe,Ke,Je){for(var $e,et=Ze,tt=0,rt=!!Ke&&Ee(Ke,Je,3);tt<Ye;){if(tt in we){if($e=rt?rt(we[tt],tt,xe):we[tt],0<Qe&&Se($e))et=h(je,xe,$e,Te($e.length),et,Qe-1)-1;else{if(9007199254740991<=et)throw TypeError("Exceed the acceptable array length");je[et]=$e}et++}tt++}return et}var Se=je("../internals/is-array"),Te=je("../internals/to-length"),Ee=je("../internals/function-bind-context");xe.exports=h},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(je,xe,we){je=je("../internals/fails");xe.exports=!je((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":51}],55:[function(je,xe,we){var Se=je("../internals/a-function");xe.exports=function(je,xe,we){if(Se(je),void 0===xe)return je;switch(we){case 0:return function(){return je.call(xe)};case 1:return function(we){return je.call(xe,we)};case 2:return function(we,Se){return je.call(xe,we,Se)};case 3:return function(we,Se,Te){return je.call(xe,we,Se,Te)}}return function(){return je.apply(xe,arguments)}}},{"../internals/a-function":5}],56:[function(xe,we,Se){var Te=xe("../internals/a-function"),Ee=xe("../internals/is-object"),Ye=[].slice,Ze={};we.exports=Function.bind||function(xe){var we=Te(this||je),Se=Ye.call(arguments,1),u=function(){var Te=Se.concat(Ye.call(arguments));if((this||je)instanceof u){var Ee=we,Qe=Te.length,Ke=Te;if(!(Qe in Ze)){for(var Je=[],$e=0;$e<Qe;$e++)Je[$e]="a["+$e+"]";Ze[Qe]=Function("C,a","return new C("+Je.join(",")+")")}return Ze[Qe](Ee,Ke)}return we.apply(xe,Te)};return Ee(we.prototype)&&(u.prototype=we.prototype),u}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(je,xe,we){function o(je){return"function"==typeof je?je:void 0}var Se=je("../internals/path"),Te=je("../internals/global");xe.exports=function(je,xe){return arguments.length<2?o(Se[je])||o(Te[je]):Se[je]&&Se[je][xe]||Te[je]&&Te[je][xe]}},{"../internals/global":60,"../internals/path":105}],58:[function(je,xe,we){var Se=je("../internals/classof"),Te=je("../internals/iterators"),Ee=je("../internals/well-known-symbol")("iterator");xe.exports=function(je){if(null!=je)return je[Ee]||je["@@iterator"]||Te[Se(je)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(je,xe,we){var Se=je("../internals/an-object"),Te=je("../internals/get-iterator-method");xe.exports=function(je){var xe=Te(je);if("function"!=typeof xe)throw TypeError(String(je)+" is not iterable");return Se(xe.call(je))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(xe,we,Se){!function(je){function t(je){return je&&je.Math==Math&&je}we.exports=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof je&&je)||Function("return this")()}.call(this||je,"undefined"!=typeof je?je:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(je,xe,we){var Se={}.hasOwnProperty;xe.exports=function(je,xe){return Se.call(je,xe)}},{}],62:[function(je,xe,we){xe.exports={}},{}],63:[function(je,xe,we){var Se=je("../internals/global");xe.exports=function(je,xe){var we=Se.console;we&&we.error&&(1===arguments.length?we.error(je):we.error(je,xe))}},{"../internals/global":60}],64:[function(je,xe,we){je=je("../internals/get-built-in");xe.exports=je("document","documentElement")},{"../internals/get-built-in":57}],65:[function(je,xe,we){var Se=je("../internals/descriptors"),Te=je("../internals/fails"),Ee=je("../internals/document-create-element");xe.exports=!Se&&!Te((function(){return 7!=Object.defineProperty(Ee("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(je,xe,we){var Se=Math.abs,Te=Math.pow,Ee=Math.floor,Ye=Math.log,Ze=Math.LN2;xe.exports={pack:function(je,xe,we){var Qe,Ke,Je,$e=new Array(we),et=8*we-xe-1,tt=(we=(1<<et)-1,we>>1),rt=23===xe?Te(2,-24)-Te(2,-77):0,ot=je<0||0===je&&1/je<0?1:0,nt=0;for((je=Se(je))!=je||je===1/0?(Ke=je!=je?1:0,Qe=we):(Qe=Ee(Ye(je)/Ze),je*(Je=Te(2,-Qe))<1&&(Qe--,Je*=2),2<=(je+=1<=Qe+tt?rt/Je:rt*Te(2,1-tt))*Je&&(Qe++,Je/=2),we<=Qe+tt?(Ke=0,Qe=we):1<=Qe+tt?(Ke=(je*Je-1)*Te(2,xe),Qe+=tt):(Ke=je*Te(2,tt-1)*Te(2,xe),Qe=0));8<=xe;$e[nt++]=255&Ke,Ke/=256,xe-=8);for(Qe=Qe<<xe|Ke,et+=xe;0<et;$e[nt++]=255&Qe,Qe/=256,et-=8);return $e[--nt]|=128*ot,$e},unpack:function(je,xe){var we,Se=je.length,Ee=8*Se-xe-1,Ye=(1<<Ee)-1,Ze=Ye>>1,Qe=Ee-7,Ke=Se-1,Je=(Ee=je[Ke--],127&Ee);for(Ee>>=7;0<Qe;Je=256*Je+je[Ke],Ke--,Qe-=8);for(we=Je&(1<<-Qe)-1,Je>>=-Qe,Qe+=xe;0<Qe;we=256*we+je[Ke],Ke--,Qe-=8);if(0===Je)Je=1-Ze;else{if(Je===Ye)return we?NaN:Ee?-1/0:1/0;we+=Te(2,xe),Je-=Ze}return(Ee?-1:1)*we*Te(2,Je-xe)}}},{}],67:[function(je,xe,we){var Se=je("../internals/fails"),Te=je("../internals/classof-raw"),Ee="".split;xe.exports=Se((function(){return!Object("z").propertyIsEnumerable(0)}))?function(je){return"String"==Te(je)?Ee.call(je,""):Object(je)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(je,xe,we){var Se=je("../internals/is-object"),Te=je("../internals/object-set-prototype-of");xe.exports=function(je,xe,we){return Te&&"function"==typeof(xe=xe.constructor)&&xe!==we&&Se(xe=xe.prototype)&&xe!==we.prototype&&Te(je,xe),je}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(je,xe,we){je=je("../internals/shared-store");var Se=Function.toString;"function"!=typeof je.inspectSource&&(je.inspectSource=function(je){return Se.call(je)}),xe.exports=je.inspectSource},{"../internals/shared-store":120}],70:[function(je,xe,we){function o(je){Ye(je,Ke,{value:{objectID:"O"+ ++Je,weakData:{}}})}var Se=je("../internals/hidden-keys"),Te=je("../internals/is-object"),Ee=je("../internals/has"),Ye=je("../internals/object-define-property").f,Ze=je("../internals/uid"),Qe=je("../internals/freezing"),Ke=Ze("meta"),Je=0,$e=Object.isExtensible||function(){return!0},et=xe.exports={REQUIRED:!1,fastKey:function(je,xe){if(!Te(je))return"symbol"==typeof je?je:("string"==typeof je?"S":"P")+je;if(!Ee(je,Ke)){if(!$e(je))return"F";if(!xe)return"E";o(je)}return je[Ke].objectID},getWeakData:function(je,xe){if(!Ee(je,Ke)){if(!$e(je))return!0;if(!xe)return!1;o(je)}return je[Ke].weakData},onFreeze:function(je){return Qe&&et.REQUIRED&&$e(je)&&!Ee(je,Ke)&&o(je),je}};Se[Ke]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(je,xe,we){var Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e=je("../internals/native-weak-map"),et=je("../internals/global"),tt=je("../internals/is-object"),rt=je("../internals/create-non-enumerable-property"),ot=je("../internals/has"),nt=je("../internals/shared-key");je=je("../internals/hidden-keys"),et=et.WeakMap;Ke=$e?(Se=new et,Te=Se.get,Ee=Se.has,Ye=Se.set,Ze=function(je,xe){return Ye.call(Se,je,xe),xe},Qe=function(je){return Te.call(Se,je)||{}},function(je){return Ee.call(Se,je)}):(je[Je=nt("state")]=!0,Ze=function(je,xe){return rt(je,Je,xe),xe},Qe=function(je){return ot(je,Je)?je[Je]:{}},function(je){return ot(je,Je)}),xe.exports={set:Ze,get:Qe,has:Ke,enforce:function(je){return Ke(je)?Qe(je):Ze(je,{})},getterFor:function(je){return function(xe){if(tt(xe)&&(xe=Qe(xe)).type===je)return xe;throw TypeError("Incompatible receiver, "+je+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(je,xe,we){var Se=je("../internals/well-known-symbol"),Te=je("../internals/iterators"),Ee=Se("iterator"),Ye=Array.prototype;xe.exports=function(je){return void 0!==je&&(Te.Array===je||Ye[Ee]===je)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(je,xe,we){var Se=je("../internals/classof-raw");xe.exports=Array.isArray||function(je){return"Array"==Se(je)}},{"../internals/classof-raw":28}],74:[function(je,xe,we){function o(je,xe){return(je=Ye[Ee(je)])==Qe||je!=Ze&&("function"==typeof xe?Se(xe):!!xe)}var Se=je("../internals/fails"),Te=/#|\.prototype\./,Ee=o.normalize=function(je){return String(je).replace(Te,".").toLowerCase()},Ye=o.data={},Ze=o.NATIVE="N",Qe=o.POLYFILL="P";xe.exports=o},{"../internals/fails":51}],75:[function(je,xe,we){xe.exports=function(je){return"object"==typeof je?null!==je:"function"==typeof je}},{}],76:[function(je,xe,we){xe.exports=!1},{}],77:[function(je,xe,we){var Se=je("../internals/is-object"),Te=je("../internals/classof-raw"),Ee=je("../internals/well-known-symbol")("match");xe.exports=function(je){var xe;return Se(je)&&(void 0!==(xe=je[Ee])?!!xe:"RegExp"==Te(je))}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(xe,we,Se){function h(xe,we){(this||je).stopped=xe,(this||je).result=we}var Te=xe("../internals/an-object"),Ee=xe("../internals/is-array-iterator-method"),Ye=xe("../internals/to-length"),Ze=xe("../internals/function-bind-context"),Qe=xe("../internals/get-iterator-method"),Ke=xe("../internals/call-with-safe-iteration-closing");(we.exports=function(je,xe,we,Se,Je){var $e,et,tt,rt,ot,nt,st=Ze(xe,we,Se?2:1);if(Je)$e=je;else{if("function"!=typeof(xe=Qe(je)))throw TypeError("Target is not iterable");if(Ee(xe)){for(et=0,tt=Ye(je.length);et<tt;et++)if((rt=Se?st(Te(nt=je[et])[0],nt[1]):st(je[et]))&&rt instanceof h)return rt;return new h(!1)}$e=xe.call(je)}for(ot=$e.next;!(nt=ot.call($e)).done;)if("object"==typeof(rt=Ke($e,st,nt.value,Se))&&rt&&rt instanceof h)return rt;return new h(!1)}).stop=function(je){return new h(!0,je)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(xe,we,Se){var Te,Ee,Ye=xe("../internals/object-get-prototype-of"),Ze=xe("../internals/create-non-enumerable-property"),Qe=xe("../internals/has"),Ke=xe("../internals/well-known-symbol"),Je=(xe=xe("../internals/is-pure"),Ke=Ke("iterator"),!1);[].keys&&("next"in(Ee=[].keys())?(Ye=Ye(Ye(Ee)))!==Object.prototype&&(Te=Ye):Je=!0),null==Te&&(Te={}),xe||Qe(Te,Ke)||Ze(Te,Ke,(function(){return this||je})),we.exports={IteratorPrototype:Te,BUGGY_SAFARI_ITERATORS:Je}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(je,xe,we){xe.exports={}},{}],81:[function(je,xe,we){xe.exports=Math.sign||function(je){return 0==(je=+je)||je!=je?je:je<0?-1:1}},{}],82:[function(je,xe,we){var Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e=je("../internals/global"),et=je("../internals/object-get-own-property-descriptor").f,tt=je("../internals/classof-raw"),rt=je("../internals/task").set,ot=(je=je("../internals/engine-is-ios"),$e.MutationObserver||$e.WebKitMutationObserver),nt=$e.process,st=$e.Promise,it="process"==tt(nt);tt=et($e,"queueMicrotask"),et=tt&&tt.value;et||(Se=function(){var je,xe;for(it&&(je=nt.domain)&&je.exit();Te;){xe=Te.fn,Te=Te.next;try{xe()}catch(je){throw Te?Ye():Ee=void 0,je}}Ee=void 0,je&&je.enter()},Ye=it?function(){nt.nextTick(Se)}:ot&&!je?(Ze=!0,Qe=document.createTextNode(""),new ot(Se).observe(Qe,{characterData:!0}),function(){Qe.data=Ze=!Ze}):st&&st.resolve?(Ke=st.resolve(void 0),Je=Ke.then,function(){Je.call(Ke,Se)}):function(){rt.call($e,Se)}),xe.exports=et||function(je){je={fn:je,next:void 0};Ee&&(Ee.next=je),Te||(Te=je,Ye()),Ee=je}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(je,xe,we){je=je("../internals/global");xe.exports=je.Promise},{"../internals/global":60}],84:[function(je,xe,we){je=je("../internals/fails");xe.exports=!!Object.getOwnPropertySymbols&&!je((function(){return!String(Symbol())}))},{"../internals/fails":51}],85:[function(je,xe,we){var Se=je("../internals/fails"),Te=je("../internals/well-known-symbol"),Ee=je("../internals/is-pure"),Ye=Te("iterator");xe.exports=!Se((function(){var je=new URL("b?a=1&b=2&c=3","http://a"),xe=je.searchParams,we="";return je.pathname="c%20d",xe.forEach((function(je,Se){xe.delete("b"),we+=Se+je})),Ee&&!je.toJSON||!xe.sort||"http://a/c%20d?a=1&c=3"!==je.href||"3"!==xe.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!xe[Ye]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==we||"x"!==new URL("http://x",void 0).host}))},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(je,xe,we){var Se=je("../internals/global");je=je("../internals/inspect-source"),Se=Se.WeakMap;xe.exports="function"==typeof Se&&/native code/.test(je(Se))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(xe,we,Se){function o(xe){var we,Se;(this||je).promise=new xe((function(je,xe){if(void 0!==we||void 0!==Se)throw TypeError("Bad Promise constructor");we=je,Se=xe})),(this||je).resolve=Te(we),(this||je).reject=Te(Se)}var Te=xe("../internals/a-function");we.exports.f=function(je){return new o(je)}},{"../internals/a-function":5}],88:[function(je,xe,we){var Se=je("../internals/is-regexp");xe.exports=function(je){if(Se(je))throw TypeError("The method doesn't accept regular expressions");return je}},{"../internals/is-regexp":77}],89:[function(je,xe,we){var Se=je("../internals/global").isFinite;xe.exports=Number.isFinite||function(je){return"number"==typeof je&&Se(je)}},{"../internals/global":60}],90:[function(xe,we,Se){var Te=xe("../internals/descriptors"),Ee=xe("../internals/fails"),Ye=xe("../internals/object-keys"),Ze=xe("../internals/object-get-own-property-symbols"),Qe=xe("../internals/object-property-is-enumerable"),Ke=xe("../internals/to-object"),Je=xe("../internals/indexed-object"),$e=Object.assign,et=Object.defineProperty;we.exports=!$e||Ee((function(){var xe,we,Se,Ee;return!(!Te||1===$e({b:1},$e(et({},"a",{enumerable:!0,get:function(){et(this||je,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(we={},Ee="abcdefghijklmnopqrst",(xe={})[Se=Symbol()]=7,Ee.split("").forEach((function(je){we[je]=je})),7!=$e({},xe)[Se]||Ye($e({},we)).join("")!=Ee)}))?function(je,xe){for(var we=Ke(je),Se=arguments.length,Ee=1,$e=Ze.f,et=Qe.f;Ee<Se;)for(var tt,rt=Je(arguments[Ee++]),ot=$e?Ye(rt).concat($e(rt)):Ye(rt),nt=ot.length,st=0;st<nt;)tt=ot[st++],Te&&!et.call(rt,tt)||(we[tt]=rt[tt]);return we}:$e},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(je,xe,we){function o(){}var Se,Te=je("../internals/an-object"),Ee=je("../internals/object-define-properties"),Ye=je("../internals/enum-bug-keys"),Ze=je("../internals/hidden-keys"),Qe=je("../internals/html"),Ke=je("../internals/document-create-element"),Je=(je=je("../internals/shared-key"),"prototype"),$e="script",et=je("IE_PROTO"),p=function(je){return"<"+$e+">"+je+"</"+$e+">"},m=function(){try{Se=document.domain&&new ActiveXObject("htmlfile")}catch(je){}m=Se?((je=Se).write(p("")),je.close(),xe=je.parentWindow.Object,je=null,xe):(je=Ke("iframe"),xe="java"+$e+":",je.style.display="none",Qe.appendChild(je),je.src=String(xe),(xe=je.contentWindow.document).open(),xe.write(p("document.F=Object")),xe.close(),xe.F);for(var je,xe,we=Ye.length;we--;)delete m[Je][Ye[we]];return m()};Ze[et]=!0,xe.exports=Object.create||function(je,xe){var we;return null!==je?(o[Je]=Te(je),we=new o,o[Je]=null,we[et]=je):we=m(),void 0===xe?we:Ee(we,xe)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(je,xe,we){var Se=je("../internals/descriptors"),Te=je("../internals/object-define-property"),Ee=je("../internals/an-object"),Ye=je("../internals/object-keys");xe.exports=Se?Object.defineProperties:function(je,xe){Ee(je);for(var we,Se=Ye(xe),Ze=Se.length,Qe=0;Qe<Ze;)Te.f(je,we=Se[Qe++],xe[we]);return je}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(je,xe,we){var Se=je("../internals/descriptors"),Te=je("../internals/ie8-dom-define"),Ee=je("../internals/an-object"),Ye=je("../internals/to-primitive"),Ze=Object.defineProperty;we.f=Se?Ze:function(je,xe,we){if(Ee(je),xe=Ye(xe,!0),Ee(we),Te)try{return Ze(je,xe,we)}catch(je){}if("get"in we||"set"in we)throw TypeError("Accessors not supported");return"value"in we&&(je[xe]=we.value),je}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(je,xe,we){var Se=je("../internals/descriptors"),Te=je("../internals/object-property-is-enumerable"),Ee=je("../internals/create-property-descriptor"),Ye=je("../internals/to-indexed-object"),Ze=je("../internals/to-primitive"),Qe=je("../internals/has"),Ke=je("../internals/ie8-dom-define"),Je=Object.getOwnPropertyDescriptor;we.f=Se?Je:function(je,xe){if(je=Ye(je),xe=Ze(xe,!0),Ke)try{return Je(je,xe)}catch(je){}if(Qe(je,xe))return Ee(!Te.f.call(je,xe),je[xe])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(je,xe,we){var Se=je("../internals/to-indexed-object"),Te=je("../internals/object-get-own-property-names").f,Ee={}.toString,Ye="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];xe.exports.f=function(je){if(!Ye||"[object Window]"!=Ee.call(je))return Te(Se(je));try{return Te(je)}catch(je){return Ye.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(je,xe,we){var Se=je("../internals/object-keys-internal"),Te=je("../internals/enum-bug-keys").concat("length","prototype");we.f=Object.getOwnPropertyNames||function(je){return Se(je,Te)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(je,xe,we){we.f=Object.getOwnPropertySymbols},{}],98:[function(je,xe,we){var Se=je("../internals/has"),Te=je("../internals/to-object"),Ee=je("../internals/shared-key"),Ye=(je=je("../internals/correct-prototype-getter"),Ee("IE_PROTO")),Ze=Object.prototype;xe.exports=je?Object.getPrototypeOf:function(je){return je=Te(je),Se(je,Ye)?je[Ye]:"function"==typeof je.constructor&&je instanceof je.constructor?je.constructor.prototype:je instanceof Object?Ze:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(je,xe,we){var Se=je("../internals/has"),Te=je("../internals/to-indexed-object"),Ee=je("../internals/array-includes").indexOf,Ye=je("../internals/hidden-keys");xe.exports=function(je,xe){var we,Ze=Te(je),Qe=0,Ke=[];for(we in Ze)!Se(Ye,we)&&Se(Ze,we)&&Ke.push(we);for(;xe.length>Qe;)!Se(Ze,we=xe[Qe++])||~Ee(Ke,we)||Ke.push(we);return Ke}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(je,xe,we){var Se=je("../internals/object-keys-internal"),Te=je("../internals/enum-bug-keys");xe.exports=Object.keys||function(je){return Se(je,Te)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(xe,we,Se){var Te={}.propertyIsEnumerable,Ee=Object.getOwnPropertyDescriptor,Ye=Ee&&!Te.call({1:2},1);Se.f=Ye?function(xe){xe=Ee(this||je,xe);return!!xe&&xe.enumerable}:Te},{}],102:[function(je,xe,we){var Se=je("../internals/an-object"),Te=je("../internals/a-possible-prototype");xe.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var je,xe=!1,we={};try{(je=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(we,[]),xe=we instanceof Array}catch(we){}return function(we,Ee){return Se(we),Te(Ee),xe?je.call(we,Ee):we.__proto__=Ee,we}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(xe,we,Se){var Te=xe("../internals/to-string-tag-support"),Ee=xe("../internals/classof");we.exports=Te?{}.toString:function(){return"[object "+Ee(this||je)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(je,xe,we){var Se=je("../internals/get-built-in"),Te=je("../internals/object-get-own-property-names"),Ee=je("../internals/object-get-own-property-symbols"),Ye=je("../internals/an-object");xe.exports=Se("Reflect","ownKeys")||function(je){var xe=Te.f(Ye(je)),we=Ee.f;return we?xe.concat(we(je)):xe}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(je,xe,we){je=je("../internals/global");xe.exports=je},{"../internals/global":60}],106:[function(je,xe,we){xe.exports=function(je){try{return{error:!1,value:je()}}catch(je){return{error:!0,value:je}}}},{}],107:[function(je,xe,we){var Se=je("../internals/an-object"),Te=je("../internals/is-object"),Ee=je("../internals/new-promise-capability");xe.exports=function(je,xe){return Se(je),Te(xe)&&xe.constructor===je?xe:((0,(je=Ee.f(je)).resolve)(xe),je.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(je,xe,we){var Se=je("../internals/redefine");xe.exports=function(je,xe,we){for(var Te in xe)Se(je,Te,xe[Te],we);return je}},{"../internals/redefine":109}],109:[function(xe,we,Se){var Te=xe("../internals/global"),Ee=xe("../internals/create-non-enumerable-property"),Ye=xe("../internals/has"),Ze=xe("../internals/set-global"),Qe=xe("../internals/inspect-source"),Ke=(xe=xe("../internals/internal-state"),xe.get),Je=xe.enforce,$e=String(String).split("String");(we.exports=function(je,xe,we,Se){var Qe=!!Se&&!!Se.unsafe,Ke=!!Se&&!!Se.enumerable;Se=!!Se&&!!Se.noTargetGet;"function"==typeof we&&("string"!=typeof xe||Ye(we,"name")||Ee(we,"name",xe),Je(we).source=$e.join("string"==typeof xe?xe:"")),je===Te?Ke?je[xe]=we:Ze(xe,we):(Qe?!Se&&je[xe]&&(Ke=!0):delete je[xe],Ke?je[xe]=we:Ee(je,xe,we))})(Function.prototype,"toString",(function(){return"function"==typeof(this||je)&&Ke(this||je).source||Qe(this||je)}))},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(je,xe,we){var Se=je("./classof-raw"),Te=je("./regexp-exec");xe.exports=function(je,xe){var we=je.exec;if("function"==typeof we){we=we.call(je,xe);if("object"!=typeof we)throw TypeError("RegExp exec method returned something other than an Object or null");return we}if("RegExp"!==Se(je))throw TypeError("RegExp#exec called on incompatible receiver");return Te.call(je,xe)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(xe,we,Se){var Te,Ee,Ye=xe("./regexp-flags"),Ze=(xe=xe("./regexp-sticky-helpers"),RegExp.prototype.exec),Qe=String.prototype.replace,Ke=Ze,Je=(Te=/a/,Ee=/b*/g,Ze.call(Te,"a"),Ze.call(Ee,"a"),0!==Te.lastIndex||0!==Ee.lastIndex),$e=xe.UNSUPPORTED_Y||xe.BROKEN_CARET,et=void 0!==/()??/.exec("")[1];we.exports=Ke=Je||et||$e?function(xe){var we,Se,Te,Ee,Ke=this||je,tt=$e&&Ke.sticky,rt=Ye.call(Ke),ot=Ke.source,nt=0,st=xe;return tt&&(-1===(rt=rt.replace("y","")).indexOf("g")&&(rt+="g"),st=String(xe).slice(Ke.lastIndex),0<Ke.lastIndex&&(!Ke.multiline||Ke.multiline&&"\n"!==xe[Ke.lastIndex-1])&&(ot="(?: "+ot+")",st=" "+st,nt++),Se=new RegExp("^(?:"+ot+")",rt)),et&&(Se=new RegExp("^"+ot+"$(?!\\s)",rt)),Je&&(we=Ke.lastIndex),Te=Ze.call(tt?Se:Ke,st),tt?Te?(Te.input=Te.input.slice(nt),Te[0]=Te[0].slice(nt),Te.index=Ke.lastIndex,Ke.lastIndex+=Te[0].length):Ke.lastIndex=0:Je&&Te&&(Ke.lastIndex=Ke.global?Te.index+Te[0].length:we),et&&Te&&1<Te.length&&Qe.call(Te[0],Se,(function(){for(Ee=1;Ee<arguments.length-2;Ee++)void 0===arguments[Ee]&&(Te[Ee]=void 0)})),Te}:Ke},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(xe,we,Se){var Te=xe("../internals/an-object");we.exports=function(){var xe=Te(this||je),we="";return xe.global&&(we+="g"),xe.ignoreCase&&(we+="i"),xe.multiline&&(we+="m"),xe.dotAll&&(we+="s"),xe.unicode&&(we+="u"),xe.sticky&&(we+="y"),we}},{"../internals/an-object":10}],113:[function(je,xe,we){je=je("./fails");function o(je,xe){return RegExp(je,xe)}we.UNSUPPORTED_Y=je((function(){var je=o("a","y");return je.lastIndex=2,null!=je.exec("abcd")})),we.BROKEN_CARET=je((function(){var je=o("^r","gy");return je.lastIndex=2,null!=je.exec("str")}))},{"./fails":51}],114:[function(je,xe,we){xe.exports=function(je){if(null==je)throw TypeError("Can't call method on "+je);return je}},{}],115:[function(je,xe,we){xe.exports=Object.is||function(je,xe){return je===xe?0!==je||1/je==1/xe:je!=je&&xe!=xe}},{}],116:[function(je,xe,we){var Se=je("../internals/global"),Te=je("../internals/create-non-enumerable-property");xe.exports=function(je,xe){try{Te(Se,je,xe)}catch(we){Se[je]=xe}return xe}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(xe,we,Se){var Te=xe("../internals/get-built-in"),Ee=xe("../internals/object-define-property"),Ye=xe("../internals/well-known-symbol"),Ze=xe("../internals/descriptors"),Qe=Ye("species");we.exports=function(xe){xe=Te(xe);var we=Ee.f;Ze&&xe&&!xe[Qe]&&we(xe,Qe,{configurable:!0,get:function(){return this||je}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(je,xe,we){var Se=je("../internals/object-define-property").f,Te=je("../internals/has"),Ee=je("../internals/well-known-symbol")("toStringTag");xe.exports=function(je,xe,we){je&&!Te(je=we?je:je.prototype,Ee)&&Se(je,Ee,{configurable:!0,value:xe})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(je,xe,we){var Se=je("../internals/shared"),Te=je("../internals/uid"),Ee=Se("keys");xe.exports=function(je){return Ee[je]||(Ee[je]=Te(je))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(je,xe,we){var Se=je("../internals/global"),Te=(je=je("../internals/set-global"),"__core-js_shared__");Se=Se[Te]||je(Te,{});xe.exports=Se},{"../internals/global":60,"../internals/set-global":116}],121:[function(je,xe,we){var Se=je("../internals/is-pure"),Te=je("../internals/shared-store");(xe.exports=function(je,xe){return Te[je]||(Te[je]=void 0!==xe?xe:{})})("versions",[]).push({version:"3.6.5",mode:Se?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(je,xe,we){var Se=je("../internals/an-object"),Te=je("../internals/a-function"),Ee=je("../internals/well-known-symbol")("species");xe.exports=function(je,xe){je=Se(je).constructor;return void 0===je||null==(je=Se(je)[Ee])?xe:Te(je)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(je,xe,we){var Se=je("../internals/fails");xe.exports=function(je){return Se((function(){var xe=""[je]('"');return xe!==xe.toLowerCase()||3<xe.split('"').length}))}},{"../internals/fails":51}],124:[function(je,xe,we){function o(je){return function(xe,we){xe=String(Te(xe)),we=Se(we);var Ee,Ye=xe.length;return we<0||Ye<=we?je?"":void 0:(Ee=xe.charCodeAt(we))<55296||56319<Ee||we+1===Ye||(Ye=xe.charCodeAt(we+1))<56320||57343<Ye?je?xe.charAt(we):Ee:je?xe.slice(we,we+2):Ye-56320+(Ee-55296<<10)+65536}}var Se=je("../internals/to-integer"),Te=je("../internals/require-object-coercible");xe.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(je,xe,we){je=je("../internals/engine-user-agent");xe.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(je)},{"../internals/engine-user-agent":47}],126:[function(je,xe,we){function o(je){return function(xe,we,Ze){xe=String(Ee(xe));var Qe=xe.length;Ze=void 0===Ze?" ":String(Ze),we=Se(we);return we<=Qe||""==Ze?xe:((Qe=Te.call(Ze,Ye((we-=Qe)/Ze.length))).length>we&&(Qe=Qe.slice(0,we)),je?xe+Qe:Qe+xe)}}var Se=je("../internals/to-length"),Te=je("../internals/string-repeat"),Ee=je("../internals/require-object-coercible"),Ye=Math.ceil;xe.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(je,xe,we){function g(je){return je+22+75*(je<26)}function s(je){var xe,we=[],Qe=(je=function(je){for(var xe=[],we=0,Se=je.length;we<Se;){var Te,Ee=je.charCodeAt(we++);55296<=Ee&&Ee<=56319&&we<Se?56320==(64512&(Te=je.charCodeAt(we++)))?xe.push(((1023&Ee)<<10)+(1023&Te)+65536):(xe.push(Ee),we--):xe.push(Ee)}return xe}(je)).length,Ke=128,rt=0,ot=72;for(dt=0;dt<je.length;dt++)(xe=je[dt])<128&&we.push(tt(xe));var nt=we.length,st=nt;for(nt&&we.push("-");st<Qe;){for(var it=Se,dt=0;dt<je.length;dt++)Ke<=(xe=je[dt])&&xe<it&&(it=xe);var ht=st+1;if(it-Ke>et((Se-rt)/ht))throw RangeError(Je);for(rt+=(it-Ke)*ht,Ke=it,dt=0;dt<je.length;dt++){if((xe=je[dt])<Ke&&++rt>Se)throw RangeError(Je);if(xe==Ke){for(var ft=rt,pt=Te;;pt+=Te){var mt=pt<=ot?1:ot+Ee<=pt?Ee:pt-ot;if(ft<mt)break;var yt=ft-mt,gt=Te-mt;we.push(tt(g(mt+yt%gt))),ft=et(yt/gt)}we.push(tt(g(ft))),ot=function(je,xe,we){var Se=0;for(je=we?et(je/Ze):je>>1,je+=et(je/xe);$e*Ee>>1<je;Se+=Te)je=et(je/$e);return et(Se+($e+1)*je/(je+Ye))}(rt,ht,st==nt),rt=0,++st}}++rt,++Ke}return we.join("")}var Se=2147483647,Te=36,Ee=26,Ye=38,Ze=700,Qe=/[^\0-\u007E]/,Ke=/[.\u3002\uFF0E\uFF61]/g,Je="Overflow: input needs wider integers to process",$e=Te-1,et=Math.floor,tt=String.fromCharCode;xe.exports=function(je){for(var xe,we=[],Se=je.toLowerCase().replace(Ke,".").split("."),Te=0;Te<Se.length;Te++)xe=Se[Te],we.push(Qe.test(xe)?"xn--"+s(xe):xe);return we.join(".")}},{}],128:[function(xe,we,Se){var Te=xe("../internals/to-integer"),Ee=xe("../internals/require-object-coercible");we.exports="".repeat||function(xe){var we=String(Ee(this||je)),Se="",Ye=Te(xe);if(Ye<0||Ye==1/0)throw RangeError("Wrong number of repetitions");for(;0<Ye;(Ye>>>=1)&&(we+=we))1&Ye&&(Se+=we);return Se}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(je,xe,we){var Se=je("../internals/fails"),Te=je("../internals/whitespaces");xe.exports=function(je){return Se((function(){return!!Te[je]()||""!=""[je]()||Te[je].name!==je}))}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(je,xe,we){function o(je){return function(xe){xe=String(Se(xe));return 1&je&&(xe=xe.replace(Te,"")),2&je?xe.replace(Ee,""):xe}}var Se=je("../internals/require-object-coercible"),Te=(je="["+je("../internals/whitespaces")+"]",RegExp("^"+je+je+"*")),Ee=RegExp(je+je+"*$");xe.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(xe,we,Se){function o(je){return function(){x(je)}}function n(je){x(je.data)}function s(je){Ee.postMessage(je+"",$e.protocol+"//"+$e.host)}var Te,Ee=xe("../internals/global"),Ye=xe("../internals/fails"),Ze=xe("../internals/classof-raw"),Qe=xe("../internals/function-bind-context"),Ke=xe("../internals/html"),Je=xe("../internals/document-create-element"),$e=(xe=xe("../internals/engine-is-ios"),Ee.location),et=Ee.setImmediate,tt=Ee.clearImmediate,rt=Ee.process,ot=Ee.MessageChannel,nt=Ee.Dispatch,st=0,it={},dt="onreadystatechange",x=function(je){var xe;it.hasOwnProperty(je)&&(xe=it[je],delete it[je],xe())};et&&tt||(et=function(je){for(var xe=[],we=1;we<arguments.length;)xe.push(arguments[we++]);return it[++st]=function(){("function"==typeof je?je:Function(je)).apply(void 0,xe)},Te(st),st},tt=function(je){delete it[je]},"process"==Ze(rt)?Te=function(je){rt.nextTick(o(je))}:nt&&nt.now?Te=function(je){nt.now(o(je))}:ot&&!xe?(xe=(Ze=new ot).port2,Ze.port1.onmessage=n,Te=Qe(xe.postMessage,xe,1)):!Ee.addEventListener||"function"!=typeof postMessage||Ee.importScripts||Ye(s)||"file:"===$e.protocol?Te=dt in Je("script")?function(xe){Ke.appendChild(Je("script"))[dt]=function(){Ke.removeChild(this||je),x(xe)}}:function(je){setTimeout(o(je),0)}:(Te=s,Ee.addEventListener("message",n,!1))),we.exports={set:et,clear:tt}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(je,xe,we){var Se=je("../internals/classof-raw");xe.exports=function(je){if("number"!=typeof je&&"Number"!=Se(je))throw TypeError("Incorrect invocation");return+je}},{"../internals/classof-raw":28}],133:[function(je,xe,we){var Se=je("../internals/to-integer"),Te=Math.max,Ee=Math.min;xe.exports=function(je,xe){je=Se(je);return je<0?Te(je+xe,0):Ee(je,xe)}},{"../internals/to-integer":136}],134:[function(je,xe,we){var Se=je("../internals/to-integer"),Te=je("../internals/to-length");xe.exports=function(je){if(void 0===je)return 0;je=Se(je);var xe=Te(je);if(je!==xe)throw RangeError("Wrong length or index");return xe}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(je,xe,we){var Se=je("../internals/indexed-object"),Te=je("../internals/require-object-coercible");xe.exports=function(je){return Se(Te(je))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(je,xe,we){var Se=Math.ceil,Te=Math.floor;xe.exports=function(je){return isNaN(je=+je)?0:(0<je?Te:Se)(je)}},{}],137:[function(je,xe,we){var Se=je("../internals/to-integer"),Te=Math.min;xe.exports=function(je){return 0<je?Te(Se(je),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(je,xe,we){var Se=je("../internals/require-object-coercible");xe.exports=function(je){return Object(Se(je))}},{"../internals/require-object-coercible":114}],139:[function(je,xe,we){var Se=je("../internals/to-positive-integer");xe.exports=function(je,xe){je=Se(je);if(je%xe)throw RangeError("Wrong offset");return je}},{"../internals/to-positive-integer":140}],140:[function(je,xe,we){var Se=je("../internals/to-integer");xe.exports=function(je){je=Se(je);if(je<0)throw RangeError("The argument can't be less than 0");return je}},{"../internals/to-integer":136}],141:[function(je,xe,we){var Se=je("../internals/is-object");xe.exports=function(je,xe){if(!Se(je))return je;var we,Te;if(xe&&"function"==typeof(we=je.toString)&&!Se(Te=we.call(je))||"function"==typeof(we=je.valueOf)&&!Se(Te=we.call(je))||!xe&&"function"==typeof(we=je.toString)&&!Se(Te=we.call(je)))return Te;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(je,xe,we){var Se={};Se[je("../internals/well-known-symbol")("toStringTag")]="z",xe.exports="[object z]"===String(Se)},{"../internals/well-known-symbol":149}],143:[function(xe,we,Se){function f(je,xe){for(var we=0,Se=xe.length,Te=new(Dr(je))(Se);we<Se;)Te[we]=xe[we++];return Te}function r(xe,we){xr(xe,we,{get:function(){return br(this||je)[we]}})}function p(je){return je instanceof Er||"ArrayBuffer"==(je=it(je))||"SharedArrayBuffer"==je}function o(je,xe){return Fr(je)&&"symbol"!=typeof xe&&xe in je&&String(+xe)==String(xe)}function n(je,xe){return o(je,xe=nt(xe,!0))?$e(2,je[xe]):wr(je,xe)}function s(je,xe,we){return!(o(je,xe=nt(xe,!0))&&dt(we)&&st(we,"value"))||st(we,"get")||st(we,"set")||we.configurable||st(we,"writable")&&!we.writable||st(we,"enumerable")&&!we.enumerable?xr(je,xe,we):(je[xe]=we.value,je)}var Te=xe("../internals/export"),Ee=xe("../internals/global"),Ye=xe("../internals/descriptors"),Ze=xe("../internals/typed-array-constructors-require-wrappers"),Qe=xe("../internals/array-buffer-view-core"),Ke=xe("../internals/array-buffer"),Je=xe("../internals/an-instance"),$e=xe("../internals/create-property-descriptor"),et=xe("../internals/create-non-enumerable-property"),tt=xe("../internals/to-length"),rt=xe("../internals/to-index"),ot=xe("../internals/to-offset"),nt=xe("../internals/to-primitive"),st=xe("../internals/has"),it=xe("../internals/classof"),dt=xe("../internals/is-object"),ht=xe("../internals/object-create"),ft=xe("../internals/object-set-prototype-of"),pt=xe("../internals/object-get-own-property-names").f,mt=xe("../internals/typed-array-from"),yt=xe("../internals/array-iteration").forEach,gt=xe("../internals/set-species"),wt=xe("../internals/object-define-property"),Dt=xe("../internals/object-get-own-property-descriptor"),Xt=xe("../internals/internal-state"),Yt=xe("../internals/inherit-if-required"),br=Xt.get,_r=Xt.set,xr=wt.f,wr=Dt.f,Sr=Math.round,Tr=Ee.RangeError,Er=Ke.ArrayBuffer,Ar=Ke.DataView,Lr=Qe.NATIVE_ARRAY_BUFFER_VIEWS,Pr=Qe.TYPED_ARRAY_TAG,Rr=Qe.TypedArray,Ir=Qe.TypedArrayPrototype,Dr=Qe.aTypedArrayConstructor,Fr=Qe.isTypedArray,Ur="BYTES_PER_ELEMENT",Nr="Wrong length";Ye?(Lr||(Dt.f=n,wt.f=s,r(Ir,"buffer"),r(Ir,"byteOffset"),r(Ir,"byteLength"),r(Ir,"length")),Te({target:"Object",stat:!0,forced:!Lr},{getOwnPropertyDescriptor:n,defineProperty:s}),we.exports=function(xe,we,Se){function u(xe,we){xr(xe,we,{get:function(){var xe=this||je,Se=we;return(xe=br(xe)).view[Ke](Se*Ye+xe.byteOffset,!0)},set:function(xe){var Te=this||je,Ee=we;Te=br(Te),Se&&(xe=(xe=Sr(xe))<0?0:255<xe?255:255&xe),Te.view[$e](Ee*Ye+Te.byteOffset,xe,!0)},enumerable:!0})}var Ye=xe.match(/\d+$/)[0]/8,Qe=xe+(Se?"Clamped":"")+"Array",Ke="get"+xe,$e="set"+xe,nt=Ee[Qe],st=nt,it=(xe=st&&st.prototype,{});Lr?Ze&&(st=we((function(je,xe,we,Se){return Je(je,st,Qe),Yt(dt(xe)?p(xe)?void 0!==Se?new nt(xe,ot(we,Ye),Se):void 0!==we?new nt(xe,ot(we,Ye)):new nt(xe):Fr(xe)?f(st,xe):mt.call(st,xe):new nt(rt(xe)),je,st)})),ft&&ft(st,Rr),yt(pt(nt),(function(je){je in st||et(st,je,nt[je])})),st.prototype=xe):(st=we((function(je,xe,we,Se){Je(je,st,Qe);var Te,Ee,Ze=0,Ke=0;if(dt(xe)){if(!p(xe))return Fr(xe)?f(st,xe):mt.call(st,xe);var $e=xe;Ke=ot(we,Ye),we=xe.byteLength;if(void 0===Se){if(we%Ye)throw Tr(Nr);if((Te=we-Ke)<0)throw Tr(Nr)}else if(we<(Te=tt(Se)*Ye)+Ke)throw Tr(Nr);Ee=Te/Ye}else Ee=rt(xe),$e=new Er(Te=Ee*Ye);for(_r(je,{buffer:$e,byteOffset:Ke,byteLength:Te,length:Ee,view:new Ar($e)});Ze<Ee;)u(je,Ze++)})),ft&&ft(st,Rr),xe=st.prototype=ht(Ir)),xe.constructor!==st&&et(xe,"constructor",st),Pr&&et(xe,Pr,Qe),it[Qe]=st,Te({global:!0,forced:st!=nt,sham:!Lr},it),Ur in st||et(st,Ur,Ye),Ur in xe||et(xe,Ur,Ye),gt(Qe)}):we.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(je,xe,we){var Se=je("../internals/global"),Te=je("../internals/fails"),Ee=je("../internals/check-correctness-of-iteration"),Ye=(je=je("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,Se.ArrayBuffer),Ze=Se.Int8Array;xe.exports=!je||!Te((function(){Ze(1)}))||!Te((function(){new Ze(-1)}))||!Ee((function(je){new Ze,new Ze(null),new Ze(1.5),new Ze(je)}),!0)||Te((function(){return 1!==new Ze(new Ye(2),1,void 0).length}))},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(xe,we,Se){var Te=xe("../internals/to-object"),Ee=xe("../internals/to-length"),Ye=xe("../internals/get-iterator-method"),Ze=xe("../internals/is-array-iterator-method"),Qe=xe("../internals/function-bind-context"),Ke=xe("../internals/array-buffer-view-core").aTypedArrayConstructor;we.exports=function(xe){var we,Se,Je,$e,et,tt,rt=Te(xe),ot=arguments.length,nt=1<ot?arguments[1]:void 0,st=void 0!==nt,it=Ye(rt);if(null!=it&&!Ze(it))for(tt=(et=it.call(rt)).next,rt=[];!($e=tt.call(et)).done;)rt.push($e.value);for(st&&2<ot&&(nt=Qe(nt,arguments[2],2)),Se=Ee(rt.length),Je=new(Ke(this||je))(Se),we=0;we<Se;we++)Je[we]=st?nt(rt[we],we):rt[we];return Je}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(je,xe,we){var Se=0,Te=Math.random();xe.exports=function(je){return"Symbol("+String(void 0===je?"":je)+")_"+(++Se+Te).toString(36)}},{}],147:[function(je,xe,we){je=je("../internals/native-symbol");xe.exports=je&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":84}],148:[function(je,xe,we){je=je("../internals/well-known-symbol");we.f=je},{"../internals/well-known-symbol":149}],149:[function(je,xe,we){var Se=je("../internals/global"),Te=je("../internals/shared"),Ee=je("../internals/has"),Ye=je("../internals/uid"),Ze=je("../internals/native-symbol"),Qe=(je=je("../internals/use-symbol-as-uid"),Te("wks")),Ke=Se.Symbol,Je=je?Ke:Ke&&Ke.withoutSetter||Ye;xe.exports=function(je){return Ee(Qe,je)||(Ze&&Ee(Ke,je)?Qe[je]=Ke[je]:Qe[je]=Je("Symbol."+je)),Qe[je]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(je,xe,we){xe.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],151:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/global"),Ee=je("../internals/array-buffer"),Ye=(je=je("../internals/set-species"),"ArrayBuffer");Ee=Ee[Ye];Se({global:!0,forced:Te[Ye]!==Ee},{ArrayBuffer:Ee}),je(Ye)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/fails"),Ye=xe("../internals/is-array"),Ze=xe("../internals/is-object"),Qe=xe("../internals/to-object"),Ke=xe("../internals/to-length"),Je=xe("../internals/create-property"),$e=xe("../internals/array-species-create"),et=xe("../internals/array-method-has-species-support"),tt=xe("../internals/well-known-symbol"),rt=(xe=xe("../internals/engine-v8-version"),tt("isConcatSpreadable")),ot=9007199254740991,nt="Maximum allowed index exceeded";tt=51<=xe||!Ee((function(){var je=[];return je[rt]=!1,je.concat()[0]!==je})),xe=et("concat");Te({target:"Array",proto:!0,forced:!tt||!xe},{concat:function(xe){for(var we,Se,Te,Ee,et,tt=Qe(this||je),st=$e(tt,0),it=0,dt=-1,ht=arguments.length;dt<ht;dt++)if(et=void 0,Ze(Ee=Te=-1===dt?tt:arguments[dt])&&(void 0!==(et=Ee[rt])?et:Ye(Ee))){if(Se=Ke(Te.length),ot<it+Se)throw TypeError(nt);for(we=0;we<Se;we++,it++)we in Te&&Je(st,it,Te[we])}else{if(ot<=it)throw TypeError(nt);Je(st,it++,Te)}return st.length=it,st}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/array-copy-within");je=je("../internals/add-to-unscopables");Se({target:"Array",proto:!0},{copyWithin:Te}),je("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-iteration").every,Ye=xe("../internals/array-method-is-strict");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("every"),xe=xe("every");Te({target:"Array",proto:!0,forced:!Ye||!xe},{every:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/array-fill");je=je("../internals/add-to-unscopables");Se({target:"Array",proto:!0},{fill:Te}),je("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-iteration").filter,Ye=xe("../internals/array-method-has-species-support");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("filter"),xe=xe("filter");Te({target:"Array",proto:!0,forced:!Ye||!xe},{filter:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-iteration").findIndex,Ye=xe("../internals/add-to-unscopables"),Ze=(xe=xe("../internals/array-method-uses-to-length"),"findIndex"),Qe=!0;xe=xe(Ze);Ze in[]&&Array(1)[Ze]((function(){Qe=!1})),Te({target:"Array",proto:!0,forced:Qe||!xe},{findIndex:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}}),Ye(Ze)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/flatten-into-array"),Ye=xe("../internals/to-object"),Ze=xe("../internals/to-length"),Qe=xe("../internals/a-function"),Ke=xe("../internals/array-species-create");Te({target:"Array",proto:!0},{flatMap:function(xe){var we,Se=Ye(this||je),Te=Ze(Se.length);return Qe(xe),(we=Ke(Se,0)).length=Ee(we,Se,Se,Te,0,1,xe,1<arguments.length?arguments[1]:void 0),we}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/flatten-into-array"),Ye=xe("../internals/to-object"),Ze=xe("../internals/to-length"),Qe=xe("../internals/to-integer"),Ke=xe("../internals/array-species-create");Te({target:"Array",proto:!0},{flat:function(){var xe=arguments.length?arguments[0]:void 0,we=Ye(this||je),Se=Ze(we.length),Te=Ke(we,0);return Te.length=Ee(Te,we,we,Se,0,void 0===xe?1:Qe(xe)),Te}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(je,xe,we){var Se=je("../internals/export");je=je("../internals/array-for-each");Se({target:"Array",proto:!0,forced:[].forEach!=je},{forEach:je})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/array-from");Se({target:"Array",stat:!0,forced:!je("../internals/check-correctness-of-iteration")((function(je){Array.from(je)}))},{from:Te})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-includes").includes,Ye=xe("../internals/add-to-unscopables");Te({target:"Array",proto:!0,forced:!xe("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}}),Ye("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-includes").indexOf,Ye=xe("../internals/array-method-is-strict"),Ze=(xe=xe("../internals/array-method-uses-to-length"),[].indexOf),Qe=!!Ze&&1/[1].indexOf(1,-0)<0;Ye=Ye("indexOf"),xe=xe("indexOf",{ACCESSORS:!0,1:0});Te({target:"Array",proto:!0,forced:Qe||!Ye||!xe},{indexOf:function(xe){return Qe?Ze.apply(this||je,arguments)||0:Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(xe,we,Se){var Te=xe("../internals/to-indexed-object"),Ee=xe("../internals/add-to-unscopables"),Ye=xe("../internals/iterators"),Ze=xe("../internals/internal-state"),Qe=(xe=xe("../internals/define-iterator"),"Array Iterator"),Ke=Ze.set,Je=Ze.getterFor(Qe);we.exports=xe(Array,"Array",(function(xe,we){Ke(this||je,{type:Qe,target:Te(xe),index:0,kind:we})}),(function(){var xe=Je(this||je),we=xe.target,Se=xe.kind,Te=xe.index++;return!we||Te>=we.length?{value:xe.target=void 0,done:!0}:"keys"==Se?{value:Te,done:!1}:"values"==Se?{value:we[Te],done:!1}:{value:[Te,we[Te]],done:!1}}),"values"),Ye.Arguments=Ye.Array,Ee("keys"),Ee("values"),Ee("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/indexed-object"),Ye=xe("../internals/to-indexed-object"),Ze=(xe=xe("../internals/array-method-is-strict"),[].join);Ee=Ee!=Object,xe=xe("join",",");Te({target:"Array",proto:!0,forced:Ee||!xe},{join:function(xe){return Ze.call(Ye(this||je),void 0===xe?",":xe)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(je,xe,we){var Se=je("../internals/export");je=je("../internals/array-last-index-of");Se({target:"Array",proto:!0,forced:je!==[].lastIndexOf},{lastIndexOf:je})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-iteration").map,Ye=xe("../internals/array-method-has-species-support");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("map"),xe=xe("map");Te({target:"Array",proto:!0,forced:!Ye||!xe},{map:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/is-object"),Ye=xe("../internals/is-array"),Ze=xe("../internals/to-absolute-index"),Qe=xe("../internals/to-length"),Ke=xe("../internals/to-indexed-object"),Je=xe("../internals/create-property"),$e=xe("../internals/well-known-symbol"),et=xe("../internals/array-method-has-species-support"),tt=(xe=xe("../internals/array-method-uses-to-length"),et=et("slice"),xe=xe("slice",{ACCESSORS:!0,0:0,1:2}),$e("species")),rt=[].slice,ot=Math.max;Te({target:"Array",proto:!0,forced:!et||!xe},{slice:function(xe,we){var Se,Te,$e,et=Ke(this||je),nt=Qe(et.length),st=Ze(xe,nt),it=Ze(void 0===we?nt:we,nt);if(Ye(et)&&((Se="function"==typeof(Se=et.constructor)&&(Se===Array||Ye(Se.prototype))||Ee(Se)&&null===(Se=Se[tt])?void 0:Se)===Array||void 0===Se))return rt.call(et,st,it);for(Te=new(void 0===Se?Array:Se)(ot(it-st,0)),$e=0;st<it;st++,$e++)st in et&&Je(Te,$e,et[st]);return Te.length=$e,Te}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/array-iteration").some,Ye=xe("../internals/array-method-is-strict");xe=xe("../internals/array-method-uses-to-length"),Ye=Ye("some"),xe=xe("some");Te({target:"Array",proto:!0,forced:!Ye||!xe},{some:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/to-absolute-index"),Ye=xe("../internals/to-integer"),Ze=xe("../internals/to-length"),Qe=xe("../internals/to-object"),Ke=xe("../internals/array-species-create"),Je=xe("../internals/create-property"),$e=xe("../internals/array-method-has-species-support"),et=(xe=xe("../internals/array-method-uses-to-length"),$e=$e("splice"),xe=xe("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),tt=Math.min;Te({target:"Array",proto:!0,forced:!$e||!xe},{splice:function(xe,we){var Se,Te,$e,rt,ot,nt,st=Qe(this||je),it=Ze(st.length),dt=Ee(xe,it);xe=arguments.length;if(0===xe?Se=Te=0:Te=1===xe?(Se=0,it-dt):(Se=xe-2,tt(et(Ye(we),0),it-dt)),9007199254740991<it+Se-Te)throw TypeError("Maximum allowed length exceeded");for($e=Ke(st,Te),rt=0;rt<Te;rt++)(ot=dt+rt)in st&&Je($e,rt,st[ot]);if(Se<($e.length=Te)){for(rt=dt;rt<it-Te;rt++)nt=rt+Se,(ot=rt+Te)in st?st[nt]=st[ot]:delete st[nt];for(rt=it;it-Te+Se<rt;rt--)delete st[rt-1]}else if(Te<Se)for(rt=it-Te;dt<rt;rt--)nt=rt+Se-1,(ot=rt+Te-1)in st?st[nt]=st[ot]:delete st[nt];for(rt=0;rt<Se;rt++)st[rt+dt]=arguments[rt+2];return st.length=it-Te+Se,$e}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(je,xe,we){je("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(je,xe,we){je("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(xe,we,Se){var Te=xe("../internals/descriptors"),Ee=(xe=xe("../internals/object-define-property").f,Function.prototype),Ye=Ee.toString,Ze=/^\s*function ([^ (]*)/;!Te||"name"in Ee||xe(Ee,"name",{configurable:!0,get:function(){try{return Ye.call(this||je).match(Ze)[1]}catch(je){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(xe,we,Se){var Te=xe("../internals/collection");xe=xe("../internals/collection-strong");we.exports=Te("Map",(function(xe){return function(){return xe(this||je,arguments.length?arguments[0]:void 0)}}),xe)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(je,xe,we){je=je("../internals/export");var Se=Math.hypot,Te=Math.abs,Ee=Math.sqrt;je({target:"Math",stat:!0,forced:!!Se&&Se(1/0,NaN)!==1/0},{hypot:function(je,xe){for(var we,Se,Ye=0,Ze=0,Qe=arguments.length,Ke=0;Ze<Qe;)Ke<(we=Te(arguments[Ze++]))?(Ye=Ye*(Se=Ke/we)*Se+1,Ke=we):Ye+=0<we?(Se=we/Ke)*Se:we;return Ke===1/0?1/0:Ke*Ee(Ye)}})},{"../internals/export":50}],176:[function(je,xe,we){je=je("../internals/export");var Se=Math.log,Te=Math.LN2;je({target:"Math",stat:!0},{log2:function(je){return Se(je)/Te}})},{"../internals/export":50}],177:[function(je,xe,we){je("../internals/export")({target:"Math",stat:!0},{sign:je("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(xe,we,Se){function o(je){var xe,we,Se,Te,Ee,Ye,Ze,Qe=$e(je,!1);if("string"==typeof Qe&&2<Qe.length)if(43===(je=(Qe=st(Qe)).charCodeAt(0))||45===je){if(88===(xe=Qe.charCodeAt(2))||120===xe)return NaN}else if(48===je){switch(Qe.charCodeAt(1)){case 66:case 98:we=2,Se=49;break;case 79:case 111:we=8,Se=55;break;default:return+Qe}for(Ee=(Te=Qe.slice(2)).length,Ye=0;Ye<Ee;Ye++)if((Ze=Te.charCodeAt(Ye))<48||Se<Ze)return NaN;return parseInt(Te,we)}return+Qe}var Te=xe("../internals/descriptors"),Ee=xe("../internals/global"),Ye=xe("../internals/is-forced"),Ze=xe("../internals/redefine"),Qe=xe("../internals/has"),Ke=xe("../internals/classof-raw"),Je=xe("../internals/inherit-if-required"),$e=xe("../internals/to-primitive"),et=xe("../internals/fails"),tt=xe("../internals/object-create"),rt=xe("../internals/object-get-own-property-names").f,ot=xe("../internals/object-get-own-property-descriptor").f,nt=xe("../internals/object-define-property").f,st=xe("../internals/string-trim").trim,it="Number",dt=Ee[it],ht=dt.prototype,ft=Ke(tt(ht))==it;if(Ye(it,!dt(" 0o1")||!dt("0b1")||dt("+0x1"))){for(var pt,w=function(xe){xe=arguments.length<1?0:xe;var we=this||je;return we instanceof w&&(ft?et((function(){ht.valueOf.call(we)})):Ke(we)!=it)?Je(new dt(o(xe)),we,w):o(xe)},mt=Te?rt(dt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),yt=0;mt.length>yt;yt++)Qe(dt,pt=mt[yt])&&!Qe(w,pt)&&nt(w,pt,ot(dt,pt));(w.prototype=ht).constructor=w,Ze(Ee,it,w)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(je,xe,we){je("../internals/export")({target:"Number",stat:!0},{isFinite:je("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(xe,we,Se){function c(je,xe,we){return 0===xe?we:xe%2==1?c(je,xe-1,we*je):c(je*je,xe/2,we)}var Te=xe("../internals/export"),Ee=xe("../internals/to-integer"),Ye=xe("../internals/this-number-value"),Ze=xe("../internals/string-repeat"),Qe=(xe=xe("../internals/fails"),1..toFixed),Ke=Math.floor;Te({target:"Number",proto:!0,forced:Qe&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!xe((function(){Qe.call({})}))},{toFixed:function(xe){function t(je,xe){for(var we=-1,Se=xe;++we<6;)Se+=je*Qe[we],Qe[we]=Se%1e7,Se=Ke(Se/1e7)}function r(je){for(var xe=6,we=0;0<=--xe;)we+=Qe[xe],Qe[xe]=Ke(we/je),we=we%je*1e7}function o(){for(var je,xe=6,we="";0<=--xe;)""===we&&0!==xe&&0===Qe[xe]||(je=String(Qe[xe]),we=""===we?je:we+Ze.call("0",7-je.length)+je);return we}var we,Se,Te=Ye(this||je),Qe=(xe=Ee(xe),[0,0,0,0,0,0]),Je="",$e="0";if(xe<0||20<xe)throw RangeError("Incorrect fraction digits");if(Te!=Te)return"NaN";if(Te<=-1e21||1e21<=Te)return String(Te);if(Te<0&&(Je="-",Te=-Te),1e-21<Te)if(Te=(we=function(je){for(var xe=0,we=je;4096<=we;)xe+=12,we/=4096;for(;2<=we;)xe+=1,we/=2;return xe}(Te*c(2,69,1))-69)<0?Te*c(2,-we,1):Te/c(2,we,1),Te*=4503599627370496,0<(we=52-we)){for(t(0,Te),Se=xe;7<=Se;)t(1e7,0),Se-=7;for(t(c(10,Se,1),0),Se=we-1;23<=Se;)r(1<<23),Se-=23;r(1<<Se),t(1,1),r(2),$e=o()}else t(0,Te),t(1<<-we,0),$e=o()+Ze.call("0",xe);return 0<xe?Je+((Te=$e.length)<=xe?"0."+Ze.call("0",xe-Te)+$e:$e.slice(0,Te-xe)+"."+$e.slice(Te-xe)):Je+$e}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(je,xe,we){var Se=je("../internals/export");je=je("../internals/object-assign");Se({target:"Object",stat:!0,forced:Object.assign!==je},{assign:je})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/iterate"),Ee=je("../internals/create-property");Se({target:"Object",stat:!0},{fromEntries:function(je){var xe={};return Te(je,(function(je,we){Ee(xe,je,we)}),void 0,!0),xe}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/fails"),Ee=je("../internals/to-indexed-object"),Ye=je("../internals/object-get-own-property-descriptor").f;je=je("../internals/descriptors"),Te=Te((function(){Ye(1)}));Se({target:"Object",stat:!0,forced:!je||Te,sham:!je},{getOwnPropertyDescriptor:function(je,xe){return Ye(Ee(je),xe)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/fails");je=je("../internals/object-get-own-property-names-external").f;Se({target:"Object",stat:!0,forced:Te((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:je})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/fails"),Ee=je("../internals/to-object"),Ye=je("../internals/object-get-prototype-of");je=je("../internals/correct-prototype-getter");Se({target:"Object",stat:!0,forced:Te((function(){Ye(1)})),sham:!je},{getPrototypeOf:function(je){return Ye(Ee(je))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/to-object"),Ee=je("../internals/object-keys");Se({target:"Object",stat:!0,forced:je("../internals/fails")((function(){Ee(1)}))},{keys:function(je){return Ee(Te(je))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(je,xe,we){var Se=je("../internals/to-string-tag-support"),Te=je("../internals/redefine");je=je("../internals/object-to-string");Se||Te(Object.prototype,"toString",je,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(xe,we,Se){var Te,Ee,Ye,Ze,Qe=xe("../internals/export"),Ke=xe("../internals/is-pure"),Je=xe("../internals/global"),$e=xe("../internals/get-built-in"),et=xe("../internals/native-promise-constructor"),tt=xe("../internals/redefine"),rt=xe("../internals/redefine-all"),ot=xe("../internals/set-to-string-tag"),nt=xe("../internals/set-species"),st=xe("../internals/is-object"),it=xe("../internals/a-function"),dt=xe("../internals/an-instance"),ht=xe("../internals/classof-raw"),ft=xe("../internals/inspect-source"),pt=xe("../internals/iterate"),mt=xe("../internals/check-correctness-of-iteration"),yt=xe("../internals/species-constructor"),gt=xe("../internals/task").set,wt=xe("../internals/microtask"),Dt=xe("../internals/promise-resolve"),Xt=xe("../internals/host-report-errors"),Yt=xe("../internals/new-promise-capability"),br=xe("../internals/perform"),_r=xe("../internals/internal-state"),xr=xe("../internals/is-forced"),wr=xe("../internals/well-known-symbol"),Sr=xe("../internals/engine-v8-version"),Tr=wr("species"),Er="Promise",Ar=_r.get,Lr=_r.set,Pr=_r.getterFor(Er),Rr=et,Ir=Je.TypeError,Dr=Je.document,Fr=Je.process,Ur=$e("fetch"),Nr=Yt.f,Br=Nr,Gr="process"==ht(Fr),Vr=!!(Dr&&Dr.createEvent&&Je.dispatchEvent),zr="unhandledrejection",Hr="rejectionhandled",Wr=1,qr=2,Xr=1,Yr=2,Zr=(xe=xr(Er,(function(){var je,xe;if(!(ft(Rr)!==String(Rr))){if(66===Sr)return!0;if(!Gr&&"function"!=typeof PromiseRejectionEvent)return!0}return!(!Ke||Rr.prototype.finally)||!(51<=Sr&&/native code/.test(Rr))&&(xe=function(je){je((function(){}),(function(){}))},((je=Rr.resolve(1)).constructor={})[Tr]=xe,!(je.then((function(){}))instanceof xe))})),wr=xe||!mt((function(je){Rr.all(je).catch((function(){}))})),function(je){var xe;return!(!st(je)||"function"!=typeof(xe=je.then))&&xe}),P=function(je,xe,we){var Se;xe.notified||(xe.notified=!0,Se=xe.reactions,wt((function(){for(var Te,Ee,Ye=xe.value,Ze=xe.state==Wr,Qe=0;Se.length>Qe;){var Ke,$e,et,tt=Se[Qe++],rt=Ze?tt.ok:tt.fail,ot=tt.resolve,nt=tt.reject,st=tt.domain;try{rt?(Ze||(xe.rejection===Yr&&function(je,xe){gt.call(Je,(function(){Gr?Fr.emit("rejectionHandled",je):se(Hr,je,xe.value)}))}(je,xe),xe.rejection=Xr),!0===rt?Ke=Ye:(st&&st.enter(),Ke=rt(Ye),st&&(st.exit(),et=!0)),Ke===tt.promise?nt(Ir("Promise-chain cycle")):($e=Zr(Ke))?$e.call(Ke,ot,nt):ot(Ke)):nt(Ye)}catch(Ye){st&&!et&&st.exit(),nt(Ye)}}xe.reactions=[],xe.notified=!1,we&&!xe.rejection&&(Te=je,Ee=xe,gt.call(Je,(function(){var je=Ee.value,xe=ie(Ee);if(xe&&(xe=br((function(){Gr?Fr.emit("unhandledRejection",je,Te):se(zr,Te,je)})),Ee.rejection=Gr||ie(Ee)?Yr:Xr,xe.error))throw xe.value})))})))},se=function(je,xe,we){var Se;Vr?((Se=Dr.createEvent("Event")).promise=xe,Se.reason=we,Se.initEvent(je,!1,!0),Je.dispatchEvent(Se)):Se={promise:xe,reason:we},(xe=Je["on"+je])?xe(Se):je===zr&&Xt("Unhandled promise rejection",we)},ie=function(je){return je.rejection!==Xr&&!je.parent},L=function(je,xe,we,Se){return function(Te){je(xe,we,Te,Se)}},R=function(je,xe,we,Se){xe.done||(xe.done=!0,(xe=Se||xe).value=we,xe.state=qr,P(je,xe,!0))},I=function(je,xe,we,Se){if(!xe.done){xe.done=!0,Se&&(xe=Se);try{if(je===we)throw Ir("Promise can't be resolved itself");var Te=Zr(we);Te?wt((function(){var Se={done:!1};try{Te.call(we,L(I,je,Se,xe),L(R,je,Se,xe))}catch(we){R(je,Se,we,xe)}})):(xe.value=we,xe.state=Wr,P(je,xe,!1))}catch(we){R(je,{done:!1},we,xe)}}};xe&&(Rr=function(xe){dt(this||je,Rr,Er),it(xe),Te.call(this||je);var we=Ar(this||je);try{xe(L(I,this||je,we),L(R,this||je,we))}catch(xe){R(this||je,we,xe)}},(Te=function(xe){Lr(this||je,{type:Er,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=rt(Rr.prototype,{then:function(xe,we){var Se=Pr(this||je),Te=Nr(yt(this||je,Rr));return Te.ok="function"!=typeof xe||xe,Te.fail="function"==typeof we&&we,Te.domain=Gr?Fr.domain:void 0,Se.parent=!0,Se.reactions.push(Te),0!=Se.state&&P(this||je,Se,!1),Te.promise},catch:function(je){return this.then(void 0,je)}}),Ee=function(){var xe=new Te,we=Ar(xe);(this||je).promise=xe,(this||je).resolve=L(I,xe,we),(this||je).reject=L(R,xe,we)},Yt.f=Nr=function(je){return je===Rr||je===Ye?new Ee:Br(je)},Ke||"function"!=typeof et||(Ze=et.prototype.then,tt(et.prototype,"then",(function(xe,we){var Se=this||je;return new Rr((function(je,xe){Ze.call(Se,je,xe)})).then(xe,we)}),{unsafe:!0}),"function"==typeof Ur&&Qe({global:!0,enumerable:!0,forced:!0},{fetch:function(je){return Dt(Rr,Ur.apply(Je,arguments))}}))),Qe({global:!0,wrap:!0,forced:xe},{Promise:Rr}),ot(Rr,Er,!1,!0),nt(Er),Ye=$e(Er),Qe({target:Er,stat:!0,forced:xe},{reject:function(xe){var we=Nr(this||je);return we.reject.call(void 0,xe),we.promise}}),Qe({target:Er,stat:!0,forced:Ke||xe},{resolve:function(xe){return Dt(Ke&&(this||je)===Ye?Rr:this||je,xe)}}),Qe({target:Er,stat:!0,forced:wr},{all:function(xe){var we=this||je,Se=Nr(we),Te=Se.resolve,Ee=Se.reject,Ye=br((function(){var je=it(we.resolve),Se=[],Ye=0,Ze=1;pt(xe,(function(xe){var Qe=Ye++,Ke=!1;Se.push(void 0),Ze++,je.call(we,xe).then((function(je){Ke||(Ke=!0,Se[Qe]=je,--Ze||Te(Se))}),Ee)})),--Ze||Te(Se)}));return Ye.error&&Ee(Ye.value),Se.promise},race:function(xe){var we=this||je,Se=Nr(we),Te=Se.reject,Ee=br((function(){var je=it(we.resolve);pt(xe,(function(xe){je.call(we,xe).then(Se.resolve,Te)}))}));return Ee.error&&Te(Ee.value),Se.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/get-built-in"),Ee=je("../internals/a-function"),Ye=je("../internals/an-object"),Ze=je("../internals/is-object"),Qe=je("../internals/object-create"),Ke=je("../internals/function-bind"),Je=(je=je("../internals/fails"),Te("Reflect","construct")),$e=je((function(){function e(){}return!(Je((function(){}),[],e)instanceof e)})),et=!je((function(){Je((function(){}))}));Te=$e||et;Se({target:"Reflect",stat:!0,forced:Te,sham:Te},{construct:function(je,xe){Ee(je),Ye(xe);var we=arguments.length<3?je:Ee(arguments[2]);if(et&&!$e)return Je(je,xe,we);if(je==we){switch(xe.length){case 0:return new je;case 1:return new je(xe[0]);case 2:return new je(xe[0],xe[1]);case 3:return new je(xe[0],xe[1],xe[2]);case 4:return new je(xe[0],xe[1],xe[2],xe[3])}var Se=[null];return Se.push.apply(Se,xe),new(Ke.apply(je,Se))}Se=we.prototype,we=Qe(Ze(Se)?Se:Object.prototype),Se=Function.apply.call(je,we,xe);return Ze(Se)?Se:we}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(je,xe,we){var Se=je("../internals/export"),Te=je("../internals/is-object"),Ee=je("../internals/an-object"),Ye=je("../internals/has"),Ze=je("../internals/object-get-own-property-descriptor"),Qe=je("../internals/object-get-prototype-of");Se({target:"Reflect",stat:!0},{get:function e(je,xe){var we,Se=arguments.length<3?je:arguments[2];return Ee(je)===Se?je[xe]:(we=Ze.f(je,xe))?Ye(we,"value")?we.value:void 0===we.get?void 0:we.get.call(Se):Te(we=Qe(je))?e(we,xe,Se):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(xe,we,Se){var Te=xe("../internals/descriptors"),Ee=xe("../internals/global"),Ye=xe("../internals/is-forced"),Ze=xe("../internals/inherit-if-required"),Qe=xe("../internals/object-define-property").f,Ke=xe("../internals/object-get-own-property-names").f,Je=xe("../internals/is-regexp"),$e=xe("../internals/regexp-flags"),et=xe("../internals/regexp-sticky-helpers"),tt=xe("../internals/redefine"),rt=xe("../internals/fails"),ot=xe("../internals/internal-state").set,nt=xe("../internals/set-species"),st=xe("../internals/well-known-symbol")("match"),it=Ee.RegExp,dt=it.prototype,ht=/a/g,ft=/a/g,pt=new it(ht)!==ht,mt=et.UNSUPPORTED_Y;if(Te&&Ye("RegExp",!pt||mt||rt((function(){return ft[st]=!1,it(ht)!=ht||it(ft)==ft||"/a/i"!=it(ht,"i")})))){for(var w=function(xe,we){var Se,Te=(this||je)instanceof w,Ee=Je(xe),Ye=void 0===we;if(!Te&&Ee&&xe.constructor===w&&Ye)return xe;pt?Ee&&!Ye&&(xe=xe.source):xe instanceof w&&(Ye&&(we=$e.call(xe)),xe=xe.source),mt&&(Se=!!we&&-1<we.indexOf("y"))&&(we=we.replace(/y/g,""));Ee=Ze(pt?new it(xe,we):it(xe,we),Te?this||je:dt,w);return mt&&Se&&ot(Ee,{sticky:Se}),Ee},yt=Ke(it),gt=0;yt.length>gt;)!function(je){je in w||Qe(w,je,{configurable:!0,get:function(){return it[je]},set:function(xe){it[je]=xe}})}(yt[gt++]);(dt.constructor=w).prototype=dt,tt(Ee,"RegExp",w)}nt("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(je,xe,we){var Se=je("../internals/export");je=je("../internals/regexp-exec");Se({target:"RegExp",proto:!0,forced:/./.exec!==je},{exec:je})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(xe,we,Se){var Te=xe("../internals/redefine"),Ee=xe("../internals/an-object"),Ye=xe("../internals/fails"),Ze=xe("../internals/regexp-flags"),Qe=(xe="toString",RegExp.prototype),Ke=Qe[xe],Je=(Ye=Ye((function(){return"/a/b"!=Ke.call({source:"a",flags:"b"})})),Ke.name!=xe);(Ye||Je)&&Te(RegExp.prototype,xe,(function(){var xe=Ee(this||je),we=String(xe.source),Se=xe.flags;return"/"+we+"/"+String(void 0===Se&&xe instanceof RegExp&&!("flags"in Qe)?Ze.call(xe):Se)}),{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(xe,we,Se){var Te=xe("../internals/collection");xe=xe("../internals/collection-strong");we.exports=Te("Set",(function(xe){return function(){return xe(this||je,arguments.length?arguments[0]:void 0)}}),xe)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/object-get-own-property-descriptor").f,Ye=xe("../internals/to-length"),Ze=xe("../internals/not-a-regexp"),Qe=xe("../internals/require-object-coercible"),Ke=xe("../internals/correct-is-regexp-logic"),Je=(xe=xe("../internals/is-pure"),"".endsWith),$e=Math.min;Ke=Ke("endsWith");Te({target:"String",proto:!0,forced:!!(xe||Ke||!(Te=Ee(String.prototype,"endsWith"))||Te.writable)&&!Ke},{endsWith:function(xe){var we=String(Qe(this||je)),Se=(Ze(xe),1<arguments.length?arguments[1]:void 0),Te=Ye(we.length);Se=void 0===Se?Te:$e(Ye(Se),Te),Te=String(xe);return Je?Je.call(we,Te,Se):we.slice(Se-Te.length,Se)===Te}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/not-a-regexp"),Ye=xe("../internals/require-object-coercible");Te({target:"String",proto:!0,forced:!xe("../internals/correct-is-regexp-logic")("includes")},{includes:function(xe){return!!~String(Ye(this||je)).indexOf(Ee(xe),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(xe,we,Se){var Te=xe("../internals/string-multibyte").charAt,Ee=xe("../internals/internal-state"),Ye=(xe=xe("../internals/define-iterator"),"String Iterator"),Ze=Ee.set,Qe=Ee.getterFor(Ye);xe(String,"String",(function(xe){Ze(this||je,{type:Ye,string:String(xe),index:0})}),(function(){var xe=Qe(this||je),we=xe.string,Se=xe.index;return Se>=we.length?{value:void 0,done:!0}:(we=Te(we,Se),xe.index+=we.length,{value:we,done:!1})}))},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Ee=xe("../internals/an-object"),Ye=xe("../internals/to-length"),Ze=xe("../internals/require-object-coercible"),Qe=xe("../internals/advance-string-index"),Ke=xe("../internals/regexp-exec-abstract");Te("match",1,(function(xe,we,Se){return[function(we){var Se=Ze(this||je),Te=null==we?void 0:we[xe];return void 0!==Te?Te.call(we,Se):new RegExp(we)[xe](String(Se))},function(xe){var Te=Se(we,xe,this||je);if(Te.done)return Te.value;var Ze=Ee(xe),Je=String(this||je);if(!Ze.global)return Ke(Ze,Je);for(var $e=Ze.unicode,et=[],tt=Ze.lastIndex=0;null!==(rt=Ke(Ze,Je));){var rt=String(rt[0]);""===(et[tt]=rt)&&(Ze.lastIndex=Qe(Je,Ye(Ze.lastIndex),$e)),tt++}return 0===tt?null:et}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/string-pad").start;Te({target:"String",proto:!0,forced:xe("../internals/string-pad-webkit-bug")},{padStart:function(xe){return Ee(this||je,xe,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(je,xe,we){je("../internals/export")({target:"String",proto:!0},{repeat:je("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Ee=xe("../internals/an-object"),Ye=xe("../internals/to-object"),Ze=xe("../internals/to-length"),Qe=xe("../internals/to-integer"),Ke=xe("../internals/require-object-coercible"),Je=xe("../internals/advance-string-index"),$e=xe("../internals/regexp-exec-abstract"),et=Math.max,tt=Math.min,rt=Math.floor,ot=/\$([$&'`]|\d\d?|<[^>]*>)/g,nt=/\$([$&'`]|\d\d?)/g;Te("replace",2,(function(xe,we,Se,Te){var st=Te.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,it=Te.REPLACE_KEEPS_$0,dt=st?"$":"$0";return[function(Se,Te){var Ee=Ke(this||je),Ye=null==Se?void 0:Se[xe];return void 0!==Ye?Ye.call(Se,Ee,Te):we.call(String(Ee),Se,Te)},function(xe,Te){if(!st&&it||"string"==typeof Te&&-1===Te.indexOf(dt)){var Ke=Se(we,xe,this||je,Te);if(Ke.done)return Ke.value}for(var ht,ft=Ee(xe),pt=String(this||je),mt="function"==typeof Te,yt=(mt||(Te=String(Te)),ft.global),gt=(yt&&(ht=ft.unicode,ft.lastIndex=0),[]);null!==(br=$e(ft,pt))&&(gt.push(br),yt);)""===String(br[0])&&(ft.lastIndex=Je(pt,Ze(ft.lastIndex),ht));for(var wt,Dt="",Xt=0,Yt=0;Yt<gt.length;Yt++){for(var br=gt[Yt],_r=String(br[0]),xr=et(tt(Qe(br.index),pt.length),0),wr=[],Sr=1;Sr<br.length;Sr++)wr.push(void 0===(wt=br[Sr])?wt:String(wt));var Tr=br.groups,Er=mt?(Er=[_r].concat(wr,xr,pt),void 0!==Tr&&Er.push(Tr),String(Te.apply(void 0,Er))):function(je,xe,Se,Te,Ee,Ze){var Qe=Se+je.length,Ke=Te.length,Je=nt;void 0!==Ee&&(Ee=Ye(Ee),Je=ot);return we.call(Ze,Je,(function(we,Ye){var Ze;switch(Ye.charAt(0)){case"$":return"$";case"&":return je;case"`":return xe.slice(0,Se);case"'":return xe.slice(Qe);case"<":Ze=Ee[Ye.slice(1,-1)];break;default:var Je,$e=+Ye;if(0==$e)return we;if(Ke<$e)return 0!==(Je=rt($e/10))&&Je<=Ke?void 0===Te[Je-1]?Ye.charAt(1):Te[Je-1]+Ye.charAt(1):we;Ze=Te[$e-1]}return void 0===Ze?"":Ze}))}(_r,pt,xr,wr,Tr,Te);Xt<=xr&&(Dt+=pt.slice(Xt,xr)+Er,Xt=xr+_r.length)}return Dt+pt.slice(Xt)}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Ee=xe("../internals/an-object"),Ye=xe("../internals/require-object-coercible"),Ze=xe("../internals/same-value"),Qe=xe("../internals/regexp-exec-abstract");Te("search",1,(function(xe,we,Se){return[function(we){var Se=Ye(this||je),Te=null==we?void 0:we[xe];return void 0!==Te?Te.call(we,Se):new RegExp(we)[xe](String(Se))},function(xe){var Te,Ye=Se(we,xe,this||je);return Ye.done?Ye.value:(Ye=Ee(xe),xe=String(this||je),Te=Ye.lastIndex,Ze(Te,0)||(Ye.lastIndex=0),xe=Qe(Ye,xe),Ze(Ye.lastIndex,Te)||(Ye.lastIndex=Te),null===xe?-1:xe.index)}]}))},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(xe,we,Se){var Te=xe("../internals/fix-regexp-well-known-symbol-logic"),Ee=xe("../internals/is-regexp"),Ye=xe("../internals/an-object"),Ze=xe("../internals/require-object-coercible"),Qe=xe("../internals/species-constructor"),Ke=xe("../internals/advance-string-index"),Je=xe("../internals/to-length"),$e=xe("../internals/regexp-exec-abstract"),et=xe("../internals/regexp-exec"),tt=(xe=xe("../internals/fails"),[].push),rt=Math.min,ot=4294967295,nt=!xe((function(){return!RegExp(ot,"y")}));Te("split",2,(function(xe,we,Se){var Te="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(xe,Se){var Te=String(Ze(this||je)),Ye=void 0===Se?ot:Se>>>0;if(0==Ye)return[];if(void 0===xe)return[Te];if(!Ee(xe))return we.call(Te,xe,Ye);for(var Qe,Ke,Je,$e=[],rt=(Se=(xe.ignoreCase?"i":"")+(xe.multiline?"m":"")+(xe.unicode?"u":"")+(xe.sticky?"y":""),0),nt=new RegExp(xe.source,Se+"g");(Qe=et.call(nt,Te))&&!(rt<(Ke=nt.lastIndex)&&($e.push(Te.slice(rt,Qe.index)),1<Qe.length&&Qe.index<Te.length&&tt.apply($e,Qe.slice(1)),Je=Qe[0].length,rt=Ke,$e.length>=Ye));)nt.lastIndex===Qe.index&&nt.lastIndex++;return rt===Te.length?!Je&&nt.test("")||$e.push(""):$e.push(Te.slice(rt)),$e.length>Ye?$e.slice(0,Ye):$e}:"0".split(void 0,0).length?function(xe,Se){return void 0===xe&&0===Se?[]:we.call(this||je,xe,Se)}:we;return[function(we,Se){var Ee=Ze(this||je),Ye=null==we?void 0:we[xe];return void 0!==Ye?Ye.call(we,Ee,Se):Te.call(String(Ee),we,Se)},function(xe,Ee){var Ze=Se(Te,xe,this||je,Ee,Te!==we);if(Ze.done)return Ze.value;Ze=Ye(xe);var et=String(this||je),tt=(xe=Qe(Ze,RegExp),Ze.unicode),st=(Ze.ignoreCase?"i":"")+(Ze.multiline?"m":"")+(Ze.unicode?"u":"")+(nt?"y":"g"),it=new xe(nt?Ze:"^(?:"+Ze.source+")",st),dt=void 0===Ee?ot:Ee>>>0;if(0==dt)return[];if(0===et.length)return null===$e(it,et)?[et]:[];for(var ht=0,ft=0,pt=[];ft<et.length;){it.lastIndex=nt?ft:0;var mt,yt=$e(it,nt?et:et.slice(ft));if(null===yt||(mt=rt(Je(it.lastIndex+(nt?0:ft)),et.length))===ht)ft=Ke(et,ft,tt);else{if(pt.push(et.slice(ht,ft)),pt.length===dt)return pt;for(var gt=1;gt<=yt.length-1;gt++)if(pt.push(yt[gt]),pt.length===dt)return pt;ft=ht=mt}}return pt.push(et.slice(ht)),pt}]}),!nt)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/object-get-own-property-descriptor").f,Ye=xe("../internals/to-length"),Ze=xe("../internals/not-a-regexp"),Qe=xe("../internals/require-object-coercible"),Ke=xe("../internals/correct-is-regexp-logic"),Je=(xe=xe("../internals/is-pure"),"".startsWith),$e=Math.min;Ke=Ke("startsWith");Te({target:"String",proto:!0,forced:!!(xe||Ke||!(Te=Ee(String.prototype,"startsWith"))||Te.writable)&&!Ke},{startsWith:function(xe){var we=String(Qe(this||je)),Se=(Ze(xe),Ye($e(1<arguments.length?arguments[1]:void 0,we.length)));xe=String(xe);return Je?Je.call(we,xe,Se):we.slice(Se,Se+xe.length)===xe}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/create-html");Te({target:"String",proto:!0,forced:xe("../internals/string-html-forced")("sub")},{sub:function(){return Ee(this||je,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(xe,we,Se){var Te=xe("../internals/export"),Ee=xe("../internals/string-trim").trim;Te({target:"String",proto:!0,forced:xe("../internals/string-trim-forced")("trim")},{trim:function(){return Ee(this||je)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(xe,we,Se){var Te,Ee,Ye,Ze,Qe,Ke=xe("../internals/export"),Je=xe("../internals/descriptors"),$e=xe("../internals/global"),et=xe("../internals/has"),tt=xe("../internals/is-object"),rt=xe("../internals/object-define-property").f,ot=(xe=xe("../internals/copy-constructor-properties"),$e.Symbol);!Je||"function"!=typeof ot||"description"in ot.prototype&&void 0===ot().description||(Te={},xe(Ee=function(){var xe=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),we=(this||je)instanceof Ee?new ot(xe):void 0===xe?ot():ot(xe);return""===xe&&(Te[we]=!0),we},ot),($e=Ee.prototype=ot.prototype).constructor=Ee,Ye=$e.toString,Ze="Symbol(test)"==String(ot("test")),Qe=/^Symbol\((.*)\)[^)]+$/,rt($e,"description",{configurable:!0,get:function(){var xe=tt(this||je)?this.valueOf():this||je,we=Ye.call(xe);return et(Te,xe)?"":""===(xe=Ze?we.slice(7,-1):we.replace(Qe,"$1"))?void 0:xe}}),Ke({global:!0,forced:!0},{Symbol:Ee}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(je,xe,we){je("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(xe,we,Se){function o(je,xe){var we=qr[je]=ht(Br[Dr]);return Fr(we,{type:Ir,tag:je,description:xe}),Qe||(we.description=xe),we}function r(je,xe){ot(je);var we=st(xe);xe=ft(we).concat(I(we));return Pr(xe,(function(xe){Qe&&!R.call(we,xe)||L(je,xe,we[xe])})),je}function t(je,xe){var we;je=st(je),xe=it(xe,!0);if(je!==Nr||!et(qr,xe)||et(Xr,xe))return!(we=Vr(je,xe))||!et(qr,xe)||et(je,Rr)&&je[Rr][xe]||(we.enumerable=!0),we}function U(je){je=Hr(st(je));var xe=[];return Pr(je,(function(je){et(qr,je)||et(xr,je)||xe.push(je)})),xe}var Te=xe("../internals/export"),Ee=xe("../internals/global"),Ye=xe("../internals/get-built-in"),Ze=xe("../internals/is-pure"),Qe=xe("../internals/descriptors"),Ke=xe("../internals/native-symbol"),Je=xe("../internals/use-symbol-as-uid"),$e=xe("../internals/fails"),et=xe("../internals/has"),tt=xe("../internals/is-array"),rt=xe("../internals/is-object"),ot=xe("../internals/an-object"),nt=xe("../internals/to-object"),st=xe("../internals/to-indexed-object"),it=xe("../internals/to-primitive"),dt=xe("../internals/create-property-descriptor"),ht=xe("../internals/object-create"),ft=xe("../internals/object-keys"),pt=xe("../internals/object-get-own-property-names"),mt=xe("../internals/object-get-own-property-names-external"),yt=xe("../internals/object-get-own-property-symbols"),gt=xe("../internals/object-get-own-property-descriptor"),wt=xe("../internals/object-define-property"),Dt=xe("../internals/object-property-is-enumerable"),Xt=xe("../internals/create-non-enumerable-property"),Yt=xe("../internals/redefine"),br=xe("../internals/shared"),_r=xe("../internals/shared-key"),xr=xe("../internals/hidden-keys"),wr=xe("../internals/uid"),Sr=xe("../internals/well-known-symbol"),Tr=xe("../internals/well-known-symbol-wrapped"),Er=xe("../internals/define-well-known-symbol"),Ar=xe("../internals/set-to-string-tag"),Lr=xe("../internals/internal-state"),Pr=xe("../internals/array-iteration").forEach,Rr=_r("hidden"),Ir="Symbol",Dr="prototype",Fr=(xe=Sr("toPrimitive"),Lr.set),Ur=Lr.getterFor(Ir),Nr=Object[Dr],Br=Ee.Symbol,Gr=Ye("JSON","stringify"),Vr=gt.f,zr=wt.f,Hr=mt.f,Wr=Dt.f,qr=br("symbols"),Xr=br("op-symbols"),Yr=br("string-to-symbol-registry"),Zr=br("symbol-to-string-registry"),Qr=(_r=br("wks"),Lr=Ee.QObject,!Lr||!Lr[Dr]||!Lr[Dr].findChild),Kr=Qe&&$e((function(){return 7!=ht(zr({},"a",{get:function(){return zr(this||je,"a",{value:7}).a}})).a}))?function(je,xe,we){var Se=Vr(Nr,xe);Se&&delete Nr[xe],zr(je,xe,we),Se&&je!==Nr&&zr(Nr,xe,Se)}:zr,Jr=Je?function(je){return"symbol"==typeof je}:function(je){return Object(je)instanceof Br},L=function(je,xe,we){je===Nr&&L(Xr,xe,we),ot(je);xe=it(xe,!0);return ot(we),(et(qr,xe)?(we.enumerable?(et(je,Rr)&&je[Rr][xe]&&(je[Rr][xe]=!1),we=ht(we,{enumerable:dt(0,!1)})):(et(je,Rr)||zr(je,Rr,dt(1,{})),je[Rr][xe]=!0),Kr):zr)(je,xe,we)},R=function(xe){xe=it(xe,!0);var we=Wr.call(this||je,xe);return!((this||je)===Nr&&et(qr,xe)&&!et(Xr,xe))&&(!(we||!et(this||je,xe)||!et(qr,xe)||et(this||je,Rr)&&(this||je)[Rr][xe])||we)},I=function(je){var xe=je===Nr,we=(je=Hr(xe?Xr:st(je)),[]);return Pr(je,(function(je){!et(qr,je)||xe&&!et(Nr,je)||we.push(qr[je])})),we};Ke||(Yt((Br=function(){if((this||je)instanceof Br)throw TypeError("Symbol is not a constructor");var xe=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,we=wr(xe),r=function(xe){(this||je)===Nr&&r.call(Xr,xe),et(this||je,Rr)&&et((this||je)[Rr],we)&&((this||je)[Rr][we]=!1),Kr(this||je,we,dt(1,xe))};return Qe&&Qr&&Kr(Nr,we,{configurable:!0,set:r}),o(we,xe)})[Dr],"toString",(function(){return Ur(this||je).tag})),Yt(Br,"withoutSetter",(function(je){return o(wr(je),je)})),Dt.f=R,wt.f=L,gt.f=t,pt.f=mt.f=U,yt.f=I,Tr.f=function(je){return o(Sr(je),je)},Qe&&(zr(Br[Dr],"description",{configurable:!0,get:function(){return Ur(this||je).description}}),Ze||Yt(Nr,"propertyIsEnumerable",R,{unsafe:!0}))),Te({global:!0,wrap:!0,forced:!Ke,sham:!Ke},{Symbol:Br}),Pr(ft(_r),(function(je){Er(je)})),Te({target:Ir,stat:!0,forced:!Ke},{for:function(je){var xe;je=String(je);return et(Yr,je)?Yr[je]:(xe=Br(je),Yr[je]=xe,Zr[xe]=je,xe)},keyFor:function(je){if(!Jr(je))throw TypeError(je+" is not a symbol");if(et(Zr,je))return Zr[je]},useSetter:function(){Qr=!0},useSimple:function(){Qr=!1}}),Te({target:"Object",stat:!0,forced:!Ke,sham:!Qe},{create:function(je,xe){return void 0===xe?ht(je):r(ht(je),xe)},defineProperty:L,defineProperties:r,getOwnPropertyDescriptor:t}),Te({target:"Object",stat:!0,forced:!Ke},{getOwnPropertyNames:U,getOwnPropertySymbols:I}),Te({target:"Object",stat:!0,forced:$e((function(){yt.f(1)}))},{getOwnPropertySymbols:function(je){return yt.f(nt(je))}}),Gr&&Te({target:"JSON",stat:!0,forced:!Ke||$e((function(){var je=Br();return"[null]"!=Gr([je])||"{}"!=Gr({a:je})||"{}"!=Gr(Object(je))}))},{stringify:function(xe,we,Se){for(var Te,Ee=[xe],Ye=1;Ye<arguments.length;)Ee.push(arguments[Ye++]);if((rt(Te=we)||void 0!==xe)&&!Jr(xe))return tt(we)||(we=function(xe,we){if("function"==typeof Te&&(we=Te.call(this||je,xe,we)),!Jr(we))return we}),Ee[1]=we,Gr.apply(null,Ee)}}),Br[Dr][xe]||Xt(Br[Dr],xe,Br[Dr].valueOf),Ar(Br,Ir),xr[Rr]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-copy-within"),Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("copyWithin",(function(xe,we){return Ee.call(Ye(this||je),xe,we,2<arguments.length?arguments[2]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").every,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("every",(function(xe){return Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-fill"),Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("fill",(function(xe){return Ee.apply(Ye(this||je),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").filter,Ye=xe("../internals/species-constructor"),Ze=Te.aTypedArray,Qe=Te.aTypedArrayConstructor;(0,Te.exportTypedArrayMethod)("filter",(function(xe){for(var we=Ee(Ze(this||je),xe,1<arguments.length?arguments[1]:void 0),Se=(xe=Ye(this||je,(this||je).constructor),0),Te=we.length,Ke=new(Qe(xe))(Te);Se<Te;)Ke[Se]=we[Se++];return Ke}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").findIndex,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("findIndex",(function(xe){return Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").find,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("find",(function(xe){return Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Float32",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],217:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Float64",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],218:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").forEach,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("forEach",(function(xe){Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-includes").includes,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("includes",(function(xe){return Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-includes").indexOf,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("indexOf",(function(xe){return Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Int16",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],222:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Int32",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],223:[function(xe,we,Se){function o(){return Ze.call(Je(this||je))}var Te=xe("../internals/global"),Ee=xe("../internals/array-buffer-view-core"),Ye=xe("../modules/es.array.iterator"),Ze=(xe=xe("../internals/well-known-symbol")("iterator"),Te=Te.Uint8Array,Ye.values),Qe=Ye.keys,Ke=Ye.entries,Je=Ee.aTypedArray;Ye=Ee.exportTypedArrayMethod,Ee=Te&&Te.prototype[xe],Te=!!Ee&&("values"==Ee.name||null==Ee.name);Ye("entries",(function(){return Ke.call(Je(this||je))})),Ye("keys",(function(){return Qe.call(Je(this||je))})),Ye("values",o,!Te),Ye(xe,o,!Te)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(xe,we,Se){xe=xe("../internals/array-buffer-view-core");var Te=xe.aTypedArray,Ee=(xe=xe.exportTypedArrayMethod,[].join);xe("join",(function(xe){return Ee.apply(Te(this||je),arguments)}))},{"../internals/array-buffer-view-core":12}],225:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-last-index-of"),Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("lastIndexOf",(function(xe){return Ee.apply(Ye(this||je),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").map,Ye=xe("../internals/species-constructor"),Ze=Te.aTypedArray,Qe=Te.aTypedArrayConstructor;(0,Te.exportTypedArrayMethod)("map",(function(xe){return Ee(Ze(this||je),xe,1<arguments.length?arguments[1]:void 0,(function(je,xe){return new(Qe(Ye(je,je.constructor)))(xe)}))}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-reduce").right,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("reduceRight",(function(xe){return Ee(Ye(this||je),xe,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-reduce").left,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("reduce",(function(xe){return Ee(Ye(this||je),xe,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(xe,we,Se){xe=xe("../internals/array-buffer-view-core");var Te=xe.aTypedArray,Ee=(xe=xe.exportTypedArrayMethod,Math.floor);xe("reverse",(function(){for(var xe,we=Te(this||je).length,Se=Ee(we/2),Ye=0;Ye<Se;)xe=(this||je)[Ye],(this||je)[Ye++]=(this||je)[--we],(this||je)[we]=xe;return this||je}))},{"../internals/array-buffer-view-core":12}],230:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/to-length"),Ye=xe("../internals/to-offset"),Ze=xe("../internals/to-object"),Qe=(xe=xe("../internals/fails"),Te.aTypedArray);(0,Te.exportTypedArrayMethod)("set",(function(xe){Qe(this||je);var we=Ye(1<arguments.length?arguments[1]:void 0,1),Se=(this||je).length,Te=Ze(xe),Ke=Ee(Te.length),Je=0;if(Se<Ke+we)throw RangeError("Wrong length");for(;Je<Ke;)(this||je)[we+Je]=Te[Je++]}),xe((function(){new Int8Array(1).set({})})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/species-constructor"),Ye=(xe=xe("../internals/fails"),Te.aTypedArray),Ze=Te.aTypedArrayConstructor,Qe=(Te=Te.exportTypedArrayMethod,[].slice);Te("slice",(function(xe,we){for(var Se=Qe.call(Ye(this||je),xe,we),Te=(xe=Ee(this||je,(this||je).constructor),0),Ke=Se.length,Je=new(Ze(xe))(Ke);Te<Ke;)Je[Te]=Se[Te++];return Je}),xe((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/array-iteration").some,Ye=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("some",(function(xe){return Ee(Ye(this||je),xe,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(xe,we,Se){xe=xe("../internals/array-buffer-view-core");var Te=xe.aTypedArray,Ee=(xe=xe.exportTypedArrayMethod,[].sort);xe("sort",(function(xe){return Ee.call(Te(this||je),xe)}))},{"../internals/array-buffer-view-core":12}],234:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core"),Ee=xe("../internals/to-length"),Ye=xe("../internals/to-absolute-index"),Ze=xe("../internals/species-constructor"),Qe=Te.aTypedArray;(0,Te.exportTypedArrayMethod)("subarray",(function(xe,we){var Se=Qe(this||je),Te=Se.length;xe=Ye(xe,Te);return new(Ze(Se,Se.constructor))(Se.buffer,Se.byteOffset+xe*Se.BYTES_PER_ELEMENT,Ee((void 0===we?Te:Ye(we,Te))-xe))}))},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(xe,we,Se){var Te=xe("../internals/global"),Ee=xe("../internals/array-buffer-view-core"),Ye=(xe=xe("../internals/fails"),Te.Int8Array),Ze=Ee.aTypedArray,Qe=(Te=Ee.exportTypedArrayMethod,[].toLocaleString),Ke=[].slice,Je=!!Ye&&xe((function(){Qe.call(new Ye(1))}));Te("toLocaleString",(function(){return Qe.apply(Je?Ke.call(Ze(this||je)):Ze(this||je),arguments)}),xe((function(){return[1,2].toLocaleString()!=new Ye([1,2]).toLocaleString()}))||!xe((function(){Ye.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(xe,we,Se){var Te=xe("../internals/array-buffer-view-core").exportTypedArrayMethod,Ee=xe("../internals/fails"),Ye=(xe=xe("../internals/global").Uint8Array,xe=xe&&xe.prototype||{},[].toString),Ze=[].join;Ee=(Ee((function(){Ye.call({})}))&&(Ye=function(){return Ze.call(this||je)}),xe.toString!=Ye);Te("toString",Ye,Ee)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint16",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],238:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint32",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],239:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint8",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}))},{"../internals/typed-array-constructor":143}],240:[function(xe,we,Se){xe("../internals/typed-array-constructor")("Uint8",(function(xe){return function(we,Se,Te){return xe(this||je,we,Se,Te)}}),!0)},{"../internals/typed-array-constructor":143}],241:[function(xe,we,Se){function o(xe){return function(){return xe(this||je,arguments.length?arguments[0]:void 0)}}var Te,Ee,Ye,Ze,Qe,Ke=xe("../internals/global"),Je=xe("../internals/redefine-all"),$e=xe("../internals/internal-metadata"),et=xe("../internals/collection"),tt=xe("../internals/collection-weak"),rt=xe("../internals/is-object"),ot=xe("../internals/internal-state").enforce,nt=(xe=xe("../internals/native-weak-map"),Ke=!Ke.ActiveXObject&&"ActiveXObject"in Ke,Object.isExtensible);we=we.exports=et("WeakMap",o,tt);xe&&Ke&&(Te=tt.getConstructor(o,"WeakMap",!0),$e.REQUIRED=!0,et=we.prototype,Ee=et.delete,Ye=et.has,Ze=et.get,Qe=et.set,Je(et,{delete:function(xe){var we;return rt(xe)&&!nt(xe)?((we=ot(this||je)).frozen||(we.frozen=new Te),Ee.call(this||je,xe)||we.frozen.delete(xe)):Ee.call(this||je,xe)},has:function(xe){var we;return rt(xe)&&!nt(xe)?((we=ot(this||je)).frozen||(we.frozen=new Te),Ye.call(this||je,xe)||we.frozen.has(xe)):Ye.call(this||je,xe)},get:function(xe){var we;return!rt(xe)||nt(xe)||((we=ot(this||je)).frozen||(we.frozen=new Te),Ye.call(this||je,xe))?Ze.call(this||je,xe):we.frozen.get(xe)},set:function(xe,we){var Se;return!rt(xe)||nt(xe)||((Se=ot(this||je)).frozen||(Se.frozen=new Te),Ye.call(this||je,xe))?Qe.call(this||je,xe,we):Se.frozen.set(xe,we),this||je}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(je,xe,we){var Se,Te=je("../internals/global"),Ee=je("../internals/dom-iterables"),Ye=je("../internals/array-for-each"),Ze=je("../internals/create-non-enumerable-property");for(Se in Ee){var Qe=Te[Se];Qe=Qe&&Qe.prototype;if(Qe&&Qe.forEach!==Ye)try{Ze(Qe,"forEach",Ye)}catch(je){Qe.forEach=Ye}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(je,xe,we){var Se,Te=je("../internals/global"),Ee=je("../internals/dom-iterables"),Ye=je("../modules/es.array.iterator"),Ze=je("../internals/create-non-enumerable-property"),Qe=(je=je("../internals/well-known-symbol"),je("iterator")),Ke=je("toStringTag"),Je=Ye.values;for(Se in Ee){var $e=Te[Se],et=$e&&$e.prototype;if(et){if(et[Qe]!==Je)try{Ze(et,Qe,Je)}catch(je){et[Qe]=Je}if(et[Ke]||Ze(et,Ke,Se),Ee[Se])for(var tt in Ye)if(et[tt]!==Ye[tt])try{Ze(et,tt,Ye[tt])}catch(je){et[tt]=Ye[tt]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(xe,we,Se){xe("../modules/es.array.iterator");function n(je){try{return decodeURIComponent(je)}catch(xe){return je}}function r(je){return xr[je]}function s(je){return encodeURIComponent(je).replace(_r,r)}function c(xe){(this||je).entries.length=0,R((this||je).entries,xe)}function u(je,xe){if(je<xe)throw TypeError("Not enough arguments")}function d(){et(this||je,d,yt);var xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke=0<arguments.length?arguments[0]:void 0,Je=[];if(wt(this||je,{type:yt,entries:Je,updateURL:function(){},updateSearchParams:c}),void 0!==Ke)if(st(Ke))if("function"==typeof(xe=ft(Ke)))for(Se=(we=xe.call(Ke)).next;!(Te=Se.call(we)).done;){if((Ye=(Ee=(Te=ht(nt(Te.value))).next).call(Te)).done||(Ze=Ee.call(Te)).done||!Ee.call(Te).done)throw TypeError("Expected sequence with length 2");Je.push({key:Ye.value+"",value:Ze.value+""})}else for(Qe in Ke)tt(Ke,Qe)&&Je.push({key:Qe,value:Ke[Qe]+""});else R(Je,"string"==typeof Ke?"?"===Ke.charAt(0)?Ke.slice(1):Ke:Ke+"")}var Te=xe("../internals/export"),Ee=xe("../internals/get-built-in"),Ye=xe("../internals/native-url"),Ze=xe("../internals/redefine"),Qe=xe("../internals/redefine-all"),Ke=xe("../internals/set-to-string-tag"),Je=xe("../internals/create-iterator-constructor"),$e=xe("../internals/internal-state"),et=xe("../internals/an-instance"),tt=xe("../internals/has"),rt=xe("../internals/function-bind-context"),ot=xe("../internals/classof"),nt=xe("../internals/an-object"),st=xe("../internals/is-object"),it=xe("../internals/object-create"),dt=xe("../internals/create-property-descriptor"),ht=xe("../internals/get-iterator"),ft=xe("../internals/get-iterator-method"),pt=(xe=xe("../internals/well-known-symbol"),Ee("fetch")),mt=Ee("Headers"),yt=(Ee=xe("iterator"),"URLSearchParams"),gt=yt+"Iterator",wt=$e.set,Dt=$e.getterFor(yt),Xt=$e.getterFor(gt),Yt=/\+/g,br=Array(4),L=function(je){var xe,we=je.replace(Yt," "),Se=4;try{return decodeURIComponent(we)}catch(je){for(;Se;)we=we.replace((xe=Se--,br[xe-1]||(br[xe-1]=RegExp("((?:%[\\da-f]{2}){"+xe+"})","gi"))),n);return we}},_r=/[!'()~]|%20/g,xr={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},R=function(je,xe){if(xe)for(var we,Se=xe.split("&"),Te=0;Te<Se.length;)(we=Se[Te++]).length&&(we=we.split("="),je.push({key:L(we.shift()),value:L(we.join("="))}))},wr=Je((function(xe,we){wt(this||je,{type:gt,iterator:ht(Dt(xe).entries),kind:we})}),"Iterator",(function(){var xe=Xt(this||je),we=xe.kind,Se=(xe=xe.iterator.next(),xe.value);return xe.done||(xe.value="keys"===we?Se.key:"values"===we?Se.value:[Se.key,Se.value]),xe}));xe=d.prototype;Qe(xe,{append:function(xe,we){u(arguments.length,2);var Se=Dt(this||je);Se.entries.push({key:xe+"",value:we+""}),Se.updateURL()},delete:function(xe){u(arguments.length,1);for(var we=Dt(this||je),Se=we.entries,Te=xe+"",Ee=0;Ee<Se.length;)Se[Ee].key===Te?Se.splice(Ee,1):Ee++;we.updateURL()},get:function(xe){u(arguments.length,1);for(var we=Dt(this||je).entries,Se=xe+"",Te=0;Te<we.length;Te++)if(we[Te].key===Se)return we[Te].value;return null},getAll:function(xe){u(arguments.length,1);for(var we=Dt(this||je).entries,Se=xe+"",Te=[],Ee=0;Ee<we.length;Ee++)we[Ee].key===Se&&Te.push(we[Ee].value);return Te},has:function(xe){u(arguments.length,1);for(var we=Dt(this||je).entries,Se=xe+"",Te=0;Te<we.length;)if(we[Te++].key===Se)return!0;return!1},set:function(xe,we){u(arguments.length,1);for(var Se,Te=Dt(this||je),Ee=Te.entries,Ye=!1,Ze=xe+"",Qe=we+"",Ke=0;Ke<Ee.length;Ke++)(Se=Ee[Ke]).key===Ze&&(Ye?Ee.splice(Ke--,1):(Ye=!0,Se.value=Qe));Ye||Ee.push({key:Ze,value:Qe}),Te.updateURL()},sort:function(){for(var xe,we,Se=Dt(this||je),Te=Se.entries,Ee=Te.slice(),Ye=Te.length=0;Ye<Ee.length;Ye++){for(xe=Ee[Ye],we=0;we<Ye;we++)if(Te[we].key>xe.key){Te.splice(we,0,xe);break}we===Ye&&Te.push(xe)}Se.updateURL()},forEach:function(xe){for(var we,Se=Dt(this||je).entries,Te=rt(xe,1<arguments.length?arguments[1]:void 0,3),Ee=0;Ee<Se.length;)Te((we=Se[Ee++]).value,we.key,this||je)},keys:function(){return new wr(this||je,"keys")},values:function(){return new wr(this||je,"values")},entries:function(){return new wr(this||je,"entries")}},{enumerable:!0}),Ze(xe,Ee,xe.entries),Ze(xe,"toString",(function(){for(var xe,we=Dt(this||je).entries,Se=[],Te=0;Te<we.length;)xe=we[Te++],Se.push(s(xe.key)+"="+s(xe.value));return Se.join("&")}),{enumerable:!0}),Ke(d,yt),Te({global:!0,forced:!Ye},{URLSearchParams:d}),Ye||"function"!=typeof pt||"function"!=typeof mt||Te({global:!0,enumerable:!0,forced:!0},{fetch:function(xe){var we,Se,Te;xe=[xe];return 1<arguments.length&&(st(we=arguments[1])&&(Se=we.body,ot(Se)===yt&&((Te=we.headers?new mt(we.headers):new mt).has("content-type")||Te.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),we=it(we,{body:dt(0,String(Se)),headers:dt(0,Te)}))),xe.push(we)),pt.apply(this||je,xe)}}),we.exports={URLSearchParams:d,getState:Dt}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(xe,we,Se){xe("../modules/es.string.iterator");function c(je){var xe,we,Se,Te;if("number"==typeof je){for(xe=[],we=0;we<4;we++)xe.unshift(je%256),je=wt(je/256);return xe.join(".")}if("object"!=typeof je)return je;for(xe="",Se=le(je),we=0;we<8;we++)Te&&0===je[we]||(Te=Te&&!1,Se===we?(xe+=we?":":"::",Te=!0):(xe+=je[we].toString(16),we<7&&(xe+=":")));return"["+xe+"]"}function n(je){return!je.host||je.cannotBeABaseURL||"file"==je.scheme}function a(je,xe,we,Se){var Ee,Ye,Ze,Qe=we||Vr,Ke=0,Je="",$e=!1,et=!1,tt=!1;for(we||(je.scheme="",je.username="",je.password="",je.host=null,je.port=null,je.path=[],je.query=null,je.fragment=null,je.cannotBeABaseURL=!1,xe=xe.replace(Ir,"")),xe=xe.replace(Dr,""),Ee=nt(xe);Ke<=Ee.length;){switch(Ye=Ee[Ke],Qe){case Vr:if(!Ye||!xr.test(Ye)){if(we)return Yt;Qe=Hr;continue}Je+=Ye.toLowerCase(),Qe=zr;break;case zr:if(Ye&&(wr.test(Ye)||"+"==Ye||"-"==Ye||"."==Ye))Je+=Ye.toLowerCase();else{if(":"!=Ye){if(we)return Yt;Je="",Qe=Hr,Ke=0;continue}if(we&&(k(je)!=rt(Gr,Je)||"file"==Je&&(C(je)||null!==je.port)||"file"==je.scheme&&!je.host))return;if(je.scheme=Je,we)return void(k(je)&&Gr[je.scheme]==je.port&&(je.port=null));Je="","file"==je.scheme?Qe=to:k(je)&&Se&&Se.scheme==je.scheme?Qe=Wr:k(je)?Qe=Zr:"/"==Ee[Ke+1]?(Qe=qr,Ke++):(je.cannotBeABaseURL=!0,je.path.push(""),Qe=io)}break;case Hr:if(!Se||Se.cannotBeABaseURL&&"#"!=Ye)return Yt;if(Se.cannotBeABaseURL&&"#"==Ye){je.scheme=Se.scheme,je.path=Se.path.slice(),je.query=Se.query,je.fragment="",je.cannotBeABaseURL=!0,Qe=lo;break}Qe="file"==Se.scheme?to:Xr;continue;case Wr:if("/"!=Ye||"/"!=Ee[Ke+1]){Qe=Xr;continue}Qe=Qr,Ke++;break;case qr:if("/"==Ye){Qe=Kr;break}Qe=so;continue;case Xr:if(je.scheme=Se.scheme,Ye==Te)je.username=Se.username,je.password=Se.password,je.host=Se.host,je.port=Se.port,je.path=Se.path.slice(),je.query=Se.query;else if("/"==Ye||"\\"==Ye&&k(je))Qe=Yr;else if("?"==Ye)je.username=Se.username,je.password=Se.password,je.host=Se.host,je.port=Se.port,je.path=Se.path.slice(),je.query="",Qe=ao;else{if("#"!=Ye){je.username=Se.username,je.password=Se.password,je.host=Se.host,je.port=Se.port,je.path=Se.path.slice(),je.path.pop(),Qe=so;continue}je.username=Se.username,je.password=Se.password,je.host=Se.host,je.port=Se.port,je.path=Se.path.slice(),je.query=Se.query,je.fragment="",Qe=lo}break;case Yr:if(!k(je)||"/"!=Ye&&"\\"!=Ye){if("/"!=Ye){je.username=Se.username,je.password=Se.password,je.host=Se.host,je.port=Se.port,Qe=so;continue}Qe=Kr}else Qe=Qr;break;case Zr:if(Qe=Qr,"/"!=Ye||"/"!=Je.charAt(Ke+1))continue;Ke++;break;case Qr:if("/"==Ye||"\\"==Ye)break;Qe=Kr;continue;case Kr:if("@"==Ye){$e&&(Je="%40"+Je);$e=!0;for(var ot=nt(Je),st=0;st<ot.length;st++){var it=ot[st];":"!=it||tt?(it=E(it,Br),tt?je.password+=it:je.username+=it):tt=!0}Je=""}else if(Ye==Te||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&k(je)){if($e&&""==Je)return Xt;Ke-=nt(Je).length+1,Je="",Qe=Jr}else Je+=Ye;break;case Jr:case $r:if(we&&"file"==je.scheme){Qe=oo;continue}if(":"!=Ye||et){if(Ye==Te||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&k(je)){if(k(je)&&""==Je)return br;if(we&&""==Je&&(C(je)||null!==je.port))return;if(Ze=w(je,Je))return Ze;if(Je="",Qe=no,we)return;continue}"["==Ye?et=!0:"]"==Ye&&(et=!1),Je+=Ye}else{if(""==Je)return br;if(Ze=w(je,Je))return Ze;if(Je="",Qe=eo,we==$r)return}break;case eo:if(!Sr.test(Ye)){if(Ye==Te||"/"==Ye||"?"==Ye||"#"==Ye||"\\"==Ye&&k(je)||we){if(""!=Je){var dt=parseInt(Je,10);if(65535<dt)return _r;je.port=k(je)&&dt===Gr[je.scheme]?null:dt,Je=""}if(we)return;Qe=no;continue}return _r}Je+=Ye;break;case to:if(je.scheme="file","/"==Ye||"\\"==Ye)Qe=ro;else{if(!Se||"file"!=Se.scheme){Qe=so;continue}if(Ye==Te)je.host=Se.host,je.path=Se.path.slice(),je.query=Se.query;else if("?"==Ye)je.host=Se.host,je.path=Se.path.slice(),je.query="",Qe=ao;else{if("#"!=Ye){de(Ee.slice(Ke).join(""))||(je.host=Se.host,je.path=Se.path.slice(),he(je)),Qe=so;continue}je.host=Se.host,je.path=Se.path.slice(),je.query=Se.query,je.fragment="",Qe=lo}}break;case ro:if("/"==Ye||"\\"==Ye){Qe=oo;break}Se&&"file"==Se.scheme&&!de(Ee.slice(Ke).join(""))&&(O(Se.path[0],!0)?je.path.push(Se.path[0]):je.host=Se.host),Qe=so;continue;case oo:if(Ye==Te||"/"==Ye||"\\"==Ye||"?"==Ye||"#"==Ye){if(!we&&O(Je))Qe=so;else{if(""==Je){if(je.host="",we)return}else{if(Ze=w(je,Je))return Ze;if("localhost"==je.host&&(je.host=""),we)return;Je=""}Qe=no}continue}Je+=Ye;break;case no:if(k(je)){if(Qe=so,"/"!=Ye&&"\\"!=Ye)continue}else if(we||"?"!=Ye)if(we||"#"!=Ye){if(Ye!=Te&&(Qe=so,"/"!=Ye))continue}else je.fragment="",Qe=lo;else je.query="",Qe=ao;break;case so:if(Ye==Te||"/"==Ye||"\\"==Ye&&k(je)||!we&&("?"==Ye||"#"==Ye)){if(pe(Je)?(he(je),"/"==Ye||"\\"==Ye&&k(je)||je.path.push("")):fe(Je)?"/"==Ye||"\\"==Ye&&k(je)||je.path.push(""):("file"==je.scheme&&!je.path.length&&O(Je)&&(je.host&&(je.host=""),Je=Je.charAt(0)+":"),je.path.push(Je)),Je="","file"==je.scheme&&(Ye==Te||"?"==Ye||"#"==Ye))for(;1<je.path.length&&""===je.path[0];)je.path.shift();"?"==Ye?(je.query="",Qe=ao):"#"==Ye&&(je.fragment="",Qe=lo)}else Je+=E(Ye,Nr);break;case io:"?"==Ye?(je.query="",Qe=ao):"#"==Ye?(je.fragment="",Qe=lo):Ye!=Te&&(je.path[0]+=E(Ye,Fr));break;case ao:we||"#"!=Ye?Ye!=Te&&("'"==Ye&&k(je)?je.query+="%27":je.query+="#"==Ye?"%23":E(Ye,Fr)):(je.fragment="",Qe=lo);break;case lo:Ye!=Te&&(je.fragment+=E(Ye,Ur))}Ke++}}function l(xe){var we,Se,Te=tt(this||je,l,"URL"),Ee=1<arguments.length?arguments[1]:void 0,Ye=(xe=String(xe),yt(Te,{type:"URL"}));if(void 0!==Ee)if(Ee instanceof l)we=gt(Ee);else if(Se=a(we={},String(Ee)))throw TypeError(Se);if(Se=a(Ye,xe,null,we))throw TypeError(Se);var Ze=Ye.searchParams=new pt;(Ee=mt(Ze)).updateSearchParams(Ye.query),Ee.updateURL=function(){Ye.query=String(Ze)||null},Qe||(Te.href=uo.call(Te),Te.origin=Oe.call(Te),Te.protocol=Ae.call(Te),Te.username=Pe.call(Te),Te.password=Le.call(Te),Te.host=Re.call(Te),Te.hostname=Ie.call(Te),Te.port=De.call(Te),Te.pathname=Fe.call(Te),Te.search=Ue.call(Te),Te.searchParams=Ne.call(Te),Te.hash=Be.call(Te))}function t(je,xe){return{get:je,set:xe,configurable:!0,enumerable:!0}}var Te,Ee,Ye,Ze=xe("../internals/export"),Qe=xe("../internals/descriptors"),Ke=xe("../internals/native-url"),Je=xe("../internals/global"),$e=xe("../internals/object-define-properties"),et=xe("../internals/redefine"),tt=xe("../internals/an-instance"),rt=xe("../internals/has"),ot=xe("../internals/object-assign"),nt=xe("../internals/array-from"),st=xe("../internals/string-multibyte").codeAt,it=xe("../internals/string-punycode-to-ascii"),dt=xe("../internals/set-to-string-tag"),ht=xe("../modules/web.url-search-params"),ft=(xe=xe("../internals/internal-state"),Je.URL),pt=ht.URLSearchParams,mt=ht.getState,yt=xe.set,gt=xe.getterFor("URL"),wt=Math.floor,Dt=Math.pow,Xt="Invalid authority",Yt="Invalid scheme",br="Invalid host",_r="Invalid port",xr=/[A-Za-z]/,wr=/[\d+-.A-Za-z]/,Sr=/\d/,Tr=/^(0x|0X)/,Er=/^[0-7]+$/,Ar=/^\d+$/,Lr=/^[\dA-Fa-f]+$/,Pr=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Rr=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ir=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Dr=/[\u0009\u000A\u000D]/g,w=function(je,xe){var we,Se,Te;if("["==xe.charAt(0))return"]"==xe.charAt(xe.length-1)&&(we=function(je){var xe,we,Se,Te,Ee,Ye,Ze,Qe=[0,0,0,0,0,0,0,0],Ke=0,Je=null,$e=0,h=function(){return je.charAt($e)};if(h()==":"){if(je.charAt(1)!=":")return;$e+=2;Ke++;Je=Ke}while(h()){if(Ke==8)return;if(h()!=":"){xe=we=0;while(we<4&&Lr.test(h())){xe=xe*16+parseInt(h(),16);$e++;we++}if(h()=="."){if(we==0)return;$e-=we;if(Ke>6)return;Se=0;while(h()){Te=null;if(Se>0){if(!(h()=="."&&Se<4))return;$e++}if(!Sr.test(h()))return;while(Sr.test(h())){Ee=parseInt(h(),10);if(Te===null)Te=Ee;else{if(Te==0)return;Te=Te*10+Ee}if(Te>255)return;$e++}Qe[Ke]=Qe[Ke]*256+Te;Se++;Se!=2&&Se!=4||Ke++}if(Se!=4)return;break}if(h()==":"){$e++;if(!h())return}else if(h())return;Qe[Ke++]=xe}else{if(Je!==null)return;$e++;Ke++;Je=Ke}}if(Je!==null){Ye=Ke-Je;Ke=7;while(Ke!=0&&Ye>0){Ze=Qe[Ke];Qe[Ke--]=Qe[Je+Ye-1];Qe[Je+--Ye]=Ze}}else if(Ke!=8)return;return Qe}(xe.slice(1,-1)))?void(je.host=we):br;if(k(je))return xe=it(xe),Pr.test(xe)||null===(we=function(je){var xe,we,Se,Te,Ee,Ye,Ze,Qe=je.split(".");Qe.length&&Qe[Qe.length-1]==""&&Qe.pop();if((xe=Qe.length)>4)return je;for(we=[],Se=0;Se<xe;Se++){Te=Qe[Se];if(Te=="")return je;Ee=10;if(Te.length>1&&Te.charAt(0)=="0"){Ee=Tr.test(Te)?16:8;Te=Te.slice(Ee==8?1:2)}if(Te==="")Ye=0;else{if(!(Ee==10?Ar:Ee==8?Er:Lr).test(Te))return je;Ye=parseInt(Te,Ee)}we.push(Ye)}for(Se=0;Se<xe;Se++){Ye=we[Se];if(Se==xe-1){if(Ye>=Dt(256,5-xe))return null}else if(Ye>255)return null}for(Ze=we.pop(),Se=0;Se<we.length;Se++)Ze+=we[Se]*Dt(256,3-Se);return Ze}(xe))?br:void(je.host=we);if(Rr.test(xe))return br;for(we="",Se=nt(xe),Te=0;Te<Se.length;Te++)we+=E(Se[Te],Fr);je.host=we},le=function(je){for(var xe=null,we=1,Se=null,Te=0,Ee=0;Ee<8;Ee++)0!==je[Ee]?(we<Te&&(xe=Se,we=Te),Se=null,Te=0):(null===Se&&(Se=Ee),++Te);return we<Te&&(xe=Se,we=Te),xe},Fr={},Ur=ot({},Fr,{" ":1,'"':1,"<":1,">":1,"`":1}),Nr=ot({},Ur,{"#":1,"?":1,"{":1,"}":1}),Br=ot({},Nr,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),E=function(je,xe){var we=st(je,0);return 32<we&&we<127&&!rt(xe,je)?je:encodeURIComponent(je)},Gr={ftp:21,file:null,http:80,https:443,ws:80,wss:443},k=function(je){return rt(Gr,je.scheme)},C=function(je){return""!=je.username||""!=je.password},O=function(je,xe){return 2==je.length&&xr.test(je.charAt(0))&&(":"==(je=je.charAt(1))||!xe&&"|"==je)},de=function(je){return 1<je.length&&O(je.slice(0,2))&&(2==je.length||"/"===(je=je.charAt(2))||"\\"===je||"?"===je||"#"===je)},he=function(je){var xe=je.path,we=xe.length;!we||"file"==je.scheme&&1==we&&O(xe[0],!0)||xe.pop()},fe=function(je){return"."===je||"%2e"===je.toLowerCase()},pe=function(je){return".."===(je=je.toLowerCase())||"%2e."===je||".%2e"===je||"%2e%2e"===je},Vr={},zr={},Hr={},Wr={},qr={},Xr={},Yr={},Zr={},Qr={},Kr={},Jr={},$r={},eo={},to={},ro={},oo={},no={},so={},io={},ao={},lo={},uo=(Je=l.prototype,function(){var xe=gt(this||je),we=xe.scheme,Se=xe.username,Te=xe.password,Ee=xe.host,Ye=xe.port,Ze=xe.path,Qe=xe.query,Ke=xe.fragment,Je=we+":";return null!==Ee?(Je+="//",C(xe)&&(Je+=Se+(Te?":"+Te:"")+"@"),Je+=c(Ee),null!==Ye&&(Je+=":"+Ye)):"file"==we&&(Je+="//"),Je+=xe.cannotBeABaseURL?Ze[0]:Ze.length?"/"+Ze.join("/"):"",null!==Qe&&(Je+="?"+Qe),null!==Ke&&(Je+="#"+Ke),Je}),Oe=function(){var xe=gt(this||je),we=xe.scheme,Se=xe.port;if("blob"==we)try{return new URL(we.path[0]).origin}catch(xe){return"null"}return"file"!=we&&k(xe)?we+"://"+c(xe.host)+(null!==Se?":"+Se:""):"null"},Ae=function(){return gt(this||je).scheme+":"},Pe=function(){return gt(this||je).username},Le=function(){return gt(this||je).password},Re=function(){var xe=gt(this||je),we=xe.host;xe=xe.port;return null===we?"":null===xe?c(we):c(we)+":"+xe},Ie=function(){var xe=gt(this||je).host;return null===xe?"":c(xe)},De=function(){var xe=gt(this||je).port;return null===xe?"":String(xe)},Fe=function(){var xe=gt(this||je),we=xe.path;return xe.cannotBeABaseURL?we[0]:we.length?"/"+we.join("/"):""},Ue=function(){var xe=gt(this||je).query;return xe?"?"+xe:""},Ne=function(){return gt(this||je).searchParams},Be=function(){var xe=gt(this||je).fragment;return xe?"#"+xe:""};Qe&&$e(Je,{href:t(uo,(function(xe){var we=gt(this||je);xe=String(xe),xe=a(we,xe);if(xe)throw TypeError(xe);mt(we.searchParams).updateSearchParams(we.query)})),origin:t(Oe),protocol:t(Ae,(function(xe){var we=gt(this||je);a(we,String(xe)+":",Vr)})),username:t(Pe,(function(xe){var we=gt(this||je),Se=nt(String(xe));if(!n(we)){we.username="";for(var Te=0;Te<Se.length;Te++)we.username+=E(Se[Te],Br)}})),password:t(Le,(function(xe){var we=gt(this||je),Se=nt(String(xe));if(!n(we)){we.password="";for(var Te=0;Te<Se.length;Te++)we.password+=E(Se[Te],Br)}})),host:t(Re,(function(xe){var we=gt(this||je);we.cannotBeABaseURL||a(we,String(xe),Jr)})),hostname:t(Ie,(function(xe){var we=gt(this||je);we.cannotBeABaseURL||a(we,String(xe),$r)})),port:t(De,(function(xe){var we=gt(this||je);n(we)||(""==(xe=String(xe))?we.port=null:a(we,xe,eo))})),pathname:t(Fe,(function(xe){var we=gt(this||je);we.cannotBeABaseURL||(we.path=[],a(we,xe+"",no))})),search:t(Ue,(function(xe){var we=gt(this||je);""==(xe=String(xe))?we.query=null:("?"==xe.charAt(0)&&(xe=xe.slice(1)),we.query="",a(we,xe,ao)),mt(we.searchParams).updateSearchParams(we.query)})),searchParams:t(Ne),hash:t(Be,(function(xe){var we=gt(this||je);""==(xe=String(xe))?we.fragment=null:("#"==xe.charAt(0)&&(xe=xe.slice(1)),we.fragment="",a(we,xe,lo))}))}),et(Je,"toJSON",(function(){return uo.call(this||je)}),{enumerable:!0}),et(Je,"toString",(function(){return uo.call(this||je)}),{enumerable:!0}),ft&&(Ee=ft.createObjectURL,Ye=ft.revokeObjectURL,Ee&&et(l,"createObjectURL",(function(je){return Ee.apply(ft,arguments)})),Ye&&et(l,"revokeObjectURL",(function(je){return Ye.apply(ft,arguments)}))),dt(l,"URL"),Ze({global:!0,forced:!Ke,sham:!Qe},{URL:l})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(je,xe,we){xe.exports=je("./").polyfill()},{"./":247}],247:[function(we,Se,Te){!function(Ee,Ye){var Ze,Qe;Ze=this||je,Qe=function(){function l(je){return"function"==typeof je}var xe=Array.isArray||function(je){return"[object Array]"===Object.prototype.toString.call(je)},Se=0,Te=void 0,Ze=void 0,i=function(je,xe){et[Se]=je,et[Se+1]=xe,2===(Se+=2)&&(Ze?Ze(h):nt())};var Qe="undefined"!=typeof window?window:void 0,Ke=Qe||{},Je=(Ke=Ke.MutationObserver||Ke.WebKitMutationObserver,"undefined"==typeof self&&void 0!==Ee&&"[object process]"==={}.toString.call(Ee)),$e="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var je=setTimeout;return function(){return je(h,1)}}var et=new Array(1e3);function h(){for(var je=0;je<Se;je+=2)(0,et[je])(et[je+1]),et[je]=void 0,et[je+1]=void 0;Se=0}function f(){try{var je=Function("return this")().require("vertx");return void 0!==(Te=je.runOnLoop||je.runOnContext)?function(){Te(h)}:c()}catch(je){return c()}}var tt,rt,ot,nt=void 0;function g(xe,we){var Se,Te=this||je,Ee=new(this||je).constructor(_),Ye=(void 0===Ee[st]&&P(Ee),Te._state);return Ye?(Se=arguments[Ye-1],i((function(){return O(Ye,Ee,Se,Te._result)}))):k(Te,Ee,xe,we),Ee}function v(xe){var we;return xe&&"object"==typeof xe&&xe.constructor===(this||je)?xe:(T(we=new(this||je)(_),xe),we)}nt=Je?function(){return Ee.nextTick(h)}:Ke?(rt=0,Je=new Ke(h),ot=document.createTextNode(""),Je.observe(ot,{characterData:!0}),function(){ot.data=rt=++rt%2}):$e?((tt=new MessageChannel).port1.onmessage=h,function(){return tt.port2.postMessage(0)}):(void 0===Qe&&"function"==typeof we?f:c)();var st=Math.random().toString(36).substring(2);function _(){}var it=void 0,dt=1,ht=2;function F(je,xe,we){i((function(je){var Se=!1,Te=function(je,xe,we,Se){try{je.call(xe,we,Se)}catch(je){return je}}(we,xe,(function(we){Se||(Se=!0,(xe!==we?T:E)(je,we))}),(function(xe){Se||(Se=!0,M(je,xe))}),je._label);!Se&&Te&&(Se=!0,M(je,Te))}),je)}function S(je,xe,we){var Se,Te;xe.constructor===je.constructor&&we===g&&xe.constructor.resolve===v?(Se=je,(Te=xe)._state===dt?E(Se,Te._result):Te._state===ht?M(Se,Te._result):k(Te,void 0,(function(je){return T(Se,je)}),(function(je){return M(Se,je)}))):void 0!==we&&l(we)?F(je,xe,we):E(je,xe)}function T(je,xe){if(je===xe)M(je,new TypeError("You cannot resolve a promise with itself"));else if(we=typeof xe,null===xe||"object"!=we&&"function"!=we)E(je,xe);else{we=void 0;try{we=xe.then}catch(xe){return void M(je,xe)}S(je,xe,we)}var we}function U(je){je._onerror&&je._onerror(je._result),C(je)}function E(je,xe){je._state===it&&(je._result=xe,je._state=dt,0!==je._subscribers.length&&i(C,je))}function M(je,xe){je._state===it&&(je._state=ht,je._result=xe,i(U,je))}function k(je,xe,we,Se){var Te=je._subscribers,Ee=Te.length;je._onerror=null,Te[Ee]=xe,Te[Ee+dt]=we,Te[Ee+ht]=Se,0===Ee&&je._state&&i(C,je)}function C(je){var xe=je._subscribers,we=je._state;if(0!==xe.length){for(var Se,Te=void 0,Ee=je._result,Ye=0;Ye<xe.length;Ye+=3)Se=xe[Ye],Te=xe[Ye+we],Se?O(we,Se,Te,Ee):Te(Ee);je._subscribers.length=0}}function O(je,xe,we,Se){var Te=l(we),Ee=void 0,Ye=void 0,Ze=!0;if(Te){try{Ee=we(Se)}catch(je){Ze=!1,Ye=je}if(xe===Ee)return void M(xe,new TypeError("A promises callback cannot return that same promise."))}else Ee=Se;xe._state===it&&(Te&&Ze?T(xe,Ee):!1===Ze?M(xe,Ye):je===dt?E(xe,Ee):je===ht&&M(xe,Ee))}var ft=0;function P(je){je[st]=ft++,je._state=void 0,je._result=void 0,je._subscribers=[]}L.prototype._enumerate=function(xe){for(var we=0;(this||je)._state===it&&we<xe.length;we++)this._eachEntry(xe[we],we)},L.prototype._eachEntry=function(xe,we){var Se=(this||je)._instanceConstructor,Te=Se.resolve;if(Te===v){var Ee,Ye=void 0,Ze=void 0,Qe=!1;try{Ye=xe.then}catch(we){Qe=!0,Ze=we}Ye===g&&xe._state!==it?this._settledAt(xe._state,we,xe._result):"function"!=typeof Ye?((this||je)._remaining--,(this||je)._result[we]=xe):Se===mt?(Ee=new Se(_),Qe?M(Ee,Ze):S(Ee,xe,Ye),this._willSettleAt(Ee,we)):this._willSettleAt(new Se((function(je){return je(xe)})),we)}else this._willSettleAt(Te(xe),we)},L.prototype._settledAt=function(xe,we,Se){var Te=(this||je).promise;Te._state===it&&((this||je)._remaining--,xe===ht?M(Te,Se):(this||je)._result[we]=Se),0===(this||je)._remaining&&E(Te,(this||je)._result)},L.prototype._willSettleAt=function(xe,we){var Se=this||je;k(xe,void 0,(function(je){return Se._settledAt(dt,we,je)}),(function(je){return Se._settledAt(ht,we,je)}))};var pt=L;function L(we,Se){(this||je)._instanceConstructor=we,(this||je).promise=new we(_),(this||je).promise[st]||P((this||je).promise),xe(Se)?((this||je).length=Se.length,(this||je)._remaining=Se.length,(this||je)._result=new Array((this||je).length),0!==(this||je).length&&((this||je).length=(this||je).length||0,this._enumerate(Se),0!==(this||je)._remaining)||E((this||je).promise,(this||je)._result)):M((this||je).promise,new Error("Array Methods must be provided an Array"))}I.prototype.catch=function(je){return this.then(null,je)},I.prototype.finally=function(xe){var we=(this||je).constructor;return l(xe)?this.then((function(je){return we.resolve(xe()).then((function(){return je}))}),(function(je){return we.resolve(xe()).then((function(){throw je}))})):this.then(xe,xe)};var mt=I;function I(xe){if((this||je)[st]=ft++,(this||je)._result=(this||je)._state=void 0,(this||je)._subscribers=[],_!==xe){if("function"!=typeof xe)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!((this||je)instanceof I))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var we=this||je;try{xe((function(je){T(we,je)}),(function(je){M(we,je)}))}catch(xe){M(we,xe)}}}return mt.prototype.then=g,mt.all=function(xe){return new pt(this||je,xe).promise},mt.race=function(we){var Se=this||je;return xe(we)?new Se((function(je,xe){for(var Te=we.length,Ee=0;Ee<Te;Ee++)Se.resolve(we[Ee]).then(je,xe)})):new Se((function(je,xe){return xe(new TypeError("You must pass an array to race."))}))},mt.resolve=v,mt.reject=function(xe){var we=new(this||je)(_);return M(we,xe),we},mt._setScheduler=function(je){Ze=je},mt._setAsap=function(je){i=je},mt._asap=i,mt.polyfill=function(){var je=void 0;if(void 0!==Ye)je=Ye;else if("undefined"!=typeof self)je=self;else try{je=Function("return this")()}catch(je){throw new Error("polyfill failed because global object is unavailable in this environment")}var xe=je.Promise;if(xe){var we=null;try{we=Object.prototype.toString.call(xe.resolve())}catch(je){}if("[object Promise]"===we&&!xe.cast)return}je.Promise=mt},mt.Promise=mt},"object"==typeof Te&&void 0!==Se?Se.exports=Qe():"function"==typeof xe&&xe.amd?xe(Qe):Ze.ES6Promise=Qe()}.call(this||je,we("_process"),"undefined"!=typeof je?je:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:256}],248:[function(we,Se,Te){var Ee,Ye;Ee=this||je,Ye=function(je,xe){var we=5e3,Se="callback";function d(je){try{delete window[je]}catch(xe){window[je]=void 0}}function h(je){je=document.getElementById(je);je&&document.getElementsByTagName("head")[0].removeChild(je)}xe.exports=function(je){var xe=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],Te=je,Ee=xe.timeout||we,Ye=xe.jsonpCallback||Se,Ze=void 0;return new Promise((function(we,Se){var Qe=xe.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),Ke=Ye+"_"+Qe,Je=(window[Qe]=function(je){we({ok:!0,json:function(){return Promise.resolve(je)}}),Ze&&clearTimeout(Ze),h(Ke),d(Qe)},Te+=-1===Te.indexOf("?")?"?":"&",document.createElement("script"));Je.setAttribute("src",""+Te+Ye+"="+Qe),xe.charset&&Je.setAttribute("charset",xe.charset),Je.id=Ke,document.getElementsByTagName("head")[0].appendChild(Je),Ze=setTimeout((function(){Se(new Error("JSONP request to "+je+" timed out")),d(Qe),h(Ke),window[Qe]=function(){d(Qe)}}),Ee),Je.onerror=function(){Se(new Error("JSONP request to "+je+" failed")),d(Qe),h(Ke),Ze&&clearTimeout(Ze)}}))}},"function"==typeof xe&&xe.amd?xe(["exports","module"],Ye):void 0!==Te&&void 0!==Se?Ye(0,Se):(Ye(Ye={exports:{}},Ye),Ee.fetchJsonp=Ye.exports)},{}],249:[function(we,Se,Te){var Ee=function(xe){var we,Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e,et;if(!(void 0===xe||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return et=xe.document,we=function(){return xe.URL||xe.webkitURL||xe},Se=et.createElementNS("http://www.w3.org/1999/xhtml","a"),Te="download"in Se,Ee=/constructor/i.test(xe.HTMLElement)||xe.safari,Ye=/CriOS\/[\d]+/.test(navigator.userAgent),Ze=function(je){(xe.setImmediate||xe.setTimeout)((function(){throw je}),0)},Qe=4e4,Ke=function(je){setTimeout((function(){"string"==typeof je?we().revokeObjectURL(je):je.remove()}),Qe)},Je=function(je){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(je.type)?new Blob([String.fromCharCode(65279),je],{type:je.type}):je},et=($e=function(Qe,$e,et){et||(Qe=Je(Qe));var tt,rt,ot=this||je,nt=(et="application/octet-stream"===Qe.type,function(){for(var je=ot,xe="writestart progress write writeend".split(" "),we=void 0,Se=(xe=[].concat(xe)).length;Se--;){var Te=je["on"+xe[Se]];if("function"==typeof Te)try{Te.call(je,we||je)}catch(je){Ze(je)}}});ot.readyState=ot.INIT,Te?(tt=we().createObjectURL(Qe),setTimeout((function(){var je,xe;Se.href=tt,Se.download=$e,je=Se,xe=new MouseEvent("click"),je.dispatchEvent(xe),nt(),Ke(tt),ot.readyState=ot.DONE}))):(Ye||et&&Ee)&&xe.FileReader?((rt=new FileReader).onloadend=function(){var je=Ye?rt.result:rt.result.replace(/^data:[^;]*;/,"data:attachment/file;");xe.open(je,"_blank")||(xe.location.href=je),je=void 0,ot.readyState=ot.DONE,nt()},rt.readAsDataURL(Qe),ot.readyState=ot.INIT):(tt=tt||we().createObjectURL(Qe),!et&&xe.open(tt,"_blank")||(xe.location.href=tt),ot.readyState=ot.DONE,nt(),Ke(tt))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(je,xe,we){return xe=xe||je.name||"download",we||(je=Je(je)),navigator.msSaveOrOpenBlob(je,xe)}:(et.abort=function(){},et.readyState=et.INIT=0,et.WRITING=1,et.DONE=2,et.error=et.onwritestart=et.onprogress=et.onwrite=et.onabort=et.onerror=et.onwriteend=null,function(je,xe,we){return new $e(je,xe||je.name||"download",we)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(this||je).content);void 0!==Se&&Se.exports?Se.exports.saveAs=Ee:null!=xe&&null!==xe.amd&&xe("FileSaver.js",(function(){return Ee}))},{}],250:[function(je,xe,we){var Se,Te=Object.defineProperty,Ee=(Te(we,"__esModule",{value:!0}),we),Ye={GIFEncoder:()=>h,applyPalette:()=>function(je,xe,we="rgb565"){if(!je||!je.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(je instanceof Uint8Array||je instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<xe.length)throw new Error("applyPalette() only works with 256 colors or less");const Se=new Uint32Array(je.buffer),Te=Se.length,Ee="rgb444"===we?4096:65536,Ye=new Uint8Array(Te),Ze=new Array(Ee);if("rgba4444"===we)for(let je=0;je<Te;je++){var Qe=Se[je],Ke=Qe>>24&255,Je=Qe>>16&255,$e=Qe>>8&255,et=(Qe=255&Qe,A(Qe,$e,Je,Ke));et=et in Ze?Ze[et]:Ze[et]=function(je,xe,we,Se,Te){let Ee=0,Ye=1e100;for(let Je=0;Je<Te.length;Je++){var Ze,Qe=Te[Je],Ke=v(Qe[3]-Se);Ke>Ye||(Ze=Qe[0],(Ke+=v(Ze-je))>Ye||(Ze=Qe[1],(Ke+=v(Ze-xe))>Ye||(Ze=Qe[2],(Ke+=v(Ze-we))>Ye||(Ye=Ke,Ee=Je))))}return Ee}(Qe,$e,Je,Ke,xe);Ye[je]=et}else{const je="rgb444"===we?P:O;for(let we=0;we<Te;we++){var tt=Se[we],rt=tt>>16&255,ot=tt>>8&255,nt=(tt=255&tt,je(tt,ot,rt));nt=nt in Ze?Ze[nt]:Ze[nt]=function(je,xe,we,Se){let Te=0,Ee=1e100;for(let Ke=0;Ke<Se.length;Ke++){var Ye,Ze=Se[Ke],Qe=v(Ze[0]-je);Qe>Ee||(Ye=Ze[1],(Qe+=v(Ye-xe))>Ee||(Ye=Ze[2],(Qe+=v(Ye-we))>Ee||(Ee=Qe,Te=Ke)))}return Te}(tt,ot,rt,xe);Ye[we]=nt}}return Ye},default:()=>Ke,nearestColor:()=>function(je,xe,we=u){return je[l(je,xe,we)]},nearestColorIndex:()=>l,nearestColorIndexWithDistance:()=>d,prequantize:()=>function(je,{roundRGB:xe=5,roundAlpha:we=10,oneBitAlpha:Se=null}={}){const Te=new Uint32Array(je.buffer);for(let je=0;je<Te.length;je++){var Ee=Te[je];let Ke=Ee>>24&255;var Ye,Ze=Ee>>16&255,Qe=Ee>>8&255;Ee=255&Ee;Ke=c(Ke,we),Se&&(Ye="number"==typeof Se?Se:127,Ke=Ke<=Ye?0:255),Ee=c(Ee,xe),Qe=c(Qe,xe),Ze=c(Ze,xe),Te[je]=Ke<<24|Ze<<16|Qe<<8|Ee<<0}},quantize:()=>function(je,xe,we={}){var{format:Se="rgb565",clearAlpha:Te=!0,clearAlphaColor:Ee=0,clearAlphaThreshold:Ye=0,oneBitAlpha:Ze=!1}=we;if(!je||!je.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(je instanceof Uint8Array||je instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");je=new Uint32Array(je.buffer);let Qe=!1!==we.useSqrt;const Ke="rgba4444"===Se,Je=function(je,xe){const we="rgb444"===xe?4096:65536,Se=new Array(we),Te=je.length;if("rgba4444"===xe)for(let xe=0;xe<Te;++xe){var Ee=je[xe],Ye=Ee>>24&255,Ze=Ee>>16&255,Qe=Ee>>8&255,Ke=(Ee=255&Ee,A(Ee,Qe,Ze,Ye));let we=Ke in Se?Se[Ke]:Se[Ke]=D();we.rc+=Ee,we.gc+=Qe,we.bc+=Ze,we.ac+=Ye,we.cnt++}else if("rgb444"===xe)for(let xe=0;xe<Te;++xe){var Je=je[xe],$e=Je>>16&255,et=Je>>8&255,tt=(Je=255&Je,P(Je,et,$e));let we=tt in Se?Se[tt]:Se[tt]=D();we.rc+=Je,we.gc+=et,we.bc+=$e,we.cnt++}else for(let xe=0;xe<Te;++xe){var rt=je[xe],ot=rt>>16&255,nt=rt>>8&255,st=(rt=255&rt,O(rt,nt,ot));let we=st in Se?Se[st]:Se[st]=D();we.rc+=rt,we.gc+=nt,we.bc+=ot,we.cnt++}return Se}(je,Se),$e=Je.length,et=$e-1,tt=new Uint32Array($e+1);for(var rt=0,ot=0;ot<$e;++ot){const je=Je[ot];null!=je&&(wt=1/je.cnt,Ke&&(je.ac*=wt),je.rc*=wt,je.gc*=wt,je.bc*=wt,Je[rt++]=je)}R(xe)/rt<.022&&(Qe=!1);var nt,st,it;for(ot=0;ot<rt-1;++ot)Je[ot].fw=ot+1,Je[ot+1].bk=ot,Qe&&(Je[ot].cnt=Math.sqrt(Je[ot].cnt));Qe&&(Je[ot].cnt=Math.sqrt(Je[ot].cnt));for(ot=0;ot<rt;++ot){I(Je,ot,!1);var dt=Je[ot].err;for(st=++tt[0];1<st&&(it=st>>1,!(Je[nt=tt[it]].err<=dt));st=it)tt[st]=nt;tt[st]=ot}var ht,ft=rt-xe;for(ot=0;ot<ft;){for(;;){var pt=tt[1];if((ht=Je[pt]).tm>=ht.mtm&&Je[ht.nn].mtm<=ht.tm)break;ht.mtm==et?pt=tt[1]=tt[tt[0]--]:(I(Je,pt,!1),ht.tm=ot);dt=Je[pt].err;for(st=1;(it=st+st)<=tt[0]&&(it<tt[0]&&Je[tt[it]].err>Je[tt[it+1]].err&&it++,!(dt<=Je[nt=tt[it]].err));st=it)tt[st]=nt;tt[st]=pt}var mt=Je[ht.nn],yt=ht.cnt,gt=mt.cnt,wt=1/(yt+gt);Ke&&(ht.ac=wt*(yt*ht.ac+gt*mt.ac)),ht.rc=wt*(yt*ht.rc+gt*mt.rc),ht.gc=wt*(yt*ht.gc+gt*mt.gc),ht.bc=wt*(yt*ht.bc+gt*mt.bc),ht.cnt+=mt.cnt,ht.mtm=++ot,Je[mt.bk].fw=mt.fw,Je[mt.fw].bk=mt.bk,mt.mtm=et}let Dt=[];for(ot=0;;0){let je=L(Math.round(Je[ot].rc),0,255),xe=L(Math.round(Je[ot].gc),0,255),we=L(Math.round(Je[ot].bc),0,255),Se=255;Ke&&(Se=L(Math.round(Je[ot].ac),0,255),Ze&&(Xt="number"==typeof Ze?Ze:127,Se=Se<=Xt?0:255),Te&&Se<=Ye&&(je=xe=we=Ee,Se=0));var Xt=Ke?[je,xe,we,Se]:[je,xe,we];if(function(je,xe){for(let Te=0;Te<je.length;Te++){var we=je[Te],Se=we[0]===xe[0]&&we[1]===xe[1]&&we[2]===xe[2];we=!(4<=we.length&&4<=xe.length)||we[3]===xe[3];if(Se&&we)return!0}return!1}(Dt,Xt)||Dt.push(Xt),0==(ot=Je[ot].fw))break}return Dt},snapColorsToPalette:()=>function(je,xe,we=5){if(je.length&&xe.length){var Se=je.map((je=>je.slice(0,3))),Te=we*we,Ee=je[0].length;for(let we=0;we<xe.length;we++){let Qe=xe[we];Qe=Qe.length<Ee?[Qe[0],Qe[1],Qe[2],255]:Qe.length>Ee?Qe.slice(0,3):Qe.slice();var Ye=d(Se,Qe.slice(0,3),u),Ze=Ye[0];Ye=Ye[1];0<Ye&&Ye<=Te&&(je[Ze]=Qe)}}}};for(Se in Ye)Te(Ee,Se,{get:Ye[Se],enumerable:!0});var Ze={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function M(je=256){let xe=0,we=new Uint8Array(je);return{get buffer(){return we.buffer},reset(){xe=0},bytesView(){return we.subarray(0,xe)},bytes(){return we.slice(0,xe)},writeByte(je){i(xe+1),we[xe]=je,xe++},writeBytes(je,Se=0,Te=je.length){i(xe+Te);for(let Ee=0;Ee<Te;Ee++)we[xe++]=je[Ee+Se]},writeBytesView(je,Se=0,Te=je.byteLength){i(xe+Te),we.set(je.subarray(Se,Se+Te),xe),xe+=Te}};function i(je){var Se=we.length;if(!(je<=Se)){je=Math.max(je,Se*(Se<1048576?2:1.125)>>>0),0!=Se&&(je=Math.max(je,256));const Te=we;we=new Uint8Array(je),0<xe&&we.set(Te.subarray(0,xe),0)}}}var Qe=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];var S=function(je,xe,we,Se,Te=M(512),Ee=new Uint8Array(256),Ye=new Int32Array(5003),Ze=new Int32Array(5003)){var Ke=Ye.length;Se=Math.max(2,Se);Ee.fill(0),Ze.fill(0),Ye.fill(-1);let Je=0,$e=0;var et=Se+1;const tt=et;let rt=!1,ot=tt,nt=(1<<ot)-1;var st=1<<et-1;const it=1+st;let dt=2+st,ht=0,ft=we[0],pt=0;for(let je=Ke;je<65536;je*=2)++pt;pt=8-pt,Te.writeByte(Se),E(st);var mt=we.length;for(let je=1;je<mt;je++)e:{var yt=we[je],gt=(yt<<12)+ft;let xe=yt<<pt^ft;if(Ye[xe]===gt)ft=Ze[xe];else{for(var wt=0===xe?1:Ke-xe;0<=Ye[xe];)if((xe-=wt)<0&&(xe+=Ke),Ye[xe]===gt){ft=Ze[xe];break e}E(ft),ft=yt,dt<4096?(Ze[xe]=dt++,Ye[xe]=gt):(Ye.fill(-1),dt=2+st,rt=!0,E(st))}}return E(ft),E(it),Te.writeByte(0),Te.bytesView();function E(je){for(Je&=Qe[$e],0<$e?Je|=je<<$e:Je=je,$e+=ot;8<=$e;)Ee[ht++]=255&Je,254<=ht&&(Te.writeByte(ht),Te.writeBytesView(Ee,0,ht),ht=0),Je>>=8,$e-=8;if((dt>nt||rt)&&(rt?(ot=tt,nt=(1<<ot)-1,rt=!1):(++ot,nt=12===ot?1<<ot:(1<<ot)-1)),je==it){for(;0<$e;)Ee[ht++]=255&Je,254<=ht&&(Te.writeByte(ht),Te.writeBytesView(Ee,0,ht),ht=0),Je>>=8,$e-=8;0<ht&&(Te.writeByte(ht),Te.writeBytesView(Ee,0,ht),ht=0)}}};function O(je,xe,we){return je<<8&63488|xe<<2&992|we>>3}function A(je,xe,we,Se){return je>>4|240&xe|(240&we)<<4|(240&Se)<<8}function P(je,xe,we){return je>>4<<8|240&xe|we>>4}function L(je,xe,we){return je<xe?xe:we<je?we:je}function R(je){return je*je}function I(je,xe,we){var Se=0,Te=1e100;const Ee=je[xe];for(var Ye=Ee.cnt,Ze=Ee.ac,Qe=Ee.rc,Ke=Ee.gc,Je=Ee.bc,$e=Ee.fw;0!=$e;$e=je[$e].fw){var et,tt=je[$e],rt=tt.cnt;rt=Ye*rt/(Ye+rt);Te<=rt||(et=0,we&&Te<=(et+=rt*R(tt.ac-Ze))||Te<=(et+=rt*R(tt.rc-Qe))||Te<=(et+=rt*R(tt.gc-Ke))||Te<=(et+=rt*R(tt.bc-Je))||(Te=et,Se=$e))}Ee.err=Te,Ee.nn=Se}function D(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function u(je,xe){for(var we=0,Se=0;Se<je.length;Se++){var Te=je[Se]-xe[Se];we+=Te*Te}return we}function c(je,xe){return 1<xe?Math.round(je/xe)*xe:je}function v(je){return je*je}function l(je,xe,we=u){let Se=1/0,Te=-1;for(let Ye=0;Ye<je.length;Ye++){var Ee=we(xe,je[Ye]);Ee<Se&&(Se=Ee,Te=Ye)}return Te}function d(je,xe,we=u){let Se=1/0,Te=-1;for(let Ye=0;Ye<je.length;Ye++){var Ee=we(xe,je[Ye]);Ee<Se&&(Se=Ee,Te=Ye)}return[Te,Se]}function h(je={}){const{initialCapacity:xe=4096,auto:we=!0}=je,Se=M(xe);const Te=new Uint8Array(256),Ee=new Int32Array(5003),Ye=new Int32Array(5003);let Qe=!1;return{reset(){Se.reset(),Qe=!1},finish(){Se.writeByte(Ze.trailer)},bytes(){return Se.bytes()},bytesView(){return Se.bytesView()},get buffer(){return Se.buffer},get stream(){return Se},writeHeader:w,writeFrame(je,xe,Ze,Ke={}){var{transparent:Je=!1,transparentIndex:$e=0,delay:et=0,palette:tt=null,repeat:rt=0,colorDepth:ot=8,dispose:nt=-1}=Ke;let st=!1;if(we?Qe||(st=!0,w(),Qe=!0):st=Boolean(Ke.first),xe=Math.max(0,Math.floor(xe)),Ze=Math.max(0,Math.floor(Ze)),st){if(!tt)throw new Error("First frame must include a { palette } option");var[Ke,it,dt,ht,ft=8]=[Se,xe,Ze,tt,ot];ht=F(ht.length)-1,ft=128|ft-1<<4|ht,E(Ke,it),E(Ke,dt),Ke.writeBytes([ft,0,0]),T(Se,tt),0<=rt&&(ht=Se,it=rt,ht.writeByte(33),ht.writeByte(255),ht.writeByte(11),C(ht,"NETSCAPE2.0"),ht.writeByte(3),ht.writeByte(1),E(ht,it),ht.writeByte(0))}var pt,dt=Math.round(et/10),ft=(Ke=Se,nt),rt=dt,it=Je,ht=$e,et=(Ke.writeByte(33),Ke.writeByte(249),Ke.writeByte(4),ht<0&&(ht=0,it=!1),it=it?(pt=1,2):pt=0,0<=ft&&(it=7&ft),it<<=2,Ke.writeByte(0|it|pt),E(Ke,rt),Ke.writeByte(ht||0),Ke.writeByte(0),Boolean(tt)&&!st);nt=Se,Je=xe,$e=Ze,pt=et?tt:null,nt.writeByte(44),E(nt,0),E(nt,0),E(nt,Je),E(nt,$e),pt?(Je=F(pt.length)-1,nt.writeByte(128|Je)):nt.writeByte(0),et&&T(Se,tt),[rt,Ke,$e,Je,nt=8,et,tt,je]=[Se,je,xe,Ze,ot,Te,Ee,Ye],S($e,Je,Ke,nt,rt,et,tt,je)}};function w(){C(Se,"GIF89a")}}function T(je,xe){var we=1<<F(xe.length);for(let Se=0;Se<we;Se++){let we=[0,0,0];Se<xe.length&&(we=xe[Se]),je.writeByte(we[0]),je.writeByte(we[1]),je.writeByte(we[2])}}function E(je,xe){je.writeByte(255&xe),je.writeByte(xe>>8&255)}function C(je,xe){for(var we=0;we<xe.length;we++)je.writeByte(xe.charCodeAt(we))}function F(je){return Math.max(Math.ceil(Math.log2(je)),1)}var Ke=h},{}],251:[function(je,xe,we){we.read=function(je,xe,we,Se,Te){var Ee,Ye,Ze=8*Te-Se-1,Qe=(1<<Ze)-1,Ke=Qe>>1,Je=-7,$e=we?Te-1:0,et=we?-1:1;Te=je[xe+$e];for($e+=et,Ee=Te&(1<<-Je)-1,Te>>=-Je,Je+=Ze;0<Je;Ee=256*Ee+je[xe+$e],$e+=et,Je-=8);for(Ye=Ee&(1<<-Je)-1,Ee>>=-Je,Je+=Se;0<Je;Ye=256*Ye+je[xe+$e],$e+=et,Je-=8);if(0===Ee)Ee=1-Ke;else{if(Ee===Qe)return Ye?NaN:1/0*(Te?-1:1);Ye+=Math.pow(2,Se),Ee-=Ke}return(Te?-1:1)*Ye*Math.pow(2,Ee-Se)},we.write=function(je,xe,we,Se,Te,Ee){var Ye,Ze,Qe=8*Ee-Te-1,Ke=(1<<Qe)-1,Je=Ke>>1,$e=23===Te?Math.pow(2,-24)-Math.pow(2,-77):0,et=Se?0:Ee-1,tt=Se?1:-1;Ee=xe<0||0===xe&&1/xe<0?1:0;for(xe=Math.abs(xe),isNaN(xe)||xe===1/0?(Ze=isNaN(xe)?1:0,Ye=Ke):(Ye=Math.floor(Math.log(xe)/Math.LN2),xe*(Se=Math.pow(2,-Ye))<1&&(Ye--,Se*=2),2<=(xe+=1<=Ye+Je?$e/Se:$e*Math.pow(2,1-Je))*Se&&(Ye++,Se/=2),Ke<=Ye+Je?(Ze=0,Ye=Ke):1<=Ye+Je?(Ze=(xe*Se-1)*Math.pow(2,Te),Ye+=Je):(Ze=xe*Math.pow(2,Je-1)*Math.pow(2,Te),Ye=0));8<=Te;je[we+et]=255&Ze,et+=tt,Ze/=256,Te-=8);for(Ye=Ye<<Te|Ze,Qe+=Te;0<Qe;je[we+et]=255&Ye,et+=tt,Ye/=256,Qe-=8);je[we+et-tt]|=128*Ee}},{}],252:[function(xe,we,Se){var Te;function y(je,xe){return je.b===xe.b&&je.a===xe.a}function g(je,xe){return je.b<xe.b||je.b===xe.b&&je.a<=xe.a}function v(je,xe,we){var Se=xe.b-je.b,Te=we.b-xe.b;return 0<Se+Te?Se<Te?xe.a-je.a+Se/(Se+Te)*(je.a-we.a):xe.a-we.a+Te/(Se+Te)*(we.a-je.a):0}function b(je,xe,we){var Se=xe.b-je.b,Te=we.b-xe.b;return 0<Se+Te?(xe.a-we.a)*Se+(xe.a-je.a)*Te:0}function _(je,xe){return je.a<xe.a||je.a===xe.a&&je.b<=xe.b}function V(je,xe,we){var Se=xe.a-je.a,Te=we.a-xe.a;return 0<Se+Te?Se<Te?xe.b-je.b+Se/(Se+Te)*(je.b-we.b):xe.b-we.b+Te/(Se+Te)*(we.b-je.b):0}function z(je,xe,we){var Se=xe.a-je.a,Te=we.a-xe.a;return 0<Se+Te?(xe.b-we.b)*Se+(xe.b-je.b)*Te:0}function j(je,xe,we,Se){return(je=je<0?0:je)<=(we=we<0?0:we)?0===we?(xe+Se)/2:xe+je/(je+we)*(Se-xe):Se+we/(je+we)*(xe-Se)}function d(je){var xe=s(je.b);return n(xe,je.c),n(xe.b,je.c),i(xe,je.a),xe}function x(je,xe){var we=!1,Se=!1;je!==xe&&(xe.a!==je.a&&(Se=!0,E(xe.a,je.a)),xe.d!==je.d&&(we=!0,a(xe.d,je.d)),T(xe,je),Se||(n(xe,je.a),je.a.c=je),we||(i(xe,je.d),je.d.a=je))}function m(je){var xe=je.b,we=!1;je.d!==je.b.d&&(we=!0,a(je.d,je.b.d)),je.c===je?E(je.a,null):(je.b.d.a=je.b.e,je.a.c=je.c,T(je,je.b.e),we||i(je,je.d)),xe.c===xe?(E(xe.a,null),a(xe.d,null)):(je.d.a=xe.b.e,xe.a.c=xe.c,T(xe,xe.b.e)),H(je)}function w(je){var xe=s(je),we=xe.b;return T(xe,je.e),xe.a=je.b.a,n(we,xe.a),xe.d=we.d=je.d,xe=xe.b,T(je.b,je.b.b.e),T(je.b,xe),je.b.a=xe.a,xe.b.a.c=xe.b,xe.b.d=je.b.d,xe.f=je.f,xe.b.f=je.b.f,xe}function S(je,xe){var we=!1,Se=s(je),Te=Se.b;return xe.d!==je.d&&(we=!0,a(xe.d,je.d)),T(Se,je.e),T(Te,xe),Se.a=je.b.a,Te.a=xe.a,Se.d=Te.d=je.d,je.d.a=Te,we||i(Se,je.d),Se}function s(je){var xe=new u,we=new u,Se=je.b.h;return(((we.h=Se).b.h=xe).h=je).b.h=we,xe.b=we,((xe.c=xe).e=we).b=xe,(we.c=we).e=xe}function T(je,xe){var we=je.c,Se=xe.c;we.b.e=xe,(Se.b.e=je).c=Se,xe.c=we}function n(je,xe){var we=xe.f,Se=new D(xe,we);for(we.e=Se,we=(xe.f=Se).c=je;we.a=Se,(we=we.c)!==je;);}function i(je,xe){var we=xe.d,Se=new te(xe,we);for(we.b=Se,(xe.d=Se).a=je,Se.c=xe.c,we=je;we.d=Se,(we=we.e)!==je;);}function H(je){var xe=je.h;je=je.b.h,(xe.b.h=je).b.h=xe}function E(je,xe){for(var we=je.c,Se=we;Se.a=xe,(Se=Se.c)!==we;);we=je.f,((Se=je.e).f=we).e=Se}function a(je,xe){for(var we=je.a,Se=we;Se.d=xe,(Se=Se.e)!==we;);we=je.d,((Se=je.b).d=we).b=Se}function W(je){var xe=0;return Math.abs(je[1])>Math.abs(je[0])&&(xe=1),Math.abs(je[2])>Math.abs(je[xe])?2:xe}function M(je,xe){je.f+=xe.f,je.b.f+=xe.b.f}function h(je,xe,we){return je=je.a,xe=xe.a,we=we.a,xe.b.a===je?we.b.a===je?g(xe.a,we.a)?b(we.b.a,xe.a,we.a)<=0:0<=b(xe.b.a,we.a,xe.a):b(we.b.a,je,we.a)<=0:we.b.a===je?0<=b(xe.b.a,je,xe.a):(xe=v(xe.b.a,je,xe.a),(je=v(we.b.a,je,we.a))<=xe)}function k(je){je.a.i=null;var xe=je.e;xe.a.c=xe.c,xe.c.a=xe.a,je.e=null}function C(je,xe){m(je.a),je.c=!1,(je.a=xe).i=je}function O(je){for(var xe=je.a.a;(je=G(je)).a.a===xe;);return je.c&&(C(je,xe=S(B(je).a.b,je.a.e)),je=G(je)),je}function q(je,xe,we){var Se=new N;return Se.a=we,Se.e=p(je.f,xe.e,Se),we.i=Se}function X(je,xe){switch(je.s){case 100130:return 0!=(1&xe);case 100131:return 0!==xe;case 100132:return 0<xe;case 100133:return xe<0;case 100134:return 2<=xe||xe<=-2}return!1}function f(je){var xe=je.a,we=xe.d;we.c=je.d,we.a=xe,k(je)}function A(je,xe,we){for(xe=(je=xe).a;je!==we;){je.c=!1;var Se=B(je),Te=Se.a;if(Te.a!==xe.a){if(!Se.c){f(je);break}C(Se,Te=S(xe.c.b,Te.b))}xe.c!==Te&&(x(Te.b.e,Te),x(xe,Te)),f(je),xe=Se.a,je=Se}return xe}function P(je,xe,we,Se,Te,Ee){for(var Ye=!0;q(je,xe,we.b),(we=we.c)!==Se;);for(null===Te&&(Te=B(xe).a.b.c);(we=(Se=B(xe)).a.b).a===Te.a;)we.c!==Te&&(x(we.b.e,we),x(Te.b.e,we)),Se.f=xe.f-we.f,Se.d=X(je,Se.f),xe.b=!0,!Ye&&R(je,xe)&&(M(we,Te),k(xe),m(Te)),Ye=!1,xe=Se,Te=we;xe.b=!0,Ee&&J(je,xe)}function Y(je,xe,we,Se,Te){var Ee=[xe.g[0],xe.g[1],xe.g[2]];xe.d=null,xe.d=je.o&&je.o(Ee,we,Se,je.c)||null,null===xe.d&&(Te?je.n||(l(je,100156),je.n=!0):xe.d=we[0])}function L(je,xe,we){var Se=[null,null,null,null];Se[0]=xe.a.d,Se[1]=we.a.d,Y(je,xe.a,Se,[.5,.5,0,0],!1),x(xe,we)}function Z(je,xe,we,Se,Te){var Ee=Math.abs(xe.b-je.b)+Math.abs(xe.a-je.a),Ye=Math.abs(we.b-je.b)+Math.abs(we.a-je.a),Ze=Te+1;Se[Te]=.5*Ye/(Ee+Ye),Se[Ze]=.5*Ee/(Ee+Ye),je.g[0]+=Se[Te]*xe.g[0]+Se[Ze]*we.g[0],je.g[1]+=Se[Te]*xe.g[1]+Se[Ze]*we.g[1],je.g[2]+=Se[Te]*xe.g[2]+Se[Ze]*we.g[2]}function R(je,xe){var we=B(xe),Se=xe.a,Te=we.a;if(g(Se.a,Te.a)){if(0<b(Te.b.a,Se.a,Te.a))return;if(y(Se.a,Te.a)){if(Se.a!==Te.a){we=je.e;var Ee=Se.a.h;if(0<=Ee){var Ye=(we=we.b).d,Ze=we.e,Qe=we.c,Ke=Qe[Ee];Ye[Ke]=Ye[we.a],(Qe[Ye[Ke]]=Ke)<=--we.a&&(Ke<=1||g(Ze[Ye[Ke>>1]],Ze[Ye[Ke]])?U:ue)(we,Ke),Ze[Ee]=null,Qe[Ee]=we.b,we.b=Ee}else for(we.c[-(Ee+1)]=null;0<we.a&&null===we.c[we.d[we.a-1]];)--we.a;L(je,Te.b.e,Se)}}else w(Te.b),x(Se,Te.b.e),xe.b=we.b=!0}else{if(b(Se.b.a,Te.a,Se.a)<0)return;G(xe).b=xe.b=!0,w(Se.b),x(Te.b.e,Se)}return 1}function Q(je,xe){var we=B(xe),Se=xe.a,Te=we.a,Ee=Se.a,Ye=Te.a,Ze=Se.b.a,Qe=Te.b.a,Ke=new D;if(b(Ze,je.a,Ee),b(Qe,je.a,Ye),!(Ee===Ye||Math.min(Ee.a,Ze.a)>Math.max(Ye.a,Qe.a))){if(g(Ee,Ye)){if(0<b(Qe,Ee,Ye))return}else if(b(Ze,Ye,Ee)<0)return;var Je,$e,et=Ze,tt=Ee,rt=Qe,ot=Ye;if(g(et,tt)||(Je=et,et=tt,tt=Je),g(rt,ot)||(Je=rt,rt=ot,ot=Je),g(et,rt)||(Je=et,et=rt,rt=Je,Je=tt,tt=ot,ot=Je),g(rt,tt)?g(tt,ot)?((Je=v(et,rt,tt))+($e=v(rt,tt,ot))<0&&(Je=-Je,$e=-$e),Ke.b=j(Je,rt.b,$e,tt.b)):((Je=b(et,rt,tt))+($e=-b(et,ot,tt))<0&&(Je=-Je,$e=-$e),Ke.b=j(Je,rt.b,$e,ot.b)):Ke.b=(rt.b+tt.b)/2,_(et,tt)||(Je=et,et=tt,tt=Je),_(rt,ot)||(Je=rt,rt=ot,ot=Je),_(et,rt)||(Je=et,et=rt,rt=Je,Je=tt,tt=ot,ot=Je),_(rt,tt)?_(tt,ot)?((Je=V(et,rt,tt))+($e=V(rt,tt,ot))<0&&(Je=-Je,$e=-$e),Ke.a=j(Je,rt.a,$e,tt.a)):((Je=z(et,rt,tt))+($e=-z(et,ot,tt))<0&&(Je=-Je,$e=-$e),Ke.a=j(Je,rt.a,$e,ot.a)):Ke.a=(rt.a+tt.a)/2,g(Ke,je.a)&&(Ke.b=je.a.b,Ke.a=je.a.a),et=g(Ee,Ye)?Ee:Ye,g(et,Ke)&&(Ke.b=et.b,Ke.a=et.a),y(Ke,Ee)||y(Ke,Ye))return R(je,xe),0;if(!y(Ze,je.a)&&0<=b(Ze,je.a,Ke)||!y(Qe,je.a)&&b(Qe,je.a,Ke)<=0){if(Qe===je.a)w(Se.b),x(Te.b,Se),Se=B(xe=O(xe)).a,A(je,B(xe),we),P(je,xe,Se.b.e,Se,Se,!0);else{if(Ze!==je.a)return 0<=b(Ze,je.a,Ke)&&(G(xe).b=xe.b=!0,w(Se.b),Se.a.b=je.a.b,Se.a.a=je.a.a),void(b(Qe,je.a,Ke)<=0&&(xe.b=we.b=!0,w(Te.b),Te.a.b=je.a.b,Te.a.a=je.a.a));for(w(Te.b),x(Se.e,Te.b.e),Ye=(Ee=we=xe).a.b.a;(Ee=G(Ee)).a.b.a===Ye;);Ee=B(xe=Ee).a.b.c,we.a=Te.b.e,P(je,xe,(Te=A(je,we,null)).c,Se.b.c,Ee,!0)}return 1}w(Se.b),w(Te.b),x(Te.b.e,Se),Se.a.b=Ke.b,Se.a.a=Ke.a,Se.a.h=ne(je.e,Se.a),Se=Se.a,Te=[0,0,0,0],Ke=[Ee.d,Ze.d,Ye.d,Qe.d],Se.g[0]=Se.g[1]=Se.g[2]=0,Z(Se,Ee,Ze,Te,0),Z(Se,Ye,Qe,Te,2),Y(je,Se,Ke,Te,!0),G(xe).b=xe.b=we.b=!0}}function J(je,xe){for(var we=B(xe);;){for(;we.b;)we=B(xe=we);if(!xe.b&&(null===(xe=G(we=xe))||!xe.b))break;xe.b=!1;var Se=xe.a,Te=we.a;if(Ee=Se.b.a!==Te.b.a)e:{var Ee,Ye=B(Ee=xe),Ze=Ee.a,Qe=Ye.a,Ke=void 0;if(g(Ze.b.a,Qe.b.a)){if(b(Ze.b.a,Qe.b.a,Ze.a)<0){Ee=!1;break e}G(Ee).b=Ee.b=!0,Ke=w(Ze),x(Qe.b,Ke),Ke.d.c=Ee.d}else{if(0<b(Qe.b.a,Ze.b.a,Qe.a)){Ee=!1;break e}Ee.b=Ye.b=!0,Ke=w(Qe),x(Ze.e,Qe.b),Ke.b.d.c=Ee.d}Ee=!0}if(Ee&&(we.c?(k(we),m(Te),Te=(we=B(xe)).a):xe.c&&(k(xe),m(Se),Se=(xe=G(we)).a)),Se.a!==Te.a)if(Se.b.a===Te.b.a||xe.c||we.c||Se.b.a!==je.a&&Te.b.a!==je.a)R(je,xe);else if(Q(je,xe))break;Se.a===Te.a&&Se.b.a===Te.b.a&&(M(Te,Se),k(xe),m(Se),xe=G(we))}}function K(je,xe){var we=new N,Se=d(je.b);Se.a.b=4e150,Se.a.a=xe,Se.b.a.b=-4e150,Se.b.a.a=xe,je.a=Se.b.a,we.a=Se,we.f=0,we.d=!1,we.c=!1,we.h=!0,we.b=!1,Se=p(Se=je.f,Se.a,we),we.e=Se}function $(xe){(this||je).a=new ee,(this||je).b=xe,(this||je).c=h}function p(je,xe,we){for(;null!==(xe=xe.c).b&&!je.c(je.b,xe.b,we););return je=new ee(we,xe.a,xe),xe.a.c=je,xe.a=je}function ee(xe,we,Se){(this||je).b=xe||null,(this||je).a=we||this||je,(this||je).c=Se||this||je}function r(){(this||je).d=0,(this||je).p=(this||je).b=(this||je).q=null,(this||je).j=[0,0,0],(this||je).s=100130,(this||je).n=!1,(this||je).o=(this||je).a=(this||je).e=(this||je).f=null,(this||je).m=!1,(this||je).c=(this||je).r=(this||je).i=(this||je).k=(this||je).l=(this||je).h=null}function I(je,xe){if(je.d!==xe)for(;je.d!==xe;)if(je.d<xe)switch(je.d){case 0:l(je,100151),je.u(null);break;case 1:l(je,100152),je.t()}else switch(je.d){case 2:l(je,100154),je.v();break;case 1:l(je,100153),je.w()}}function l(je,xe){je.p&&je.p(xe,je.c)}function te(xe,we){(this||je).b=xe||this||je,(this||je).d=we||this||je,(this||je).a=null,(this||je).c=!1}function u(){((this||je).h=this||je).i=(this||je).d=(this||je).a=(this||je).e=(this||je).c=(this||je).b=null,(this||je).f=0}function re(){(this||je).c=new D,(this||je).a=new te,(this||je).b=new u,(this||je).d=new u,(this||je).b.b=(this||je).d,(this||je).d.b=(this||je).b}function D(xe,we){(this||je).e=xe||this||je,(this||je).f=we||this||je,(this||je).d=(this||je).c=null,(this||je).g=[0,0,0],(this||je).h=(this||je).a=(this||je).b=0}function oe(){(this||je).c=[],(this||je).d=null,(this||je).a=0,(this||je).e=!1,(this||je).b=new ie}function ne(je,xe){var we,Se,Te;return je.e?(2*(Se=++(we=je.b).a)>we.f&&(we.f*=2,we.c=ae(we.c,we.f+1)),0===we.b?Te=Se:(Te=we.b,we.b=we.c[we.b]),we.e[Te]=xe,we.c[Te]=Se,we.d[Se]=Te,we.h&&ue(we,Se),Te):(we=je.a++,je.c[we]=xe,-(we+1))}function se(je){if(0===je.a)return le(je.b);var xe=je.c[je.d[je.a-1]];if(0!==je.b.a&&g(F(je.b),xe))return le(je.b);for(;--je.a,0<je.a&&null===je.c[je.d[je.a-1]];);return xe}function ie(){(this||je).d=ae([0],33),(this||je).e=[null,null],(this||je).c=[0,0],(this||je).a=0,(this||je).f=32,(this||je).b=0,(this||je).h=!1,(this||je).d[1]=1}function ae(je,xe){for(var we=Array(xe),Se=0;Se<je.length;Se++)we[Se]=je[Se];for(;Se<xe;Se++)we[Se]=0;return we}function F(je){return je.e[je.d[1]]}function le(je){var xe=je.d,we=je.e,Se=je.c,Te=xe[1],Ee=we[Te];return 0<je.a&&(xe[1]=xe[je.a],Se[xe[1]]=1,we[Te]=null,Se[Te]=je.b,je.b=Te,0<--je.a&&U(je,1)),Ee}function U(je,xe){for(var we=je.d,Se=je.e,Te=je.c,Ee=xe,Ye=we[Ee];;){var Ze=Ee<<1,Qe=(Ze<je.a&&g(Se[we[Ze+1]],Se[we[Ze]])&&(Ze+=1),we[Ze]);if(Ze>je.a||g(Se[Ye],Se[Qe])){Te[we[Ee]=Ye]=Ee;break}Te[we[Ee]=Qe]=Ee,Ee=Ze}}function ue(je,xe){for(var we=je.d,Se=je.e,Te=je.c,Ee=xe,Ye=we[Ee];;){var Ze=Ee>>1,Qe=we[Ze];if(0==Ze||g(Se[Qe],Se[Ye])){Te[we[Ee]=Ye]=Ee;break}Te[we[Ee]=Qe]=Ee,Ee=Ze}}function N(){(this||je).e=(this||je).a=null,(this||je).f=0,(this||je).c=(this||je).b=(this||je).h=(this||je).d=!1}function B(je){return je.e.c.b}function G(je){return je.e.a.b}(Te=r.prototype).x=function(){I(this||je,0)},Te.B=function(xe,we){switch(xe){case 100142:return;case 100140:switch(we){case 100130:case 100131:case 100132:case 100133:case 100134:return void((this||je).s=we)}break;case 100141:return void((this||je).m=!!we);default:return void l(this||je,100900)}l(this||je,100901)},Te.y=function(xe){switch(xe){case 100142:return 0;case 100140:return(this||je).s;case 100141:return(this||je).m;default:l(this||je,100900)}return!1},Te.A=function(xe,we,Se){(this||je).j[0]=xe,(this||je).j[1]=we,(this||je).j[2]=Se},Te.z=function(xe,we){var Se=we||null;switch(xe){case 100100:case 100106:(this||je).h=Se;break;case 100104:case 100110:(this||je).l=Se;break;case 100101:case 100107:(this||je).k=Se;break;case 100102:case 100108:(this||je).i=Se;break;case 100103:case 100109:(this||je).p=Se;break;case 100105:case 100111:(this||je).o=Se;break;case 100112:(this||je).r=Se;break;default:l(this||je,100900)}},Te.C=function(xe,we){var Se=!1,Te=[0,0,0];I(this||je,2);for(var Ee=0;Ee<3;++Ee){var Ye=xe[Ee];Ye<-1e150&&(Ye=-1e150,Se=!0),1e150<Ye&&(Ye=1e150,Se=!0),Te[Ee]=Ye}Se&&l(this||je,100155),null===(Se=(this||je).q)?x(Se=d((this||je).b),Se.b):(w(Se),Se=Se.e),Se.a.d=we,Se.a.g[0]=Te[0],Se.a.g[1]=Te[1],Se.a.g[2]=Te[2],Se.f=1,Se.b.f=-1,(this||je).q=Se},Te.u=function(xe){I(this||je,0),(this||je).d=1,(this||je).b=new re,(this||je).c=xe},Te.t=function(){I(this||je,1),(this||je).d=2,(this||je).q=null},Te.v=function(){I(this||je,2),(this||je).d=1},Te.w=function(){I(this||je,1),(this||je).d=0;var xe,we,Se=(this||je).j[0],Te=(this||je).j[1],Ee=(this||je).j[2],Ye=!1,Ze=[Se,Te,Ee];if(0===Se&&0===Te&&0===Ee){Te=[-2e150,-2e150,-2e150];var Qe=[2e150,2e150,2e150],Ke=(Ee=[],[]);for(Se=(Ye=(this||je).b.c).e;Se!==Ye;Se=Se.e)for(var Je=0;Je<3;++Je){var $e=Se.g[Je];$e<Qe[Je]&&(Qe[Je]=$e,Ke[Je]=Se),$e>Te[Je]&&(Te[Je]=$e,Ee[Je]=Se)}if(Te[1]-Qe[1]>Te[Se=0]-Qe[0]&&(Se=1),Qe[Se=Te[2]-Qe[2]>Te[Se]-Qe[Se]?2:Se]>=Te[Se])Ze[0]=0,Ze[1]=0,Ze[2]=1;else{for(Qe=Ke[Se],Ee=Ee[Se],Ke=[Te=0,0,0],Qe=[Qe.g[0]-Ee.g[0],Qe.g[1]-Ee.g[1],Qe.g[2]-Ee.g[2]],Je=[0,0,0],Se=Ye.e;Se!==Ye;Se=Se.e)Je[0]=Se.g[0]-Ee.g[0],Je[1]=Se.g[1]-Ee.g[1],Je[2]=Se.g[2]-Ee.g[2],Ke[0]=Qe[1]*Je[2]-Qe[2]*Je[1],Ke[1]=Qe[2]*Je[0]-Qe[0]*Je[2],Ke[2]=Qe[0]*Je[1]-Qe[1]*Je[0],Te<($e=Ke[0]*Ke[0]+Ke[1]*Ke[1]+Ke[2]*Ke[2])&&(Te=$e,Ze[0]=Ke[0],Ze[1]=Ke[1],Ze[2]=Ke[2]);Te<=0&&(Ze[0]=Ze[1]=Ze[2]=0,Ze[W(Qe)]=1)}Ye=!0}for(Ke=W(Ze),Se=(this||je).b.c,Te=(Ke+1)%3,Ee=(Ke+2)%3,Ke=0<Ze[Ke]?1:-1,Ze=Se.e;Ze!==Se;Ze=Ze.e)Ze.b=Ze.g[Te],Ze.a=Ke*Ze.g[Ee];if(Ye){for(Ze=0,Se=(Ye=(this||je).b.a).b;Se!==Ye;Se=Se.b)if(!((Te=Se.a).f<=0))for(;Ze+=(Te.a.b-Te.b.a.b)*(Te.a.a+Te.b.a.a),(Te=Te.e)!==Se.a;);if(Ze<0)for(Ye=(Ze=(this||je).b.c).e;Ye!==Ze;Ye=Ye.e)Ye.a=-Ye.a}for((this||je).n=!1,Ze=(this||je).b.b,Se=Ze.h;Se!==Ze;Se=Ye)Ye=Se.h,Te=Se.e,y(Se.a,Se.b.a)&&Se.e.e!==Se&&(L(this||je,Te,Se),m(Se),Te=(Se=Te).e),Te.e===Se&&(Te!==Se&&(Te!==Ye&&Te!==Ye.b||(Ye=Ye.h),m(Te)),Se!==Ye&&Se!==Ye.b||(Ye=Ye.h),m(Se));for((this||je).e=Ze=new oe,Ye=(this||je).b.c,Se=Ye.e;Se!==Ye;Se=Se.e)Se.h=ne(Ze,Se);var et=Ze;et.d=[];for(var tt=0;tt<et.a;tt++)et.d[tt]=tt;et.d.sort(function(je){return function(xe,we){return g(je[xe],je[we])?1:-1}}(et.c)),et.e=!0;for(var rt=et.b,ot=rt.a;1<=ot;--ot)U(rt,ot);for(rt.h=!0,(this||je).f=new $(this||je),K(this||je,-4e150),K(this||je,4e150);null!==(Ze=se((this||je).e));){for(;;){e:if(0===(Se=(this||je).e).a)Ye=F(Se.b);else if(Ye=Se.c[Se.d[Se.a-1]],0!==Se.b.a&&g(Se=F(Se.b),Ye)){Ye=Se;break e}if(null===Ye||!y(Ye,Ze))break;Ye=se((this||je).e),L(this||je,Ze.c,Ye.c)}!function e(je,xe){for(var we,Se=(je.a=xe).c;null===Se.i;)if((Se=Se.c)===xe.c){Se=je;var Te=xe;(Ke=new N).a=Te.c.b;for(var Ee=(Ye=Se.f).a;null!==(Ee=Ee.a).b&&!Ye.c(Ye.b,Ke,Ee.b););var Ye,Ze,Qe=B(Ye=Ee.b),Ke=Ye.a;Ee=Qe.a;return void(0===b(Ke.b.a,Te,Ke.a)?y((Ke=Ye.a).a,Te)||y(Ke.b.a,Te)||(w(Ke.b),Ye.c&&(m(Ke.c),Ye.c=!1),x(Te.c,Ke),e(Se,Te)):(Ze=g(Ee.b.a,Ke.b.a)?Ye:Qe,Qe=void 0,Ye.d||Ze.c?(Qe=Ze===Ye?S(Te.c.b,Ke.e):S(Ee.b.c.b,Te.c).b,Ze.c?C(Ze,Qe):((Ye=q(Ke=Se,Ye,Qe)).f=G(Ye).f+Ye.a.f,Ye.d=X(Ke,Ye.f)),e(Se,Te)):P(Se,Ye,Te.c,Te.c,null,!0)))}Ye=(Ke=B(Se=O(Se.i))).a,(Ke=A(je,Ke,null)).c===Ye?(Ke=(Ye=Ke).c,Ee=B(Se),Qe=Se.a,Ze=Ee.a,we=!1,Qe.b.a!==Ze.b.a&&Q(je,Se),y(Qe.a,je.a)&&(x(Ke.b.e,Qe),Ke=B(Se=O(Se)).a,A(je,B(Se),Ee),we=!0),y(Ze.a,je.a)&&(x(Ye,Ze.b.e),Ye=A(je,Ee,null),we=!0),we?P(je,Se,Ye.c,Ke,Ke,!0):(Te=g(Ze.a,Qe.a)?Ze.b.e:Qe,P(je,Se,Te=S(Ye.c.b,Te),Te.c,Te.c,!1),Te.b.i.c=!0,J(je,Se))):P(je,Se,Ke.c,Ye,Ye,!0)}(this||je,Ze)}for((this||je).a=(this||je).f.a.a.b.a.a,Ze=0;null!==(Ye=(this||je).f.a.a.b);)Ye.h||++Ze,k(Ye);for((this||je).f=null,(Ze=(this||je).e).b=null,Ze.d=null,(this||je).e=Ze.c=null,Ze=(this||je).b,Se=Ze.a.b;Se!==Ze.a;Se=Ye)Ye=Se.b,(Se=Se.a).e.e===Se&&(M(Se.c,Se),m(Se));if(!(this||je).n){if(Ze=(this||je).b,(this||je).m)for(Se=Ze.b.h;Se!==Ze.b;Se=Ye)Ye=Se.h,Se.b.d.c!==Se.d.c?Se.f=Se.d.c?1:-1:m(Se);else for(Se=Ze.a.b;Se!==Ze.a;Se=Ye)if(Ye=Se.b,Se.c){for(Se=Se.a;g(Se.b.a,Se.a);Se=Se.c.b);for(;g(Se.a,Se.b.a);Se=Se.e);for(Te=Se.c.b,Ee=void 0;Se.e!==Te;)if(g(Se.b.a,Te.a)){for(;Te.e!==Se&&(g((we=Te.e).b.a,we.a)||b(Te.a,Te.b.a,Te.e.b.a)<=0);)Te=(Ee=S(Te.e,Te)).b;Te=Te.c.b}else{for(;Te.e!==Se&&(g((xe=Se.c.b).a,xe.b.a)||0<=b(Se.b.a,Se.a,Se.c.b.a));)Se=(Ee=S(Se,Se.c.b)).b;Se=Se.e}for(;Te.e.e!==Se;)Ee=S(Te.e,Te),Te=Ee.b}if((this||je).h||(this||je).i||(this||je).k||(this||je).l)if((this||je).m){for(Ye=(Ze=(this||je).b).a.b;Ye!==Ze.a;Ye=Ye.b)if(Ye.c){for((this||je).h&&this.h(2,(this||je).c),Se=Ye.a;(this||je).k&&this.k(Se.a.d,(this||je).c),(Se=Se.e)!==Ye.a;);(this||je).i&&this.i((this||je).c)}}else{for(Ze=(this||je).b,Ye=!!(this||je).l,Se=!1,Te=-1,Ee=Ze.a.d;Ee!==Ze.a;Ee=Ee.d)if(Ee.c)for(Se||((this||je).h&&this.h(4,(this||je).c),Se=!0),Ke=Ee.a;Ye&&(Qe=Ke.b.d.c?0:1,Te!==Qe&&(Te=Qe,(this||je).l&&this.l(!!Te,(this||je).c))),(this||je).k&&this.k(Ke.a.d,(this||je).c),(Ke=Ke.e)!==Ee.a;);Se&&(this||je).i&&this.i((this||je).c)}if((this||je).r){for(Ze=(this||je).b,Se=Ze.a.b;Se!==Ze.a;Se=Ye)if(Ye=Se.b,!Se.c){for(Ee=(Te=Se.a).e,Ke=void 0;Ee=(Ke=Ee).e,(Ke.d=null)===Ke.b.d&&(Ke.c===Ke?E(Ke.a,null):(Ke.a.c=Ke.c,T(Ke,Ke.b.e)),(Qe=Ke.b).c===Qe?E(Qe.a,null):(Qe.a.c=Qe.c,T(Qe,Qe.b.e)),H(Ke)),Ke!==Te;);Te=Se.d,((Se=Se.b).d=Te).b=Se}return this.r((this||je).b),void((this||je).c=(this||je).b=null)}}(this||je).b=(this||je).c=null},(this||je).libtess={GluTesselator:r,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},r.prototype.gluDeleteTess=r.prototype.x,r.prototype.gluTessProperty=r.prototype.B,r.prototype.gluGetTessProperty=r.prototype.y,r.prototype.gluTessNormal=r.prototype.A,r.prototype.gluTessCallback=r.prototype.z,r.prototype.gluTessVertex=r.prototype.C,r.prototype.gluTessBeginPolygon=r.prototype.u,r.prototype.gluTessBeginContour=r.prototype.t,r.prototype.gluTessEndContour=r.prototype.v,r.prototype.gluTessEndPolygon=r.prototype.w,void 0!==we&&(we.exports=(this||je).libtess)},{}],253:[function(xe,we,Se){function o(xe,we,Se,Te){var Ee=0,Ye=void 0===(Te=void 0===Te?{}:Te).loop?null:Te.loop,Ze=void 0===Te.palette?null:Te.palette;if(we<=0||Se<=0||65535<we||65535<Se)throw new Error("Width/Height invalid.");function _(je){je=je.length;if(je<2||256<je||je&je-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return je}xe[Ee++]=71,xe[Ee++]=73,xe[Ee++]=70,xe[Ee++]=56,xe[Ee++]=57,xe[Ee++]=97;var Qe=0,Ke=0;if(null!==Ze){for(var Je=_(Ze);Je>>=1;)++Qe;if(Je=1<<Qe,--Qe,void 0!==Te.background){if(Je<=(Ke=Te.background))throw new Error("Background index out of range.");if(0===Ke)throw new Error("Background index explicitly passed as 0.")}}if(xe[Ee++]=255&we,xe[Ee++]=we>>8&255,xe[Ee++]=255&Se,xe[Ee++]=Se>>8&255,xe[Ee++]=(null!==Ze?128:0)|Qe,xe[Ee++]=Ke,xe[Ee++]=0,null!==Ze)for(var $e=0,et=Ze.length;$e<et;++$e){var tt=Ze[$e];xe[Ee++]=tt>>16&255,xe[Ee++]=tt>>8&255,xe[Ee++]=255&tt}if(null!==Ye){if(Ye<0||65535<Ye)throw new Error("Loop count invalid.");xe[Ee++]=33,xe[Ee++]=255,xe[Ee++]=11,xe[Ee++]=78,xe[Ee++]=69,xe[Ee++]=84,xe[Ee++]=83,xe[Ee++]=67,xe[Ee++]=65,xe[Ee++]=80,xe[Ee++]=69,xe[Ee++]=50,xe[Ee++]=46,xe[Ee++]=48,xe[Ee++]=3,xe[Ee++]=1,xe[Ee++]=255&Ye,xe[Ee++]=Ye>>8&255,xe[Ee++]=0}var rt=!1;(this||je).addFrame=function(je,we,Se,Te,Ye,Qe){if(!0===rt&&(--Ee,rt=!1),Qe=void 0===Qe?{}:Qe,je<0||we<0||65535<je||65535<we)throw new Error("x/y invalid.");if(Se<=0||Te<=0||65535<Se||65535<Te)throw new Error("Width/Height invalid.");if(Ye.length<Se*Te)throw new Error("Not enough pixels for the frame size.");var Ke=!0,Je=Qe.palette;if(null==Je&&(Ke=!1,Je=Ze),null==Je)throw new Error("Must supply either a local or global palette.");for(var $e=_(Je),et=0;$e>>=1;)++et;$e=1<<et;var tt=void 0===Qe.delay?0:Qe.delay,ot=void 0===Qe.disposal?0:Qe.disposal;if(ot<0||3<ot)throw new Error("Disposal out of range.");var nt=!1,st=0;if(void 0!==Qe.transparent&&null!==Qe.transparent&&(nt=!0,(st=Qe.transparent)<0||$e<=st))throw new Error("Transparent color index.");if(0===ot&&!nt&&0===tt||(xe[Ee++]=33,xe[Ee++]=249,xe[Ee++]=4,xe[Ee++]=ot<<2|(!0===nt?1:0),xe[Ee++]=255&tt,xe[Ee++]=tt>>8&255,xe[Ee++]=st,xe[Ee++]=0),xe[Ee++]=44,xe[Ee++]=255&je,xe[Ee++]=je>>8&255,xe[Ee++]=255&we,xe[Ee++]=we>>8&255,xe[Ee++]=255&Se,xe[Ee++]=Se>>8&255,xe[Ee++]=255&Te,xe[Ee++]=Te>>8&255,xe[Ee++]=!0===Ke?128|et-1:0,!0===Ke)for(var it=0,dt=Je.length;it<dt;++it){var ht=Je[it];xe[Ee++]=ht>>16&255,xe[Ee++]=ht>>8&255,xe[Ee++]=255&ht}return Ee=function(je,xe,we,Se){je[xe++]=we;var Te=xe++,Ee=1<<we,Ye=Ee-1,Ze=1+Ee,Qe=1+Ze,Ke=we+1,Je=0,$e=0;function h(we){for(;we<=Je;)je[xe++]=255&$e,$e>>=8,Je-=8,xe===Te+256&&(je[Te]=255,Te=xe++)}function f(je){$e|=je<<Je,Je+=Ke,h(8)}var et=Se[0]&Ye,tt={};f(Ee);for(var rt=1,ot=Se.length;rt<ot;++rt){var nt=Se[rt]&Ye,st=et<<8|nt,it=tt[st];if(void 0===it){for($e|=et<<Je,Je+=Ke;8<=Je;)je[xe++]=255&$e,$e>>=8,Je-=8,xe===Te+256&&(je[Te]=255,Te=xe++);4096===Qe?(f(Ee),Qe=1+Ze,Ke=we+1,tt={}):(1<<Ke<=Qe&&++Ke,tt[st]=Qe++),et=nt}else et=it}f(et),f(Ze),h(1),Te+1===xe?je[Te]=0:(je[Te]=xe-Te-1,je[xe++]=0);return xe}(xe,Ee,et<2?2:et,Ye)},(this||je).end=function(){return!1===rt&&(xe[Ee++]=59,rt=!0),Ee},(this||je).getOutputBuffer=function(){return xe},(this||je).setOutputBuffer=function(je){xe=je},(this||je).getOutputBufferPosition=function(){return Ee},(this||je).setOutputBufferPosition=function(je){Ee=je}}function E(je,xe,we,Se){for(var Te=je[xe++],Ee=1<<Te,Ye=1+Ee,Ze=1+Ye,Qe=Te+1,Ke=(1<<Qe)-1,Je=0,$e=0,et=0,tt=je[xe++],rt=new Int32Array(4096),ot=null;;){for(;Je<16&&0!==tt;)$e|=je[xe++]<<Je,Je+=8,1===tt?tt=je[xe++]:--tt;if(Je<Qe)break;var nt=$e&Ke;if($e>>=Qe,Je-=Qe,nt==Ee)Ze=1+Ye,Ke=(1<<(Qe=Te+1))-1,ot=null;else{if(nt==Ye)break;for(var st=nt<Ze?nt:ot,it=0,dt=st;Ee<dt;)dt=rt[dt]>>8,++it;var ht=dt;if(Se<et+it+(st!==nt?1:0))return void console.log("Warning, gif stream longer than expected.");we[et++]=ht;var ft=et+=it;for(st!==nt&&(we[et++]=ht),dt=st;it--;)dt=rt[dt],we[--ft]=255&dt,dt>>=8;null!==ot&&Ze<4096&&(rt[Ze++]=ot<<8|ht,Ke+1<=Ze&&Qe<12&&(++Qe,Ke=Ke<<1|1)),ot=nt}}et!==Se&&console.log("Warning, gif stream shorter than expected.")}try{Se.GifWriter=o,Se.GifReader=function(xe){var we=0;if(71!==xe[we++]||73!==xe[we++]||70!==xe[we++]||56!==xe[we++]||56!=(xe[we++]+1&253)||97!==xe[we++])throw new Error("Invalid GIF 87a/89a header.");var Se=xe[we++]|xe[we++]<<8,Te=xe[we++]|xe[we++]<<8,Ee=xe[we++],Ye=1<<1+(7&Ee),Ze=(xe[we++],xe[we++],null),Qe=null,Ke=(Ee>>7&&(Ze=we,we+=3*(Qe=Ye)),!0),Je=[],$e=0,et=null,tt=0,rt=null;for((this||je).width=Se,(this||je).height=Te;Ke&&we<xe.length;)switch(xe[we++]){case 33:switch(xe[we++]){case 255:if(11!==xe[we]||78==xe[we+1]&&69==xe[we+2]&&84==xe[we+3]&&83==xe[we+4]&&67==xe[we+5]&&65==xe[we+6]&&80==xe[we+7]&&69==xe[we+8]&&50==xe[we+9]&&46==xe[we+10]&&48==xe[we+11]&&3==xe[we+12]&&1==xe[we+13]&&0==xe[we+16])we+=14,rt=xe[we++]|xe[we++]<<8,we++;else for(we+=12;;){if(!(0<=(nt=xe[we++])))throw Error("Invalid block size");if(0===nt)break;we+=nt}break;case 249:if(4!==xe[we++]||0!==xe[we+4])throw new Error("Invalid graphics extension block.");var ot=xe[we++];$e=xe[we++]|xe[we++]<<8,et=xe[we++];0==(1&ot)&&(et=null),tt=ot>>2&7,we++;break;case 254:for(;;){if(!(0<=(nt=xe[we++])))throw Error("Invalid block size");if(0===nt)break;we+=nt}break;default:throw new Error("Unknown graphic control label: 0x"+xe[we-1].toString(16))}break;case 44:var nt,st=xe[we++]|xe[we++]<<8,it=xe[we++]|xe[we++]<<8,dt=xe[we++]|xe[we++]<<8,ht=xe[we++]|xe[we++]<<8,ft=xe[we++],pt=ft>>6&1,mt=1<<1+(7&ft),yt=Ze,gt=Qe,wt=!1;ft=(ft>>7&&(wt=!0,yt=we,we+=3*(gt=mt)),we);for(we++;;){if(!(0<=(nt=xe[we++])))throw Error("Invalid block size");if(0===nt)break;we+=nt}Je.push({x:st,y:it,width:dt,height:ht,has_local_palette:wt,palette_offset:yt,palette_size:gt,data_offset:ft,data_length:we-ft,transparent_index:et,interlaced:!!pt,delay:$e,disposal:tt});break;case 59:Ke=!1;break;default:throw new Error("Unknown gif block: 0x"+xe[we-1].toString(16))}(this||je).numFrames=function(){return Je.length},(this||je).loopCount=function(){return rt},(this||je).frameInfo=function(je){if(je<0||je>=Je.length)throw new Error("Frame index out of range.");return Je[je]},(this||je).decodeAndBlitFrameBGRA=function(je,we){je=this.frameInfo(je);for(var Te=je.width*je.height,Ee=new Uint8Array(Te),Ye=(E(xe,je.data_offset,Ee,Te),je.palette_offset),Ze=je.transparent_index,Qe=(null===Ze&&(Ze=256),je.width),Ke=Se-Qe,Je=Qe,$e=4*(je.y*Se+je.x),et=4*((je.y+je.height)*Se+je.x),tt=$e,rt=4*Ke,ot=(!0===je.interlaced&&(rt+=4*Se*7),8),nt=0,st=Ee.length;nt<st;++nt){var it,dt,ht=Ee[nt];0===Je&&(Je=Qe,et<=(tt+=rt)&&(rt=4*Ke+4*Se*(ot-1),tt=$e+(Qe+Ke)*(ot<<1),ot>>=1)),ht===Ze?tt+=4:(it=xe[Ye+3*ht],dt=xe[Ye+3*ht+1],ht=xe[Ye+3*ht+2],we[tt++]=ht,we[tt++]=dt,we[tt++]=it,we[tt++]=255),--Je}},(this||je).decodeAndBlitFrameRGBA=function(je,we){je=this.frameInfo(je);for(var Te=je.width*je.height,Ee=new Uint8Array(Te),Ye=(E(xe,je.data_offset,Ee,Te),je.palette_offset),Ze=je.transparent_index,Qe=(null===Ze&&(Ze=256),je.width),Ke=Se-Qe,Je=Qe,$e=4*(je.y*Se+je.x),et=4*((je.y+je.height)*Se+je.x),tt=$e,rt=4*Ke,ot=(!0===je.interlaced&&(rt+=4*Se*7),8),nt=0,st=Ee.length;nt<st;++nt){var it,dt,ht=Ee[nt];0===Je&&(Je=Qe,et<=(tt+=rt)&&(rt=4*Ke+4*Se*(ot-1),tt=$e+(Qe+Ke)*(ot<<1),ot>>=1)),ht===Ze?tt+=4:(it=xe[Ye+3*ht],dt=xe[Ye+3*ht+1],ht=xe[Ye+3*ht+2],we[tt++]=it,we[tt++]=dt,we[tt++]=ht,we[tt++]=255),--Je}}}}catch(xe){}},{}],254:[function(we,Se,Te){!function(Ee){var Ye,Ze;Ye=this||je,Ze=function(xe){function D(xe){if(null==(this||je))throw TypeError();var we,Se=String(this||je),Te=Se.length;xe=xe?Number(xe):0;if(!((xe=xe!=xe?0:xe)<0||Te<=xe))return 55296<=(we=Se.charCodeAt(xe))&&we<=56319&&xe+1<Te&&56320<=(Te=Se.charCodeAt(xe+1))&&Te<=57343?1024*(we-55296)+Te-56320+65536:we}String.prototype.codePointAt||((Se=function(){try{var je={},xe=Object.defineProperty,we=xe(je,je,je)&&xe}catch(je){}return we}())?Se(String.prototype,"codePointAt",{value:D,configurable:!0,writable:!0}):String.prototype.codePointAt=D);var Se,Te=0,Ye=-3;function B(){(this||je).table=new Uint16Array(16),(this||je).trans=new Uint16Array(288)}function G(xe,we){(this||je).source=xe,(this||je).sourceIndex=0,(this||je).tag=0,(this||je).bitcount=0,(this||je).dest=we,(this||je).destLen=0,(this||je).ltree=new B,(this||je).dtree=new B}var Ze=new B,Qe=new B,Ke=new Uint8Array(30),Je=new Uint16Array(30),$e=new Uint8Array(30),et=new Uint16Array(30),tt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rt=new B,ot=new Uint8Array(320);function Q(je,xe,we,Se){for(var Te,Ee=0;Ee<we;++Ee)je[Ee]=0;for(Ee=0;Ee<30-we;++Ee)je[Ee+we]=Ee/we|0;for(Te=Se,Ee=0;Ee<30;++Ee)xe[Ee]=Te,Te+=1<<je[Ee]}var nt=new Uint16Array(16);function K(je,xe,we,Se){for(var Te,Ee=0;Ee<16;++Ee)je.table[Ee]=0;for(Ee=0;Ee<Se;++Ee)je.table[xe[we+Ee]]++;for(Ee=Te=je.table[0]=0;Ee<16;++Ee)nt[Ee]=Te,Te+=je.table[Ee];for(Ee=0;Ee<Se;++Ee)xe[we+Ee]&&(je.trans[nt[xe[we+Ee]]++]=Ee)}function b(je,xe,we){if(!xe)return we;for(;je.bitcount<24;)je.tag|=je.source[je.sourceIndex++]<<je.bitcount,je.bitcount+=8;var Se=je.tag&65535>>>16-xe;return je.tag>>>=xe,je.bitcount-=xe,Se+we}function $(je,xe){for(;je.bitcount<24;)je.tag|=je.source[je.sourceIndex++]<<je.bitcount,je.bitcount+=8;for(var we=0,Se=0,Te=0,Ee=je.tag;Se=2*Se+(1&Ee),Ee>>>=1,we+=xe.table[++Te],0<=(Se-=xe.table[Te]););return je.tag=Ee,je.bitcount-=Te,xe.trans[we+Se]}function ee(je,xe,we){for(;;){var Se=$(je,xe);if(256===Se)return Te;if(Se<256)je.dest[je.destLen++]=Se;else for(var Ee,Ye=b(je,Ke[Se-=257],Je[Se]),Ze=(Se=$(je,we),Ee=je.destLen-b(je,$e[Se],et[Se]));Ze<Ee+Ye;++Ze)je.dest[je.destLen++]=je.dest[Ze]}}for(var st=Ze,it=Qe,dt=0;dt<7;++dt)st.table[dt]=0;for(st.table[7]=24,st.table[8]=152,st.table[9]=112,dt=0;dt<24;++dt)st.trans[dt]=256+dt;for(dt=0;dt<144;++dt)st.trans[24+dt]=dt;for(dt=0;dt<8;++dt)st.trans[168+dt]=280+dt;for(dt=0;dt<112;++dt)st.trans[176+dt]=144+dt;for(dt=0;dt<5;++dt)it.table[dt]=0;for(it.table[5]=32,dt=0;dt<32;++dt)it.trans[dt]=dt;Q(Ke,Je,4,3),Q($e,et,2,1),Ke[28]=0,Je[28]=258;var re=function(je,xe){var we,Se,Ee,Ke=new G(je,xe);do{switch(Ee=void 0,(Se=Ke).bitcount--||(Se.tag=Se.source[Se.sourceIndex++],Se.bitcount=7),Ee=1&Se.tag,Se.tag>>>=1,Se=Ee,b(Ke,2,0)){case 0:we=function(je){for(var xe,we;8<je.bitcount;)je.sourceIndex--,je.bitcount-=8;if((xe=256*je.source[je.sourceIndex+1]+je.source[je.sourceIndex])!==(65535&~(256*je.source[je.sourceIndex+3]+je.source[je.sourceIndex+2])))return Ye;for(je.sourceIndex+=4,we=xe;we;--we)je.dest[je.destLen++]=je.source[je.sourceIndex++];return je.bitcount=0,Te}(Ke);break;case 1:we=ee(Ke,Ze,Qe);break;case 2:mt=pt=ft=yt=Je=ht=dt=it=st=nt=et=$e=void 0;for(var Je,$e=Ke,et=Ke.ltree,nt=Ke.dtree,st=b($e,5,257),it=b($e,5,1),dt=b($e,4,4),ht=0;ht<19;++ht)ot[ht]=0;for(ht=0;ht<dt;++ht){var ft=b($e,3,0);ot[tt[ht]]=ft}for(K(rt,ot,0,19),Je=0;Je<st+it;){var pt=$($e,rt);switch(pt){case 16:for(var mt=ot[Je-1],yt=b($e,2,3);yt;--yt)ot[Je++]=mt;break;case 17:for(yt=b($e,3,3);yt;--yt)ot[Je++]=0;break;case 18:for(yt=b($e,7,11);yt;--yt)ot[Je++]=0;break;default:ot[Je++]=pt}}K(et,ot,0,st),K(nt,ot,st,it),we=ee(Ke,Ke.ltree,Ke.dtree);break;default:we=Ye}if(we!==Te)throw new Error("Data error")}while(!Se);return Ke.destLen<Ke.dest.length?"function"==typeof Ke.dest.slice?Ke.dest.slice(0,Ke.destLen):Ke.dest.subarray(0,Ke.destLen):Ke.dest};function g(je,xe,we,Se,Te){return Math.pow(1-Te,3)*je+3*Math.pow(1-Te,2)*Te*xe+3*(1-Te)*Math.pow(Te,2)*we+Math.pow(Te,3)*Se}function a(){(this||je).x1=Number.NaN,(this||je).y1=Number.NaN,(this||je).x2=Number.NaN,(this||je).y2=Number.NaN}function h(){(this||je).commands=[],(this||je).fill="black",(this||je).stroke=null,(this||je).strokeWidth=1}function oe(je){throw new Error(je)}function ne(je,xe){je||oe(xe)}a.prototype.isEmpty=function(){return isNaN((this||je).x1)||isNaN((this||je).y1)||isNaN((this||je).x2)||isNaN((this||je).y2)},a.prototype.addPoint=function(xe,we){"number"==typeof xe&&((isNaN((this||je).x1)||isNaN((this||je).x2))&&((this||je).x1=xe,(this||je).x2=xe),xe<(this||je).x1&&((this||je).x1=xe),xe>(this||je).x2&&((this||je).x2=xe)),"number"==typeof we&&((isNaN((this||je).y1)||isNaN((this||je).y2))&&((this||je).y1=we,(this||je).y2=we),we<(this||je).y1&&((this||je).y1=we),we>(this||je).y2&&((this||je).y2=we))},a.prototype.addX=function(je){this.addPoint(je,null)},a.prototype.addY=function(je){this.addPoint(null,je)},a.prototype.addBezier=function(je,xe,we,Se,Te,Ee,Ye,Ze){var Qe=[je,xe],Ke=[we,Se],Je=[Te,Ee],$e=[Ye,Ze];this.addPoint(je,xe),this.addPoint(Ye,Ze);for(var et=0;et<=1;et++){var tt,rt=6*Qe[et]-12*Ke[et]+6*Je[et],ot=-3*Qe[et]+9*Ke[et]-9*Je[et]+3*$e[et],nt=3*Ke[et]-3*Qe[et];0==ot?0==rt||0<(tt=-nt/rt)&&tt<1&&(0===et&&this.addX(g(Qe[et],Ke[et],Je[et],$e[et],tt)),1===et&&this.addY(g(Qe[et],Ke[et],Je[et],$e[et],tt))):(tt=Math.pow(rt,2)-4*nt*ot)<0||(0<(nt=(-rt+Math.sqrt(tt))/(2*ot))&&nt<1&&(0===et&&this.addX(g(Qe[et],Ke[et],Je[et],$e[et],nt)),1===et&&this.addY(g(Qe[et],Ke[et],Je[et],$e[et],nt))),0<(nt=(-rt-Math.sqrt(tt))/(2*ot))&&nt<1&&(0===et&&this.addX(g(Qe[et],Ke[et],Je[et],$e[et],nt)),1===et&&this.addY(g(Qe[et],Ke[et],Je[et],$e[et],nt))))}},a.prototype.addQuad=function(je,xe,we,Se,Te,Ee){we=je+2/3*(we-je),Se=xe+2/3*(Se-xe);this.addBezier(je,xe,we,Se,we+1/3*(Te-je),Se+1/3*(Ee-xe),Te,Ee)},h.prototype.moveTo=function(xe,we){(this||je).commands.push({type:"M",x:xe,y:we})},h.prototype.lineTo=function(xe,we){(this||je).commands.push({type:"L",x:xe,y:we})},h.prototype.curveTo=h.prototype.bezierCurveTo=function(xe,we,Se,Te,Ee,Ye){(this||je).commands.push({type:"C",x1:xe,y1:we,x2:Se,y2:Te,x:Ee,y:Ye})},h.prototype.quadTo=h.prototype.quadraticCurveTo=function(xe,we,Se,Te){(this||je).commands.push({type:"Q",x1:xe,y1:we,x:Se,y:Te})},h.prototype.close=h.prototype.closePath=function(){(this||je).commands.push({type:"Z"})},h.prototype.extend=function(xe){var we;if(xe.commands)xe=xe.commands;else if(xe instanceof a)return we=xe,this.moveTo(we.x1,we.y1),this.lineTo(we.x2,we.y1),this.lineTo(we.x2,we.y2),this.lineTo(we.x1,we.y2),void this.close();Array.prototype.push.apply((this||je).commands,xe)},h.prototype.getBoundingBox=function(){for(var xe=new a,we=0,Se=0,Te=0,Ee=0,Ye=0;Ye<(this||je).commands.length;Ye++){var Ze=(this||je).commands[Ye];switch(Ze.type){case"M":xe.addPoint(Ze.x,Ze.y),we=Te=Ze.x,Se=Ee=Ze.y;break;case"L":xe.addPoint(Ze.x,Ze.y),Te=Ze.x,Ee=Ze.y;break;case"Q":xe.addQuad(Te,Ee,Ze.x1,Ze.y1,Ze.x,Ze.y),Te=Ze.x,Ee=Ze.y;break;case"C":xe.addBezier(Te,Ee,Ze.x1,Ze.y1,Ze.x2,Ze.y2,Ze.x,Ze.y),Te=Ze.x,Ee=Ze.y;break;case"Z":Te=we,Ee=Se;break;default:throw new Error("Unexpected path command "+Ze.type)}}return xe.isEmpty()&&xe.addPoint(0,0),xe},h.prototype.draw=function(xe){xe.beginPath();for(var we=0;we<(this||je).commands.length;we+=1){var Se=(this||je).commands[we];"M"===Se.type?xe.moveTo(Se.x,Se.y):"L"===Se.type?xe.lineTo(Se.x,Se.y):"C"===Se.type?xe.bezierCurveTo(Se.x1,Se.y1,Se.x2,Se.y2,Se.x,Se.y):"Q"===Se.type?xe.quadraticCurveTo(Se.x1,Se.y1,Se.x,Se.y):"Z"===Se.type&&xe.closePath()}(this||je).fill&&(xe.fillStyle=(this||je).fill,xe.fill()),(this||je).stroke&&(xe.strokeStyle=(this||je).stroke,xe.lineWidth=(this||je).strokeWidth,xe.stroke())},h.prototype.toPathData=function(xe){function e(){for(var je=arguments,we="",Se=0;Se<arguments.length;Se+=1){var Te=je[Se];0<=Te&&0<Se&&(we+=" "),we+=(Te,Math.round(Te)===Te?""+Math.round(Te):Te.toFixed(xe))}return we}xe=void 0!==xe?xe:2;for(var we="",Se=0;Se<(this||je).commands.length;Se+=1){var Te=(this||je).commands[Se];"M"===Te.type?we+="M"+e(Te.x,Te.y):"L"===Te.type?we+="L"+e(Te.x,Te.y):"C"===Te.type?we+="C"+e(Te.x1,Te.y1,Te.x2,Te.y2,Te.x,Te.y):"Q"===Te.type?we+="Q"+e(Te.x1,Te.y1,Te.x,Te.y):"Z"===Te.type&&(we+="Z")}return we},h.prototype.toSVG=function(xe){var we=(we='<path d="')+this.toPathData(xe)+'"';return(this||je).fill&&"black"!==(this||je).fill&&(null===(this||je).fill?we+=' fill="none"':we+=' fill="'+(this||je).fill+'"'),(this||je).stroke&&(we+=' stroke="'+(this||je).stroke+'" stroke-width="'+(this||je).strokeWidth+'"'),we+"/>"},h.prototype.toDOMElement=function(je){je=this.toPathData(je);var xe=document.createElementNS("http://www.w3.org/2000/svg","path");return xe.setAttribute("d",je),xe};var ht={fail:oe,argument:ne,assert:ne},ft={},pt={},mt={};function r(je){return function(){return je}}pt.BYTE=function(je){return ht.argument(0<=je&&je<=255,"Byte value should be between 0 and 255."),[je]},mt.BYTE=r(1),pt.CHAR=function(je){return[je.charCodeAt(0)]},mt.CHAR=r(1),pt.CHARARRAY=function(je){for(var xe=[],we=0;we<je.length;we+=1)xe[we]=je.charCodeAt(we);return xe},mt.CHARARRAY=function(je){return je.length},pt.USHORT=function(je){return[je>>8&255,255&je]},mt.USHORT=r(2),pt.SHORT=function(je){return[(je=32768<=je?-(65536-je):je)>>8&255,255&je]},mt.SHORT=r(2),pt.UINT24=function(je){return[je>>16&255,je>>8&255,255&je]},mt.UINT24=r(3),pt.ULONG=function(je){return[je>>24&255,je>>16&255,je>>8&255,255&je]},mt.ULONG=r(4),pt.LONG=function(je){return[(je=2147483648<=je?-(4294967296-je):je)>>24&255,je>>16&255,je>>8&255,255&je]},mt.LONG=r(4),pt.FIXED=pt.ULONG,mt.FIXED=mt.ULONG,pt.FWORD=pt.SHORT,mt.FWORD=mt.SHORT,pt.UFWORD=pt.USHORT,mt.UFWORD=mt.USHORT,pt.LONGDATETIME=function(je){return[0,0,0,0,je>>24&255,je>>16&255,je>>8&255,255&je]},mt.LONGDATETIME=r(8),pt.TAG=function(je){return ht.argument(4===je.length,"Tag should be exactly 4 ASCII characters."),[je.charCodeAt(0),je.charCodeAt(1),je.charCodeAt(2),je.charCodeAt(3)]},mt.TAG=r(4),pt.Card8=pt.BYTE,mt.Card8=mt.BYTE,pt.Card16=pt.USHORT,mt.Card16=mt.USHORT,pt.OffSize=pt.BYTE,mt.OffSize=mt.BYTE,pt.SID=pt.USHORT,mt.SID=mt.USHORT,pt.NUMBER=function(je){return-107<=je&&je<=107?[je+139]:108<=je&&je<=1131?[247+((je-=108)>>8),255&je]:-1131<=je&&je<=-108?[251+((je=-je-108)>>8),255&je]:-32768<=je&&je<=32767?pt.NUMBER16(je):pt.NUMBER32(je)},mt.NUMBER=function(je){return pt.NUMBER(je).length},pt.NUMBER16=function(je){return[28,je>>8&255,255&je]},mt.NUMBER16=r(3),pt.NUMBER32=function(je){return[29,je>>24&255,je>>16&255,je>>8&255,255&je]},mt.NUMBER32=r(5),pt.REAL=function(je){for(var xe=je.toString(),we=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(xe),Se=(we&&(we=parseFloat("1e"+((we[2]?+we[2]:0)+we[1].length)),xe=(Math.round(je*we)/we).toString()),""),Te=0,Ee=xe.length;Te<Ee;Te+=1){var Ye=xe[Te];Se+="e"===Ye?"-"===xe[++Te]?"c":"b":"."===Ye?"a":"-"===Ye?"e":Ye}for(var Ze=[30],Qe=0,Ke=(Se+=1&Se.length?"f":"ff").length;Qe<Ke;Qe+=2)Ze.push(parseInt(Se.substr(Qe,2),16));return Ze},mt.REAL=function(je){return pt.REAL(je).length},pt.NAME=pt.CHARARRAY,mt.NAME=mt.CHARARRAY,pt.STRING=pt.CHARARRAY,mt.STRING=mt.CHARARRAY,ft.UTF8=function(je,xe,we){for(var Se=[],Te=we,Ee=0;Ee<Te;Ee++,xe+=1)Se[Ee]=je.getUint8(xe);return String.fromCharCode.apply(null,Se)},ft.UTF16=function(je,xe,we){for(var Se=[],Te=we/2,Ee=0;Ee<Te;Ee++,xe+=2)Se[Ee]=je.getUint16(xe);return String.fromCharCode.apply(null,Se)},pt.UTF16=function(je){for(var xe=[],we=0;we<je.length;we+=1){var Se=je.charCodeAt(we);xe[xe.length]=Se>>8&255,xe[xe.length]=255&Se}return xe},mt.UTF16=function(je){return 2*je.length};var yt,gt={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},wt=(ft.MACSTRING=function(je,xe,we,Se){var Te=gt[Se];if(void 0!==Te){for(var Ee="",Ye=0;Ye<we;Ye++){var Ze=je.getUint8(xe+Ye);Ee+=Ze<=127?String.fromCharCode(Ze):Te[127&Ze]}return Ee}},"function"==typeof WeakMap&&new WeakMap);function le(je){return-128<=je&&je<=127}pt.MACSTRING=function(je,xe){var we=function(je){if(!yt)for(var xe in yt={},gt)yt[xe]=new String(xe);var we=yt[je];if(void 0!==we){if(wt){var Se=wt.get(we);if(void 0!==Se)return Se}var Te=gt[je];if(void 0!==Te){for(var Ee={},Ye=0;Ye<Te.length;Ye++)Ee[Te.charCodeAt(Ye)]=Ye+128;return wt&&wt.set(we,Ee),Ee}}}(xe);if(void 0!==we){for(var Se=[],Te=0;Te<je.length;Te++){var Ee=je.charCodeAt(Te);if(128<=Ee&&void 0===(Ee=we[Ee]))return;Se[Te]=Ee}return Se}},mt.MACSTRING=function(je,xe){je=pt.MACSTRING(je,xe);return void 0!==je?je.length:0},pt.VARDELTAS=function(je){for(var xe=0,we=[];xe<je.length;){var Se=je[xe];xe=(0===Se?function(je,xe,we){for(var Se=0,Te=je.length;xe<Te&&Se<64&&0===je[xe];)++xe,++Se;return we.push(128|Se-1),xe}:-128<=Se&&Se<=127?function(je,xe,we){for(var Se=0,Te=je.length,Ee=xe;Ee<Te&&Se<64;){var Ye=je[Ee];if(!le(Ye))break;if(0===Ye&&Ee+1<Te&&0===je[Ee+1])break;++Ee,++Se}we.push(Se-1);for(var Ze=xe;Ze<Ee;++Ze)we.push(je[Ze]+256&255);return Ee}:function(je,xe,we){for(var Se=0,Te=je.length,Ee=xe;Ee<Te&&Se<64;){var Ye=je[Ee];if(0===Ye)break;if(le(Ye)&&Ee+1<Te&&le(je[Ee+1]))break;++Ee,++Se}we.push(64|Se-1);for(var Ze=xe;Ze<Ee;++Ze){var Qe=je[Ze];we.push(Qe+65536>>8&255,Qe+256&255)}return Ee})(je,xe,we)}return we},pt.INDEX=function(je){for(var xe=1,we=[xe],Se=[],Te=0;Te<je.length;Te+=1){var Ee=pt.OBJECT(je[Te]);Array.prototype.push.apply(Se,Ee),xe+=Ee.length,we.push(xe)}if(0===Se.length)return[0,0];for(var Ye=[],Ze=1+Math.floor(Math.log(xe)/Math.log(2))/8|0,Qe=[void 0,pt.BYTE,pt.USHORT,pt.UINT24,pt.ULONG][Ze],Ke=0;Ke<we.length;Ke+=1){var Je=Qe(we[Ke]);Array.prototype.push.apply(Ye,Je)}return Array.prototype.concat(pt.Card16(je.length),pt.OffSize(Ze),Ye,Se)},mt.INDEX=function(je){return pt.INDEX(je).length},pt.DICT=function(je){for(var xe=[],we=Object.keys(je),Se=we.length,Te=0;Te<Se;Te+=1){var Ee=parseInt(we[Te],0),Ye=je[Ee];xe=(xe=xe.concat(pt.OPERAND(Ye.value,Ye.type))).concat(pt.OPERATOR(Ee))}return xe},mt.DICT=function(je){return pt.DICT(je).length},pt.OPERATOR=function(je){return je<1200?[je]:[12,je-1200]},pt.OPERAND=function(je,xe){var we=[];if(Array.isArray(xe))for(var Se=0;Se<xe.length;Se+=1)ht.argument(je.length===xe.length,"Not enough arguments given for type"+xe),we=we.concat(pt.OPERAND(je[Se],xe[Se]));else if("SID"===xe)we=we.concat(pt.NUMBER(je));else if("offset"===xe)we=we.concat(pt.NUMBER32(je));else if("number"===xe)we=we.concat(pt.NUMBER(je));else{if("real"!==xe)throw new Error("Unknown operand type "+xe);we=we.concat(pt.REAL(je))}return we},pt.OP=pt.BYTE,mt.OP=mt.BYTE;var Dt="function"==typeof WeakMap&&new WeakMap;function n(xe,we,Se){for(var Te=0;Te<we.length;Te+=1){var Ee=we[Te];(this||je)[Ee.name]=Ee.value}if((this||je).tableName=xe,(this||je).fields=we,Se)for(var Ye=Object.keys(Se),Ze=0;Ze<Ye.length;Ze+=1){var Qe=Ye[Ze],Ke=Se[Qe];void 0!==(this||je)[Qe]&&((this||je)[Qe]=Ke)}}function ce(je,xe,we){void 0===we&&(we=xe.length);var Se=new Array(xe.length+1);Se[0]={name:je+"Count",type:"USHORT",value:we};for(var Te=0;Te<xe.length;Te++)Se[Te+1]={name:je+Te,type:"USHORT",value:xe[Te]};return Se}function de(je,xe,we){var Se=xe.length,Te=new Array(Se+1);Te[0]={name:je+"Count",type:"USHORT",value:Se};for(var Ee=0;Ee<Se;Ee++)Te[Ee+1]={name:je+Ee,type:"TABLE",value:we(xe[Ee],Ee)};return Te}function he(je,xe,we){var Se=xe.length,Te=[];Te[0]={name:je+"Count",type:"USHORT",value:Se};for(var Ee=0;Ee<Se;Ee++)Te=Te.concat(we(xe[Ee],Ee));return Te}function fe(xe){1===xe.format?n.call(this||je,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ce("glyph",xe.glyphs))):ht.assert(!1,"Can't create coverage table format 2 yet.")}function pe(xe){n.call(this||je,"scriptListTable",he("scriptRecord",xe,(function(je,xe){var we=je.script,Se=we.defaultLangSys;return ht.assert(!!Se,"Unable to write GSUB: script "+je.tag+" has no default language system."),[{name:"scriptTag"+xe,type:"TAG",value:je.tag},{name:"script"+xe,type:"TABLE",value:new n("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new n("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Se.reqFeatureIndex}].concat(ce("featureIndex",Se.featureIndexes)))}].concat(he("langSys",we.langSysRecords,(function(je,xe){var we=je.langSys;return[{name:"langSysTag"+xe,type:"TAG",value:je.tag},{name:"langSys"+xe,type:"TABLE",value:new n("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:we.reqFeatureIndex}].concat(ce("featureIndex",we.featureIndexes)))}]}))))}]})))}function me(xe){n.call(this||je,"featureListTable",he("featureRecord",xe,(function(je,xe){var we=je.feature;return[{name:"featureTag"+xe,type:"TAG",value:je.tag},{name:"feature"+xe,type:"TABLE",value:new n("featureTable",[{name:"featureParams",type:"USHORT",value:we.featureParams}].concat(ce("lookupListIndex",we.lookupListIndexes)))}]})))}function ye(xe,we){n.call(this||je,"lookupListTable",de("lookup",xe,(function(je){var xe=we[je.lookupType];return ht.assert(!!xe,"Unable to write GSUB lookup type "+je.lookupType+" tables."),new n("lookupTable",[{name:"lookupType",type:"USHORT",value:je.lookupType},{name:"lookupFlag",type:"USHORT",value:je.lookupFlag}].concat(de("subtable",je.subtables,xe)))})))}pt.CHARSTRING=function(je){if(Dt){var xe=Dt.get(je);if(void 0!==xe)return xe}for(var we=[],Se=je.length,Te=0;Te<Se;Te+=1){var Ee=je[Te];we=we.concat(pt[Ee.type](Ee.value))}return Dt&&Dt.set(je,we),we},mt.CHARSTRING=function(je){return pt.CHARSTRING(je).length},pt.OBJECT=function(je){var xe=pt[je.type];return ht.argument(void 0!==xe,"No encoding function for type "+je.type),xe(je.value)},mt.OBJECT=function(je){var xe=mt[je.type];return ht.argument(void 0!==xe,"No sizeOf function for type "+je.type),xe(je.value)},pt.TABLE=function(je){for(var xe=[],we=je.fields.length,Se=[],Te=[],Ee=0;Ee<we;Ee+=1){var Ye=je.fields[Ee],Ze=pt[Ye.type],Qe=(ht.argument(void 0!==Ze,"No encoding function for field type "+Ye.type+" ("+Ye.name+")"),je[Ye.name]);Ze=Ze(Qe=void 0===Qe?Ye.value:Qe);"TABLE"===Ye.type?(Te.push(xe.length),xe=xe.concat([0,0]),Se.push(Ze)):xe=xe.concat(Ze)}for(var Ke=0;Ke<Se.length;Ke+=1){var Je=Te[Ke],$e=xe.length;ht.argument($e<65536,"Table "+je.tableName+" too big."),xe[Je]=$e>>8,xe[Je+1]=255&$e,xe=xe.concat(Se[Ke])}return xe},mt.TABLE=function(je){for(var xe=0,we=je.fields.length,Se=0;Se<we;Se+=1){var Te=je.fields[Se],Ee=mt[Te.type],Ye=(ht.argument(void 0!==Ee,"No sizeOf function for field type "+Te.type+" ("+Te.name+")"),je[Te.name]);xe+=Ee(Ye=void 0===Ye?Te.value:Ye),"TABLE"===Te.type&&(xe+=2)}return xe},pt.RECORD=pt.TABLE,mt.RECORD=mt.TABLE,pt.LITERAL=function(je){return je},mt.LITERAL=function(je){return je.length},n.prototype.encode=function(){return pt.TABLE(this||je)},n.prototype.sizeOf=function(){return mt.TABLE(this||je)};var Xt={Table:n,Record:n,Coverage:(fe.prototype=Object.create(n.prototype)).constructor=fe,ScriptList:(pe.prototype=Object.create(n.prototype)).constructor=pe,FeatureList:(me.prototype=Object.create(n.prototype)).constructor=me,LookupList:(ye.prototype=Object.create(n.prototype)).constructor=ye,ushortList:ce,tableList:de,recordList:he};function ge(je,xe){return je.getUint8(xe)}function ve(je,xe){return je.getUint16(xe,!1)}function be(je,xe){return je.getUint32(xe,!1)}function _e(je,xe){return je.getInt16(xe,!1)+je.getUint16(xe+2,!1)/65535}var Yt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function u(xe,we){(this||je).data=xe,(this||je).offset=we,(this||je).relativeOffset=0}u.prototype.parseByte=function(){var xe=(this||je).data.getUint8((this||je).offset+(this||je).relativeOffset);return(this||je).relativeOffset+=1,xe},u.prototype.parseChar=function(){var xe=(this||je).data.getInt8((this||je).offset+(this||je).relativeOffset);return(this||je).relativeOffset+=1,xe},u.prototype.parseCard8=u.prototype.parseByte,u.prototype.parseCard16=u.prototype.parseUShort=function(){var xe=(this||je).data.getUint16((this||je).offset+(this||je).relativeOffset);return(this||je).relativeOffset+=2,xe},u.prototype.parseSID=u.prototype.parseUShort,u.prototype.parseOffset16=u.prototype.parseUShort,u.prototype.parseShort=function(){var xe=(this||je).data.getInt16((this||je).offset+(this||je).relativeOffset);return(this||je).relativeOffset+=2,xe},u.prototype.parseF2Dot14=function(){var xe=(this||je).data.getInt16((this||je).offset+(this||je).relativeOffset)/16384;return(this||je).relativeOffset+=2,xe},u.prototype.parseOffset32=u.prototype.parseULong=function(){var xe=be((this||je).data,(this||je).offset+(this||je).relativeOffset);return(this||je).relativeOffset+=4,xe},u.prototype.parseFixed=function(){var xe=_e((this||je).data,(this||je).offset+(this||je).relativeOffset);return(this||je).relativeOffset+=4,xe},u.prototype.parseString=function(xe){var we=(this||je).data,Se=(this||je).offset+(this||je).relativeOffset,Te="";(this||je).relativeOffset+=xe;for(var Ee=0;Ee<xe;Ee++)Te+=String.fromCharCode(we.getUint8(Se+Ee));return Te},u.prototype.parseTag=function(){return this.parseString(4)},u.prototype.parseLongDateTime=function(){var xe=be((this||je).data,(this||je).offset+(this||je).relativeOffset+4);return xe-=2082844800,(this||je).relativeOffset+=8,xe},u.prototype.parseVersion=function(xe){var we=ve((this||je).data,(this||je).offset+(this||je).relativeOffset),Se=ve((this||je).data,(this||je).offset+(this||je).relativeOffset+2);return(this||je).relativeOffset+=4,we+Se/(xe=void 0===xe?4096:xe)/10},u.prototype.skip=function(xe,we){(this||je).relativeOffset+=Yt[xe]*(we=void 0===we?1:we)},u.prototype.parseULongList=function(xe){void 0===xe&&(xe=this.parseULong());for(var we=new Array(xe),Se=(this||je).data,Te=(this||je).offset+(this||je).relativeOffset,Ee=0;Ee<xe;Ee++)we[Ee]=Se.getUint32(Te),Te+=4;return(this||je).relativeOffset+=4*xe,we},u.prototype.parseOffset16List=u.prototype.parseUShortList=function(xe){void 0===xe&&(xe=this.parseUShort());for(var we=new Array(xe),Se=(this||je).data,Te=(this||je).offset+(this||je).relativeOffset,Ee=0;Ee<xe;Ee++)we[Ee]=Se.getUint16(Te),Te+=2;return(this||je).relativeOffset+=2*xe,we},u.prototype.parseShortList=function(xe){for(var we=new Array(xe),Se=(this||je).data,Te=(this||je).offset+(this||je).relativeOffset,Ee=0;Ee<xe;Ee++)we[Ee]=Se.getInt16(Te),Te+=2;return(this||je).relativeOffset+=2*xe,we},u.prototype.parseByteList=function(xe){for(var we=new Array(xe),Se=(this||je).data,Te=(this||je).offset+(this||je).relativeOffset,Ee=0;Ee<xe;Ee++)we[Ee]=Se.getUint8(Te++);return(this||je).relativeOffset+=xe,we},u.prototype.parseList=function(xe,we){we||(we=xe,xe=this.parseUShort());for(var Se=new Array(xe),Te=0;Te<xe;Te++)Se[Te]=we.call(this||je);return Se},u.prototype.parseList32=function(xe,we){we||(we=xe,xe=this.parseULong());for(var Se=new Array(xe),Te=0;Te<xe;Te++)Se[Te]=we.call(this||je);return Se},u.prototype.parseRecordList=function(xe,we){we||(we=xe,xe=this.parseUShort());for(var Se=new Array(xe),Te=Object.keys(we),Ee=0;Ee<xe;Ee++){for(var Ye={},Ze=0;Ze<Te.length;Ze++){var Qe=Te[Ze],Ke=we[Qe];Ye[Qe]=Ke.call(this||je)}Se[Ee]=Ye}return Se},u.prototype.parseRecordList32=function(xe,we){we||(we=xe,xe=this.parseULong());for(var Se=new Array(xe),Te=Object.keys(we),Ee=0;Ee<xe;Ee++){for(var Ye={},Ze=0;Ze<Te.length;Ze++){var Qe=Te[Ze],Ke=we[Qe];Ye[Qe]=Ke.call(this||je)}Se[Ee]=Ye}return Se},u.prototype.parseStruct=function(xe){if("function"==typeof xe)return xe.call(this||je);for(var we=Object.keys(xe),Se={},Te=0;Te<we.length;Te++){var Ee=we[Te],Ye=xe[Ee];Se[Ee]=Ye.call(this||je)}return Se},u.prototype.parseValueRecord=function(je){var xe;if(0!==(je=void 0===je?this.parseUShort():je))return xe={},1&je&&(xe.xPlacement=this.parseShort()),2&je&&(xe.yPlacement=this.parseShort()),4&je&&(xe.xAdvance=this.parseShort()),8&je&&(xe.yAdvance=this.parseShort()),16&je&&(xe.xPlaDevice=void 0,this.parseShort()),32&je&&(xe.yPlaDevice=void 0,this.parseShort()),64&je&&(xe.xAdvDevice=void 0,this.parseShort()),128&je&&(xe.yAdvDevice=void 0,this.parseShort()),xe},u.prototype.parseValueRecordList=function(){for(var je=this.parseUShort(),xe=this.parseUShort(),we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=this.parseValueRecord(je);return we},u.prototype.parsePointer=function(xe){var we=this.parseOffset16();if(0<we)return new u((this||je).data,(this||je).offset+we).parseStruct(xe)},u.prototype.parsePointer32=function(xe){var we=this.parseOffset32();if(0<we)return new u((this||je).data,(this||je).offset+we).parseStruct(xe)},u.prototype.parseListOfLists=function(xe){for(var we=this.parseOffset16List(),Se=we.length,Te=(this||je).relativeOffset,Ee=new Array(Se),Ye=0;Ye<Se;Ye++){var Ze=we[Ye];if(0===Ze)Ee[Ye]=void 0;else if((this||je).relativeOffset=Ze,xe){for(var Qe=this.parseOffset16List(),Ke=new Array(Qe.length),Je=0;Je<Qe.length;Je++)(this||je).relativeOffset=Ze+Qe[Je],Ke[Je]=xe.call(this||je);Ee[Ye]=Ke}else Ee[Ye]=this.parseUShortList()}return(this||je).relativeOffset=Te,Ee},u.prototype.parseCoverage=function(){var xe=(this||je).offset+(this||je).relativeOffset,we=this.parseUShort(),Se=this.parseUShort();if(1===we)return{format:1,glyphs:this.parseUShortList(Se)};if(2!==we)throw new Error("0x"+xe.toString(16)+": Coverage format must be 1 or 2.");for(var Te=new Array(Se),Ee=0;Ee<Se;Ee++)Te[Ee]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:Te}},u.prototype.parseClassDef=function(){var xe=(this||je).offset+(this||je).relativeOffset,we=this.parseUShort();if(1===we)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===we)return{format:2,ranges:this.parseRecordList({start:u.uShort,end:u.uShort,classId:u.uShort})};throw new Error("0x"+xe.toString(16)+": ClassDef format must be 1 or 2.")},u.list=function(je,xe){return function(){return this.parseList(je,xe)}},u.list32=function(je,xe){return function(){return this.parseList32(je,xe)}},u.recordList=function(je,xe){return function(){return this.parseRecordList(je,xe)}},u.recordList32=function(je,xe){return function(){return this.parseRecordList32(je,xe)}},u.pointer=function(je){return function(){return this.parsePointer(je)}},u.pointer32=function(je){return function(){return this.parsePointer32(je)}},u.tag=u.prototype.parseTag,u.byte=u.prototype.parseByte,u.uShort=u.offset16=u.prototype.parseUShort,u.uShortList=u.prototype.parseUShortList,u.uLong=u.offset32=u.prototype.parseULong,u.uLongList=u.prototype.parseULongList,u.struct=u.prototype.parseStruct,u.coverage=u.prototype.parseCoverage,u.classDef=u.prototype.parseClassDef;var br={reserved:u.uShort,reqFeatureIndex:u.uShort,featureIndexes:u.uShortList},_r=(u.prototype.parseScriptList=function(){return this.parsePointer(u.recordList({tag:u.tag,script:u.pointer({defaultLangSys:u.pointer(br),langSysRecords:u.recordList({tag:u.tag,langSys:u.pointer(br)})})}))||[]},u.prototype.parseFeatureList=function(){return this.parsePointer(u.recordList({tag:u.tag,feature:u.pointer({featureParams:u.offset16,lookupListIndexes:u.uShortList})}))||[]},u.prototype.parseLookupList=function(je){return this.parsePointer(u.list(u.pointer((function(){var xe=this.parseUShort(),we=(ht.argument(1<=xe&&xe<=9,"GPOS/GSUB lookup type "+xe+" unknown."),this.parseUShort()),Se=16&we;return{lookupType:xe,lookupFlag:we,subtables:this.parseList(u.pointer(je[xe])),markFilteringSet:Se?this.parseUShort():void 0}}))))||[]},u.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var je=this.parseUShort(),xe=this.parseUShort();return ht.argument(1===je&&xe<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:u.offset32,featureTableSubstitutionOffset:u.offset32})}))||[]},{getByte:ge,getCard8:ge,getUShort:ve,getCard16:ve,getShort:function(je,xe){return je.getInt16(xe,!1)},getULong:be,getFixed:_e,getTag:function(je,xe){for(var we="",Se=xe;Se<xe+4;Se+=1)we+=String.fromCharCode(je.getInt8(Se));return we},getOffset:function(je,xe,we){for(var Se=0,Te=0;Te<we;Te+=1)Se=(Se<<=8)+je.getUint8(xe+Te);return Se},getBytes:function(je,xe,we){for(var Se=[],Te=xe;Te<we;Te+=1)Se.push(je.getUint8(Te));return Se},bytesToString:function(je){for(var xe="",we=0;we<je.length;we+=1)xe+=String.fromCharCode(je[we]);return xe},Parser:u});var xr={parse:function(je,xe){for(var we={},Se=(we.version=_r.getUShort(je,xe),ht.argument(0===we.version,"cmap table version should be 0."),we.numTables=_r.getUShort(je,xe+2),-1),Te=we.numTables-1;0<=Te;--Te){var Ee=_r.getUShort(je,xe+4+8*Te),Ye=_r.getUShort(je,xe+4+8*Te+2);if(3===Ee&&(0===Ye||1===Ye||10===Ye)||0===Ee&&(0===Ye||1===Ye||2===Ye||3===Ye||4===Ye)){Se=_r.getULong(je,xe+4+8*Te+4);break}}if(-1===Se)throw new Error("No valid cmap sub-tables found.");var Ze=new _r.Parser(je,xe+Se);if(we.format=Ze.parseUShort(),12===we.format){var Qe,Ke=we,Je=Ze;Je.parseUShort(),Ke.length=Je.parseULong(),Ke.language=Je.parseULong(),Ke.groupCount=Qe=Je.parseULong(),Ke.glyphIndexMap={};for(var $e=0;$e<Qe;$e+=1)for(var et=Je.parseULong(),tt=Je.parseULong(),rt=Je.parseULong(),ot=et;ot<=tt;ot+=1)Ke.glyphIndexMap[ot]=rt,rt++}else{if(4!==we.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+we.format+").");var nt=we,st=je,it=xe,dt=Se;nt.length=Ze.parseUShort(),nt.language=Ze.parseUShort(),nt.segCount=ft=Ze.parseUShort()>>1,Ze.skip("uShort",3),nt.glyphIndexMap={};for(var ft,pt=new _r.Parser(st,it+dt+14),mt=new _r.Parser(st,it+dt+16+2*ft),yt=new _r.Parser(st,it+dt+16+4*ft),gt=new _r.Parser(st,it+dt+16+6*ft),wt=it+dt+16+8*ft,Dt=0;Dt<ft-1;Dt+=1)for(var Xt=void 0,Yt=pt.parseUShort(),br=mt.parseUShort(),xr=yt.parseShort(),wr=gt.parseUShort(),Sr=br;Sr<=Yt;Sr+=1)0!==wr?(wt=(wt=gt.offset+gt.relativeOffset-2)+wr+2*(Sr-br),0!==(Xt=_r.getUShort(st,wt))&&(Xt=Xt+xr&65535)):Xt=Sr+xr&65535,nt.glyphIndexMap[Sr]=Xt}return we},make:function(je){for(var xe=!0,we=je.length-1;0<we;--we)if(65535<je.get(we).unicode){console.log("Adding CMAP format 12 (needed!)"),xe=!1;break}var Se,Te,Ee=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:xe?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:xe?12:20}],Ye=(Ee=(Ee=xe?Ee:Ee.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Xt.Table("cmap",Ee));for(Ye.segments=[],we=0;we<je.length;we+=1){for(var Ze=je.get(we),Qe=0;Qe<Ze.unicodes.length;Qe+=1)Se=Ze.unicodes[Qe],Te=we,Ye.segments.push({end:Se,start:Se,delta:-(Se-Te),offset:0,glyphIndex:Te});Ye.segments=Ye.segments.sort((function(je,xe){return je.start-xe.start}))}Ye.segments.push({end:65535,start:65535,delta:1,offset:0});var Ke=Ye.segments.length,Je=0,$e=[],et=[],tt=[],rt=[],ot=[],nt=[];for(we=0;we<Ke;we+=1){var st=Ye.segments[we];st.end<=65535&&st.start<=65535?($e=$e.concat({name:"end_"+we,type:"USHORT",value:st.end}),et=et.concat({name:"start_"+we,type:"USHORT",value:st.start}),tt=tt.concat({name:"idDelta_"+we,type:"SHORT",value:st.delta}),rt=rt.concat({name:"idRangeOffset_"+we,type:"USHORT",value:st.offset}),void 0!==st.glyphId&&(ot=ot.concat({name:"glyph_"+we,type:"USHORT",value:st.glyphId}))):Je+=1,xe||void 0===st.glyphIndex||(nt=(nt=(nt=nt.concat({name:"cmap12Start_"+we,type:"ULONG",value:st.start})).concat({name:"cmap12End_"+we,type:"ULONG",value:st.end})).concat({name:"cmap12Glyph_"+we,type:"ULONG",value:st.glyphIndex}))}return Ye.segCountX2=2*(Ke-Je),Ye.searchRange=2*Math.pow(2,Math.floor(Math.log(Ke-Je)/Math.log(2))),Ye.entrySelector=Math.log(Ye.searchRange/2)/Math.log(2),Ye.rangeShift=Ye.segCountX2-Ye.searchRange,Ye.fields=Ye.fields.concat($e),Ye.fields.push({name:"reservedPad",type:"USHORT",value:0}),Ye.fields=Ye.fields.concat(et),Ye.fields=Ye.fields.concat(tt),Ye.fields=Ye.fields.concat(rt),Ye.fields=Ye.fields.concat(ot),Ye.cmap4Length=14+2*$e.length+2+2*et.length+2*tt.length+2*rt.length+2*ot.length,xe||(Ee=16+4*nt.length,Ye.cmap12Offset=20+Ye.cmap4Length,Ye.fields=Ye.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:Ee},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:nt.length/3}]),Ye.fields=Ye.fields.concat(nt)),Ye}},wr=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Sr=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Tr=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Er=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Me(xe){(this||je).font=xe}function ke(xe){(this||je).cmap=xe}function Ce(xe,we){(this||je).encoding=xe,(this||je).charset=we}function Oe(xe){switch(xe.version){case 1:(this||je).names=Er.slice();break;case 2:(this||je).names=new Array(xe.numberOfGlyphs);for(var we=0;we<xe.numberOfGlyphs;we++)xe.glyphNameIndex[we]<Er.length?(this||je).names[we]=Er[xe.glyphNameIndex[we]]:(this||je).names[we]=xe.names[xe.glyphNameIndex[we]-Er.length];break;case 2.5:(this||je).names=new Array(xe.numberOfGlyphs);for(var Se=0;Se<xe.numberOfGlyphs;Se++)(this||je).names[Se]=Er[Se+xe.glyphNameIndex[Se]];break;default:(this||je).names=[]}}Me.prototype.charToGlyphIndex=function(xe){var we=xe.codePointAt(0),Se=(this||je).font.glyphs;if(Se)for(var Te=0;Te<Se.length;Te+=1)for(var Ee=Se.get(Te),Ye=0;Ye<Ee.unicodes.length;Ye+=1)if(Ee.unicodes[Ye]===we)return Te;return null},ke.prototype.charToGlyphIndex=function(xe){return(this||je).cmap.glyphIndexMap[xe.codePointAt(0)]||0},Ce.prototype.charToGlyphIndex=function(xe){xe=xe.codePointAt(0),xe=(this||je).encoding[xe];return(this||je).charset.indexOf(xe)},Oe.prototype.nameToGlyphIndex=function(xe){return(this||je).names.indexOf(xe)},Oe.prototype.glyphIndexToName=function(xe){return(this||je).names[xe]};var Ar={line:function(je,xe,we,Se,Te){je.beginPath(),je.moveTo(xe,we),je.lineTo(Se,Te),je.stroke()}};function f(je){this.bindConstructorValues(je)}function Ae(je,xe,we){Object.defineProperty(je,xe,{get:function(){return je.path,je[we]},set:function(xe){je[we]=xe},enumerable:!0,configurable:!0})}function Pe(xe,we){if((this||je).font=xe,(this||je).glyphs={},Array.isArray(we))for(var Se=0;Se<we.length;Se++)(this||je).glyphs[Se]=we[Se];(this||je).length=we&&we.length||0}f.prototype.bindConstructorValues=function(xe){var we;(this||je).index=xe.index||0,(this||je).name=xe.name||null,(this||je).unicode=xe.unicode||void 0,(this||je).unicodes=xe.unicodes||void 0!==xe.unicode?[xe.unicode]:[],xe.xMin&&((this||je).xMin=xe.xMin),xe.yMin&&((this||je).yMin=xe.yMin),xe.xMax&&((this||je).xMax=xe.xMax),xe.yMax&&((this||je).yMax=xe.yMax),xe.advanceWidth&&((this||je).advanceWidth=xe.advanceWidth),Object.defineProperty(this||je,"path",(xe=xe.path,we=xe||new h,{configurable:!0,get:function(){return we="function"==typeof we?we():we},set:function(je){we=je}}))},f.prototype.addUnicode=function(xe){0===(this||je).unicodes.length&&((this||je).unicode=xe),(this||je).unicodes.push(xe)},f.prototype.getBoundingBox=function(){return(this||je).path.getBoundingBox()},f.prototype.getPath=function(xe,we,Se,Te,Ee){xe=void 0!==xe?xe:0,we=void 0!==we?we:0,Se=void 0!==Se?Se:72;for(var Ye,Ze,Qe=(Te=Te||{}).xScale,Ke=Te.yScale,Je=((Ye=Te.hinting&&Ee&&Ee.hinting?(this||je).path&&Ee.hinting.exec(this||je,Se):Ye)?(Ze=Ee.hinting.getCommands(Ye),xe=Math.round(xe),we=Math.round(we),Qe=Ke=1):(Ze=(this||je).path.commands,Te=1/(this||je).path.unitsPerEm*Se,void 0===Qe&&(Qe=Te),void 0===Ke&&(Ke=Te)),new h),$e=0;$e<Ze.length;$e+=1){var et=Ze[$e];"M"===et.type?Je.moveTo(xe+et.x*Qe,we+-et.y*Ke):"L"===et.type?Je.lineTo(xe+et.x*Qe,we+-et.y*Ke):"Q"===et.type?Je.quadraticCurveTo(xe+et.x1*Qe,we+-et.y1*Ke,xe+et.x*Qe,we+-et.y*Ke):"C"===et.type?Je.curveTo(xe+et.x1*Qe,we+-et.y1*Ke,xe+et.x2*Qe,we+-et.y2*Ke,xe+et.x*Qe,we+-et.y*Ke):"Z"===et.type&&Je.closePath()}return Je},f.prototype.getContours=function(){if(void 0===(this||je).points)return[];for(var xe=[],we=[],Se=0;Se<(this||je).points.length;Se+=1){var Te=(this||je).points[Se];we.push(Te),Te.lastPointOfContour&&(xe.push(we),we=[])}return ht.argument(0===we.length,"There are still points left in the current contour."),xe},f.prototype.getMetrics=function(){for(var xe=(this||je).path.commands,we=[],Se=[],Te=0;Te<xe.length;Te+=1){var Ee=xe[Te];"Z"!==Ee.type&&(we.push(Ee.x),Se.push(Ee.y)),"Q"!==Ee.type&&"C"!==Ee.type||(we.push(Ee.x1),Se.push(Ee.y1)),"C"===Ee.type&&(we.push(Ee.x2),Se.push(Ee.y2))}var Ye={xMin:Math.min.apply(null,we),yMin:Math.min.apply(null,Se),xMax:Math.max.apply(null,we),yMax:Math.max.apply(null,Se),leftSideBearing:(this||je).leftSideBearing};return isFinite(Ye.xMin)||(Ye.xMin=0),isFinite(Ye.xMax)||(Ye.xMax=(this||je).advanceWidth),isFinite(Ye.yMin)||(Ye.yMin=0),isFinite(Ye.yMax)||(Ye.yMax=0),Ye.rightSideBearing=(this||je).advanceWidth-Ye.leftSideBearing-(Ye.xMax-Ye.xMin),Ye},f.prototype.draw=function(je,xe,we,Se,Te){this.getPath(xe,we,Se,Te).draw(je)},f.prototype.drawPoints=function(xe,we,Se,Te){function o(je,we,Se,Te){var Ee=2*Math.PI;xe.beginPath();for(var Ye=0;Ye<je.length;Ye+=1)xe.moveTo(we+je[Ye].x*Te,Se+je[Ye].y*Te),xe.arc(we+je[Ye].x*Te,Se+je[Ye].y*Te,2,0,Ee,!1);xe.closePath(),xe.fill()}we=void 0!==we?we:0,Se=void 0!==Se?Se:0;Te=1/(this||je).path.unitsPerEm*(Te=void 0!==Te?Te:24);for(var Ee=[],Ye=[],Ze=(this||je).path,Qe=0;Qe<Ze.commands.length;Qe+=1){var Ke=Ze.commands[Qe];void 0!==Ke.x&&Ee.push({x:Ke.x,y:-Ke.y}),void 0!==Ke.x1&&Ye.push({x:Ke.x1,y:-Ke.y1}),void 0!==Ke.x2&&Ye.push({x:Ke.x2,y:-Ke.y2})}xe.fillStyle="blue",o(Ee,we,Se,Te),xe.fillStyle="red",o(Ye,we,Se,Te)},f.prototype.drawMetrics=function(xe,we,Se,Te){we=void 0!==we?we:0,Se=void 0!==Se?Se:0,Te=1/(this||je).path.unitsPerEm*(Te=void 0!==Te?Te:24),xe.lineWidth=1,xe.strokeStyle="black",Ar.line(xe,we,-1e4,we,1e4),Ar.line(xe,-1e4,Se,1e4,Se);var Ee=(this||je).xMin||0,Ye=(this||je).yMin||0,Ze=(this||je).xMax||0,Qe=(this||je).yMax||0,Ke=(this||je).advanceWidth||0;xe.strokeStyle="blue",Ar.line(xe,we+Ee*Te,-1e4,we+Ee*Te,1e4),Ar.line(xe,we+Ze*Te,-1e4,we+Ze*Te,1e4),Ar.line(xe,-1e4,Se+-Ye*Te,1e4,Se+-Ye*Te),Ar.line(xe,-1e4,Se+-Qe*Te,1e4,Se+-Qe*Te),xe.strokeStyle="green",Ar.line(xe,we+Ke*Te,-1e4,we+Ke*Te,1e4)},Pe.prototype.get=function(xe){return"function"==typeof(this||je).glyphs[xe]&&((this||je).glyphs[xe]=(this||je).glyphs[xe]()),(this||je).glyphs[xe]},Pe.prototype.push=function(xe,we){(this||je).glyphs[xe]=we,(this||je).length++};var Lr={GlyphSet:Pe,glyphLoader:function(je,xe){return new f({index:xe,font:je})},ttfGlyphLoader:function(je,xe,we,Se,Te,Ee){return function(){var Ye=new f({index:xe,font:je});return Ye.path=function(){we(Ye,Se,Te);var xe=Ee(je.glyphs,Ye);return xe.unitsPerEm=je.unitsPerEm,xe},Ae(Ye,"xMin","_xMin"),Ae(Ye,"xMax","_xMax"),Ae(Ye,"yMin","_yMin"),Ae(Ye,"yMax","_yMax"),Ye}},cffGlyphLoader:function(je,xe,we,Se){return function(){var Te=new f({index:xe,font:je});return Te.path=function(){var xe=we(je,Te,Se);return xe.unitsPerEm=je.unitsPerEm,xe},Te}}};function Le(je){je=je.length<1240?107:je.length<33900?1131:32768;return je}function y(je,xe,we){var Se,Te=[],Ee=[],Ye=_r.getCard16(je,xe);if(0!==Ye){for(var Ze=_r.getByte(je,xe+2),Qe=xe+(Ye+1)*Ze+2,Ke=xe+3,Je=0;Je<Ye+1;Je+=1)Te.push(_r.getOffset(je,Ke,Ze)),Ke+=Ze;Se=Qe+Te[Ye]}else Se=xe+2;for(var $e=0;$e<Te.length-1;$e+=1){var et=_r.getBytes(je,Qe+Te[$e],Qe+Te[$e+1]);we&&(et=we(et)),Ee.push(et)}return{objects:Ee,startOffset:xe,endOffset:Se}}function Re(je,xe){if(28===xe)return je.parseByte()<<8|je.parseByte();if(29===xe)return je.parseByte()<<24|je.parseByte()<<16|je.parseByte()<<8|je.parseByte();if(30===xe){for(var we=je,Se="",Te=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Ee=we.parseByte(),Ye=Ee>>4;Ee=15&Ee;if(15==Ye)break;if(Se+=Te[Ye],15==Ee)break;Se+=Te[Ee]}return parseFloat(Se)}if(32<=xe&&xe<=246)return xe-139;if(247<=xe&&xe<=250)return 256*(xe-247)+je.parseByte()+108;if(251<=xe&&xe<=254)return 256*-(xe-251)-je.parseByte()-108;throw new Error("Invalid b0 "+xe)}function Ie(je,xe,we){var Se=new _r.Parser(je,xe=void 0!==xe?xe:0),Te=[],Ee=[];for(we=void 0!==we?we:je.length;Se.relativeOffset<we;){var Ye=Se.parseByte();Ye<=21?(12===Ye&&(Ye=1200+Se.parseByte()),Te.push([Ye,Ee]),Ee=[]):Ee.push(Re(Se,Ye))}for(var Ze=Te,Qe={},Ke=0;Ke<Ze.length;Ke+=1){var Je=Ze[Ke][0],$e=Ze[Ke][1],et=void 0;et=1===$e.length?$e[0]:$e;if(Qe.hasOwnProperty(Je)&&!isNaN(Qe[Je]))throw new Error("Object "+Qe+" already has key "+Je);Qe[Je]=et}return Qe}function De(je,xe){return xe<=390?wr[xe]:je[xe-391]}function Fe(je,xe,we){for(var Se,Te={},Ee=0;Ee<xe.length;Ee+=1){var Ye=xe[Ee];if(Array.isArray(Ye.type)){var Ze=[];Ze.length=Ye.type.length;for(var Qe=0;Qe<Ye.type.length;Qe++)void 0===(Se=void 0!==je[Ye.op]?je[Ye.op][Qe]:void 0)&&(Se=void 0!==Ye.value&&void 0!==Ye.value[Qe]?Ye.value[Qe]:null),"SID"===Ye.type[Qe]&&(Se=De(we,Se)),Ze[Qe]=Se;Te[Ye.name]=Ze}else void 0===(Se=je[Ye.op])&&(Se=void 0!==Ye.value?Ye.value:null),"SID"===Ye.type&&(Se=De(we,Se)),Te[Ye.name]=Se}return Te}var Pr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Rr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Be(je,xe,we,Se){return Fe(Ie(je,xe,we),Rr,Se)}function Ge(je,xe,we,Se){for(var Te=[],Ee=0;Ee<we.length;Ee+=1){var Ye=new DataView(new Uint8Array(we[Ee]).buffer),Ze=(Ye=(Ze=Se,Fe(Ie(Ye,0,Ye.byteLength),Pr,Ze)),Ye._subrs=[],Ye._subrsBias=0,Ye.private[0]),Qe=Ye.private[1];0!==Ze&&0!==Qe&&(Ze=Be(je,Qe+xe,Ze,Se),Ye._defaultWidthX=Ze.defaultWidthX,Ye._nominalWidthX=Ze.nominalWidthX,0!==Ze.subrs&&(Qe=y(je,Qe+Ze.subrs+xe),Ye._subrs=Qe.objects,Ye._subrsBias=Le(Ye._subrs)),Ye._privateDict=Ze),Te.push(Ye)}return Te}function Ve(je,xe,we){var Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e,et=new h,tt=[],rt=0,ot=!1,nt=!1,st=0,it=0,dt=($e=(je.isCIDFont?(Ze=je.tables.cff.topDict._fdSelect[xe.index],Ze=je.tables.cff.topDict._fdArray[Ze],Qe=Ze._subrs,Ke=Ze._subrsBias,Je=Ze._defaultWidthX,Ze):(Qe=je.tables.cff.topDict._subrs,Ke=je.tables.cff.topDict._subrsBias,Je=je.tables.cff.topDict._defaultWidthX,je.tables.cff.topDict))._nominalWidthX,Je);function L(je,xe){nt&&et.closePath(),et.moveTo(je,xe),nt=!0}function R(){tt.length%2==0||ot||(dt=tt.shift()+$e),rt+=tt.length>>1,tt.length=0,ot=!0}return function e(we){for(var Ze,Je,ht,ft,pt,mt,yt,gt,wt,Dt,Xt,Yt,br=0;br<we.length;){var _r=we[br];switch(br+=1,_r){case 1:case 3:R();break;case 4:1<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),it+=tt.pop(),L(st,it);break;case 5:for(;0<tt.length;)st+=tt.shift(),it+=tt.shift(),et.lineTo(st,it);break;case 6:for(;0<tt.length&&(st+=tt.shift(),et.lineTo(st,it),0!==tt.length);)it+=tt.shift(),et.lineTo(st,it);break;case 7:for(;0<tt.length&&(it+=tt.shift(),et.lineTo(st,it),0!==tt.length);)st+=tt.shift(),et.lineTo(st,it);break;case 8:for(;0<tt.length;)Se=st+tt.shift(),Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee+tt.shift(),it=Ye+tt.shift(),et.curveTo(Se,Te,Ee,Ye,st,it);break;case 10:pt=tt.pop()+Ke,(mt=Qe[pt])&&e(mt);break;case 11:return;case 12:switch(_r=we[br],br+=1,_r){case 35:Se=st+tt.shift(),Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),yt=Ee+tt.shift(),gt=Ye+tt.shift(),wt=yt+tt.shift(),Dt=gt+tt.shift(),Xt=wt+tt.shift(),Yt=Dt+tt.shift(),st=Xt+tt.shift(),it=Yt+tt.shift(),tt.shift(),et.curveTo(Se,Te,Ee,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;case 34:Se=st+tt.shift(),Te=it,Ee=Se+tt.shift(),Ye=Te+tt.shift(),yt=Ee+tt.shift(),gt=Ye,wt=yt+tt.shift(),Dt=Ye,Xt=wt+tt.shift(),Yt=it,st=Xt+tt.shift(),et.curveTo(Se,Te,Ee,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;case 36:Se=st+tt.shift(),Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),yt=Ee+tt.shift(),gt=Ye,wt=yt+tt.shift(),Dt=Ye,Xt=wt+tt.shift(),Yt=Dt+tt.shift(),st=Xt+tt.shift(),et.curveTo(Se,Te,Ee,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;case 37:Se=st+tt.shift(),Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),yt=Ee+tt.shift(),gt=Ye+tt.shift(),wt=yt+tt.shift(),Dt=gt+tt.shift(),Xt=wt+tt.shift(),Yt=Dt+tt.shift(),Math.abs(Xt-st)>Math.abs(Yt-it)?st=Xt+tt.shift():it=Yt+tt.shift(),et.curveTo(Se,Te,Ee,Ye,yt,gt),et.curveTo(wt,Dt,Xt,Yt,st,it);break;default:console.log("Glyph "+xe.index+": unknown operator 1200"+_r),tt.length=0}break;case 14:0<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),nt&&(et.closePath(),nt=!1);break;case 18:R();break;case 19:case 20:R(),br+=rt+7>>3;break;case 21:2<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),it+=tt.pop(),L(st+=tt.pop(),it);break;case 22:1<tt.length&&!ot&&(dt=tt.shift()+$e,ot=!0),L(st+=tt.pop(),it);break;case 23:R();break;case 24:for(;2<tt.length;)Se=st+tt.shift(),Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee+tt.shift(),it=Ye+tt.shift(),et.curveTo(Se,Te,Ee,Ye,st,it);st+=tt.shift(),it+=tt.shift(),et.lineTo(st,it);break;case 25:for(;6<tt.length;)st+=tt.shift(),it+=tt.shift(),et.lineTo(st,it);Se=st+tt.shift(),Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee+tt.shift(),it=Ye+tt.shift(),et.curveTo(Se,Te,Ee,Ye,st,it);break;case 26:for(tt.length%2&&(st+=tt.shift());0<tt.length;)Se=st,Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee,it=Ye+tt.shift(),et.curveTo(Se,Te,Ee,Ye,st,it);break;case 27:for(tt.length%2&&(it+=tt.shift());0<tt.length;)Se=st+tt.shift(),Te=it,Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee+tt.shift(),it=Ye,et.curveTo(Se,Te,Ee,Ye,st,it);break;case 28:Ze=we[br],Je=we[br+1],tt.push((Ze<<24|Je<<16)>>16),br+=2;break;case 29:pt=tt.pop()+je.gsubrsBias,(mt=je.gsubrs[pt])&&e(mt);break;case 30:for(;0<tt.length&&(Se=st,Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee+tt.shift(),it=Ye+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Ee,Ye,st,it),0!==tt.length);)Se=st+tt.shift(),Te=it,Ee=Se+tt.shift(),Ye=Te+tt.shift(),it=Ye+tt.shift(),st=Ee+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Ee,Ye,st,it);break;case 31:for(;0<tt.length&&(Se=st+tt.shift(),Te=it,Ee=Se+tt.shift(),Ye=Te+tt.shift(),it=Ye+tt.shift(),st=Ee+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Ee,Ye,st,it),0!==tt.length);)Se=st,Te=it+tt.shift(),Ee=Se+tt.shift(),Ye=Te+tt.shift(),st=Ee+tt.shift(),it=Ye+(1===tt.length?tt.shift():0),et.curveTo(Se,Te,Ee,Ye,st,it);break;default:_r<32?console.log("Glyph "+xe.index+": unknown operator "+_r):_r<247?tt.push(_r-139):_r<251?(Ze=we[br],br+=1,tt.push(256*(_r-247)+Ze+108)):_r<255?(Ze=we[br],br+=1,tt.push(256*-(_r-251)-Ze-108)):(Ze=we[br],Je=we[br+1],ht=we[br+2],ft=we[br+3],br+=4,tt.push((Ze<<24|Je<<16|ht<<8|ft)/65536))}}}(we),xe.advanceWidth=dt,et}function ze(je,xe){var we,Se=wr.indexOf(je);return 0<=Se&&(we=Se),0<=(Se=xe.indexOf(je))?we=Se+wr.length:(we=wr.length+xe.length,xe.push(je)),we}function He(je,xe,we){for(var Se={},Te=0;Te<je.length;Te+=1){var Ee=je[Te],Ye=xe[Ee.name];void 0===Ye||function e(je,xe){if(je===xe)return 1;if(Array.isArray(je)&&Array.isArray(xe)&&je.length===xe.length){for(var we=0;we<je.length;we+=1)if(!e(je[we],xe[we]))return;return 1}}(Ye,Ee.value)||("SID"===Ee.type&&(Ye=ze(Ye,we)),Se[Ee.op]={name:Ee.name,type:Ee.type,value:Ye})}return Se}function We(je,xe){var we=new Xt.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return we.dict=He(Pr,je,xe),we}function qe(je){var xe=new Xt.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return xe.topDicts=[{name:"topDict_0",type:"TABLE",value:je}],xe}function Xe(je){for(var xe=new Xt.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),we=0;we<je.length;we+=1){var Se=je.get(we),Te=function(je){for(var xe=[],we=je.path,Se=(xe.push({name:"width",type:"NUMBER",value:je.advanceWidth}),0),Te=0,Ee=0;Ee<we.commands.length;Ee+=1){var Ye,Ze,Qe,Ke,Je=void 0,$e=void 0,et=we.commands[Ee];"M"===(et="Q"===et.type?{type:"C",x:et.x,y:et.y,x1:1/3*Se+2/3*et.x1,y1:1/3*Te+2/3*et.y1,x2:1/3*et.x+2/3*et.x1,y2:1/3*et.y+2/3*et.y1}:et).type?(Je=Math.round(et.x-Se),$e=Math.round(et.y-Te),xe.push({name:"dx",type:"NUMBER",value:Je}),xe.push({name:"dy",type:"NUMBER",value:$e}),xe.push({name:"rmoveto",type:"OP",value:21}),Se=Math.round(et.x),Te=Math.round(et.y)):"L"===et.type?(Je=Math.round(et.x-Se),$e=Math.round(et.y-Te),xe.push({name:"dx",type:"NUMBER",value:Je}),xe.push({name:"dy",type:"NUMBER",value:$e}),xe.push({name:"rlineto",type:"OP",value:5}),Se=Math.round(et.x),Te=Math.round(et.y)):"C"===et.type&&(Ye=Math.round(et.x1-Se),Ze=Math.round(et.y1-Te),Qe=Math.round(et.x2-et.x1),Ke=Math.round(et.y2-et.y1),Je=Math.round(et.x-et.x2),$e=Math.round(et.y-et.y2),xe.push({name:"dx1",type:"NUMBER",value:Ye}),xe.push({name:"dy1",type:"NUMBER",value:Ze}),xe.push({name:"dx2",type:"NUMBER",value:Qe}),xe.push({name:"dy2",type:"NUMBER",value:Ke}),xe.push({name:"dx",type:"NUMBER",value:Je}),xe.push({name:"dy",type:"NUMBER",value:$e}),xe.push({name:"rrcurveto",type:"OP",value:8}),Se=Math.round(et.x),Te=Math.round(et.y))}return xe.push({name:"endchar",type:"OP",value:14}),xe}(Se);xe.charStrings.push({name:Se.name,type:"CHARSTRING",value:Te})}return xe}var Ir={parse:function(je,xe,we){we.tables.cff={},Se=je,Te=xe,(Ee={}).formatMajor=_r.getCard8(Se,Te),Ee.formatMinor=_r.getCard8(Se,Te+1),Ee.size=_r.getCard8(Se,Te+2),Ee.offsetSize=_r.getCard8(Se,Te+3),Ee.startOffset=Te,Ee.endOffset=Te+4;var Se=y(je,Ee.endOffset,_r.bytesToString),Te=y(je,Se.endOffset),Ee=y(je,Te.endOffset,_r.bytesToString);Se=y(je,Ee.endOffset);if(we.gsubrs=Se.objects,we.gsubrsBias=Le(we.gsubrs),1!==(Se=Ge(je,xe,Te.objects,Ee.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Se.length);if(Te=Se[0],(we.tables.cff.topDict=Te)._privateDict&&(we.defaultWidthX=Te._privateDict.defaultWidthX,we.nominalWidthX=Te._privateDict.nominalWidthX),void 0!==Te.ros[0]&&void 0!==Te.ros[1]&&(we.isCIDFont=!0),we.isCIDFont){Se=Te.fdArray;var Ye=Te.fdSelect;if(0===Se||0===Ye)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Se=Ge(je,xe,y(je,Se+=xe).objects,Ee.objects);Te._fdArray=Se,Te._fdSelect=function(je,xe,we,Se){var Te,Ee=[],Ye=new _r.Parser(je,xe);if(0===(je=Ye.parseCard8()))for(var Ze=0;Ze<we;Ze++){if(Se<=(Te=Ye.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Te+" (FD count "+Se+")");Ee.push(Te)}else{if(3!==je)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+je);var Qe,Ke=Ye.parseCard16(),Je=Ye.parseCard16();if(0!==Je)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Je);for(var $e=0;$e<Ke;$e++){if(Te=Ye.parseCard8(),Qe=Ye.parseCard16(),Se<=Te)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Te+" (FD count "+Se+")");if(we<Qe)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+Qe);for(;Je<Qe;Je++)Ee.push(Te);Je=Qe}if(Qe!==we)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+Qe)}return Ee}(je,Ye+=xe,we.numGlyphs,Se.length)}Ye=xe+Te.private[1],Se=Be(je,Ye,Te.private[0],Ee.objects);var Ze=(we.defaultWidthX=Se.defaultWidthX,we.nominalWidthX=Se.nominalWidthX,0!==Se.subrs?(Ye=y(je,Ye+Se.subrs),we.subrs=Ye.objects,we.subrsBias=Le(we.subrs)):(we.subrs=[],we.subrsBias=0),y(je,xe+Te.charStrings));Se=(we.nGlyphs=Ze.objects.length,function(je,xe,we,Se){var Te=new _r.Parser(je,xe),Ee=(--we,[".notdef"]);if(0===(je=Te.parseCard8()))for(var Ye=0;Ye<we;Ye+=1)Ze=Te.parseSID(),Ee.push(De(Se,Ze));else if(1===je)for(;Ee.length<=we;)for(var Ze=Te.parseSID(),Qe=Te.parseCard8(),Ke=0;Ke<=Qe;Ke+=1)Ee.push(De(Se,Ze)),Ze+=1;else{if(2!==je)throw new Error("Unknown charset format "+je);for(;Ee.length<=we;){Ze=Te.parseSID(),Qe=Te.parseCard16();for(var Je=0;Je<=Qe;Je+=1)Ee.push(De(Se,Ze)),Ze+=1}}return Ee}(je,xe+Te.charset,we.nGlyphs,Ee.objects));0===Te.encoding?we.cffEncoding=new Ce(Sr,Se):1===Te.encoding?we.cffEncoding=new Ce(Tr,Se):we.cffEncoding=function(je,xe,we){var Se={},Te=new _r.Parser(je,xe);if(0===(je=Te.parseCard8()))for(var Ee=Te.parseCard8(),Ye=0;Ye<Ee;Ye+=1)Se[Qe=Te.parseCard8()]=Ye;else{if(1!==je)throw new Error("Unknown encoding format "+je);for(var Ze=Te.parseCard8(),Qe=1,Ke=0;Ke<Ze;Ke+=1)for(var Je=Te.parseCard8(),$e=Te.parseCard8(),et=Je;et<=Je+$e;et+=1)Se[et]=Qe,Qe+=1}return new Ce(Se,we)}(je,xe+Te.encoding,Se),we.encoding=we.encoding||we.cffEncoding,we.glyphs=new Lr.GlyphSet(we);for(var Qe=0;Qe<we.nGlyphs;Qe+=1){var Ke=Ze.objects[Qe];we.glyphs.push(Qe,Lr.cffGlyphLoader(we,Qe,Ve,Ke))}},make:function(je,xe){for(var we,Se=new Xt.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Te=1/xe.unitsPerEm,Ee=(Te={version:xe.version,fullName:xe.fullName,familyName:xe.familyName,weight:xe.weightName,fontBBox:xe.fontBBox||[0,0,0,0],fontMatrix:[Te,0,0,Te,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),Ye=1;Ye<je.length;Ye+=1)we=je.get(Ye),Ee.push(we.name);var Ze,Qe,Ke=[],Je=(xe=(Se.header=new Xt.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),Se.nameIndex=function(je){var xe=new Xt.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);xe.names=[];for(var we=0;we<je.length;we+=1)xe.names.push({name:"name_"+we,type:"NAME",value:je[we]});return xe}([xe.postScriptName]),We(Te,Ke)),Se.topDictIndex=qe(xe),Se.globalSubrIndex=new Xt.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),Se.charsets=function(je,xe){for(var we=new Xt.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Se=0;Se<je.length;Se+=1){var Te=ze(je[Se],xe);we.fields.push({name:"glyph_"+Se,type:"SID",value:Te})}return we}(Ee,Ke),Se.charStringsIndex=Xe(je),Se.privateDict=(Je={},Ze=Ke,(Qe=new Xt.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=He(Rr,Je,Ze),Qe),Se.stringIndex=function(je){var xe=new Xt.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);xe.strings=[];for(var we=0;we<je.length;we+=1)xe.strings.push({name:"string_"+we,type:"STRING",value:je[we]});return xe}(Ke),Se.header.sizeOf()+Se.nameIndex.sizeOf()+Se.topDictIndex.sizeOf()+Se.stringIndex.sizeOf()+Se.globalSubrIndex.sizeOf());return Te.charset=Je,Te.encoding=0,Te.charStrings=Te.charset+Se.charsets.sizeOf(),Te.private[1]=Te.charStrings+Se.charStringsIndex.sizeOf(),xe=We(Te,Ke),Se.topDictIndex=qe(xe),Se}};var Dr={parse:function(je,xe){var we={};je=new _r.Parser(je,xe);return we.version=je.parseVersion(),we.fontRevision=Math.round(1e3*je.parseFixed())/1e3,we.checkSumAdjustment=je.parseULong(),we.magicNumber=je.parseULong(),ht.argument(1594834165===we.magicNumber,"Font header has wrong magic number."),we.flags=je.parseUShort(),we.unitsPerEm=je.parseUShort(),we.created=je.parseLongDateTime(),we.modified=je.parseLongDateTime(),we.xMin=je.parseShort(),we.yMin=je.parseShort(),we.xMax=je.parseShort(),we.yMax=je.parseShort(),we.macStyle=je.parseUShort(),we.lowestRecPPEM=je.parseUShort(),we.fontDirectionHint=je.parseShort(),we.indexToLocFormat=je.parseShort(),we.glyphDataFormat=je.parseShort(),we},make:function(je){var xe=Math.round((new Date).getTime()/1e3)+2082844800,we=xe;return je.createdTimestamp&&(we=je.createdTimestamp+2082844800),new Xt.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:we},{name:"modified",type:"LONGDATETIME",value:xe},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],je)}};var Fr={parse:function(je,xe){var we={};je=new _r.Parser(je,xe);return we.version=je.parseVersion(),we.ascender=je.parseShort(),we.descender=je.parseShort(),we.lineGap=je.parseShort(),we.advanceWidthMax=je.parseUShort(),we.minLeftSideBearing=je.parseShort(),we.minRightSideBearing=je.parseShort(),we.xMaxExtent=je.parseShort(),we.caretSlopeRise=je.parseShort(),we.caretSlopeRun=je.parseShort(),we.caretOffset=je.parseShort(),je.relativeOffset+=8,we.metricDataFormat=je.parseShort(),we.numberOfHMetrics=je.parseUShort(),we},make:function(je){return new Xt.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],je)}};var Ur={parse:function(je,xe,we,Se,Te){for(var Ee,Ye,Ze=new _r.Parser(je,xe),Qe=0;Qe<Se;Qe+=1){Qe<we&&(Ee=Ze.parseUShort(),Ye=Ze.parseShort());var Ke=Te.get(Qe);Ke.advanceWidth=Ee,Ke.leftSideBearing=Ye}},make:function(je){for(var xe=new Xt.Table("hmtx",[]),we=0;we<je.length;we+=1){var Se=je.get(we),Te=Se.advanceWidth||0;Se=Se.leftSideBearing||0;xe.fields.push({name:"advanceWidth_"+we,type:"USHORT",value:Te}),xe.fields.push({name:"leftSideBearing_"+we,type:"SHORT",value:Se})}return xe}};var Nr={make:function(je){for(var xe=new Xt.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:je.length}]),we="",Se=12+4*je.length,Te=0;Te<je.length;++Te){var Ee=we.indexOf(je[Te]);Ee<0&&(Ee=we.length,we+=je[Te]),xe.fields.push({name:"offset "+Te,type:"USHORT",value:Se+Ee}),xe.fields.push({name:"length "+Te,type:"USHORT",value:je[Te].length})}return xe.fields.push({name:"stringPool",type:"CHARARRAY",value:we}),xe},parse:function(je,xe){for(var we=new _r.Parser(je,xe),Se=we.parseULong(),Te=(ht.argument(1===Se,"Unsupported ltag table version."),we.skip("uLong",1),we.parseULong()),Ee=[],Ye=0;Ye<Te;Ye++){for(var Ze="",Qe=xe+we.parseUShort(),Ke=we.parseUShort(),Je=Qe;Je<Qe+Ke;++Je)Ze+=String.fromCharCode(je.getInt8(Je));Ee.push(Ze)}return Ee}};var Br={parse:function(je,xe){var we={};je=new _r.Parser(je,xe);return we.version=je.parseVersion(),we.numGlyphs=je.parseUShort(),1===we.version&&(we.maxPoints=je.parseUShort(),we.maxContours=je.parseUShort(),we.maxCompositePoints=je.parseUShort(),we.maxCompositeContours=je.parseUShort(),we.maxZones=je.parseUShort(),we.maxTwilightPoints=je.parseUShort(),we.maxStorage=je.parseUShort(),we.maxFunctionDefs=je.parseUShort(),we.maxInstructionDefs=je.parseUShort(),we.maxStackElements=je.parseUShort(),we.maxSizeOfInstructions=je.parseUShort(),we.maxComponentElements=je.parseUShort(),we.maxComponentDepth=je.parseUShort()),we},make:function(je){return new Xt.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:je}])}},Gr=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Vr={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},zr={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Hr={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};var Wr="utf-16",qr={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Xr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function at(je,xe,we){switch(je){case 0:return Wr;case 1:return Xr[we]||qr[xe];case 3:if(1===xe||10===xe)return Wr}}function lt(je){var xe,we={};for(xe in je)we[je[xe]]=parseInt(xe);return we}function ut(je,xe,we,Se,Te,Ee){return new Xt.Record("NameRecord",[{name:"platformID",type:"USHORT",value:je},{name:"encodingID",type:"USHORT",value:xe},{name:"languageID",type:"USHORT",value:we},{name:"nameID",type:"USHORT",value:Se},{name:"length",type:"USHORT",value:Te},{name:"offset",type:"USHORT",value:Ee}])}function ct(je,xe){if((we=function(je,xe){var we=je.length,Se=xe.length-we+1;e:for(var Te=0;Te<Se;Te++)for(;Te<Se;Te++){for(var Ee=0;Ee<we;Ee++)if(xe[Te+Ee]!==je[Ee])continue e;return Te}return-1}(je,xe))<0)for(var we=xe.length,Se=0,Te=je.length;Se<Te;++Se)xe.push(je[Se]);return we}var Yr={parse:function(je,xe,we){for(var Se={},Te=new _r.Parser(je,xe),Ee=(xe=Te.parseUShort(),Te.parseUShort()),Ye=Te.offset+Te.parseUShort(),Ze=0;Ze<Ee;Ze++){var Qe=Te.parseUShort(),Ke=Te.parseUShort(),Je=Te.parseUShort(),$e=Te.parseUShort(),et=($e=Gr[$e]||$e,Te.parseUShort()),tt=Te.parseUShort(),rt=function(je,xe,we){switch(je){case 0:if(65535===xe)return"und";if(we)return we[xe];break;case 1:return Vr[xe];case 3:return Hr[xe]}}(Qe,Je,we);Qe=at(Qe,Ke,Je);void 0!==Qe&&void 0!==rt&&(Ke=void 0,(Ke=Qe===Wr?ft.UTF16(je,Ye+tt,et):ft.MACSTRING(je,Ye+tt,et,Qe))&&((Je=void 0===(Je=Se[$e])?Se[$e]={}:Je)[rt]=Ke))}return 1===xe&&Te.parseUShort(),Se},make:function(je,xe){var we,Se=[],Te={},Ee=lt(Gr);for(we in je){var Ye=Ee[we];if(void 0===Ye&&(Ye=we),et=parseInt(Ye),isNaN(et))throw new Error('Name table entry "'+we+'" does not exist, see nameTableNames for complete list.');Te[et]=je[we],Se.push(et)}for(var Ze=lt(Vr),Qe=lt(Hr),Ke=[],Je=[],$e=0;$e<Se.length;$e++){var et,tt,rt=Te[et=Se[$e]];for(tt in rt){var ot=rt[tt],nt=1,st=Ze[tt],it=zr[st],dt=at(nt,it,st),ht=(dt=pt.MACSTRING(ot,dt),void 0===dt&&(nt=0,(st=xe.indexOf(tt))<0&&(st=xe.length,xe.push(tt)),it=4,dt=pt.UTF16(ot)),ct(dt,Je));nt=(Ke.push(ut(nt,it,st,et,dt.length,ht)),Qe[tt]);void 0!==nt&&(st=ct(it=pt.UTF16(ot),Je),Ke.push(ut(3,1,nt,et,it.length,st)))}}Ke.sort((function(je,xe){return je.platformID-xe.platformID||je.encodingID-xe.encodingID||je.languageID-xe.languageID||je.nameID-xe.nameID}));for(var ft=new Xt.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ke.length},{name:"stringOffset",type:"USHORT",value:6+12*Ke.length}]),mt=0;mt<Ke.length;mt++)ft.fields.push({name:"record_"+mt,type:"RECORD",value:Ke[mt]});return ft.fields.push({name:"strings",type:"LITERAL",value:Je}),ft}},Zr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var Qr={parse:function(je,xe){var we={},Se=new _r.Parser(je,xe);we.version=Se.parseUShort(),we.xAvgCharWidth=Se.parseShort(),we.usWeightClass=Se.parseUShort(),we.usWidthClass=Se.parseUShort(),we.fsType=Se.parseUShort(),we.ySubscriptXSize=Se.parseShort(),we.ySubscriptYSize=Se.parseShort(),we.ySubscriptXOffset=Se.parseShort(),we.ySubscriptYOffset=Se.parseShort(),we.ySuperscriptXSize=Se.parseShort(),we.ySuperscriptYSize=Se.parseShort(),we.ySuperscriptXOffset=Se.parseShort(),we.ySuperscriptYOffset=Se.parseShort(),we.yStrikeoutSize=Se.parseShort(),we.yStrikeoutPosition=Se.parseShort(),we.sFamilyClass=Se.parseShort(),we.panose=[];for(var Te=0;Te<10;Te++)we.panose[Te]=Se.parseByte();return we.ulUnicodeRange1=Se.parseULong(),we.ulUnicodeRange2=Se.parseULong(),we.ulUnicodeRange3=Se.parseULong(),we.ulUnicodeRange4=Se.parseULong(),we.achVendID=String.fromCharCode(Se.parseByte(),Se.parseByte(),Se.parseByte(),Se.parseByte()),we.fsSelection=Se.parseUShort(),we.usFirstCharIndex=Se.parseUShort(),we.usLastCharIndex=Se.parseUShort(),we.sTypoAscender=Se.parseShort(),we.sTypoDescender=Se.parseShort(),we.sTypoLineGap=Se.parseShort(),we.usWinAscent=Se.parseUShort(),we.usWinDescent=Se.parseUShort(),1<=we.version&&(we.ulCodePageRange1=Se.parseULong(),we.ulCodePageRange2=Se.parseULong()),2<=we.version&&(we.sxHeight=Se.parseShort(),we.sCapHeight=Se.parseShort(),we.usDefaultChar=Se.parseUShort(),we.usBreakChar=Se.parseUShort(),we.usMaxContent=Se.parseUShort()),we},make:function(je){return new Xt.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],je)},unicodeRanges:Zr,getUnicodeRange:function(je){for(var xe=0;xe<Zr.length;xe+=1){var we=Zr[xe];if(je>=we.begin&&je<we.end)return xe}return-1}};var Kr={parse:function(je,xe){var we={},Se=new _r.Parser(je,xe);switch(we.version=Se.parseVersion(),we.italicAngle=Se.parseFixed(),we.underlinePosition=Se.parseShort(),we.underlineThickness=Se.parseShort(),we.isFixedPitch=Se.parseULong(),we.minMemType42=Se.parseULong(),we.maxMemType42=Se.parseULong(),we.minMemType1=Se.parseULong(),we.maxMemType1=Se.parseULong(),we.version){case 1:we.names=Er.slice();break;case 2:we.numberOfGlyphs=Se.parseUShort(),we.glyphNameIndex=new Array(we.numberOfGlyphs);for(var Te=0;Te<we.numberOfGlyphs;Te++)we.glyphNameIndex[Te]=Se.parseUShort();we.names=[];for(var Ee,Ye=0;Ye<we.numberOfGlyphs;Ye++)we.glyphNameIndex[Ye]>=Er.length&&(Ee=Se.parseChar(),we.names.push(Se.parseString(Ee)));break;case 2.5:we.numberOfGlyphs=Se.parseUShort(),we.offset=new Array(we.numberOfGlyphs);for(var Ze=0;Ze<we.numberOfGlyphs;Ze++)we.offset[Ze]=Se.parseChar()}return we},make:function(){return new Xt.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Jr=new Array(9),$r=(Jr[1]=function(){var xe=(this||je).offset+(this||je).relativeOffset,we=this.parseUShort();return 1===we?{substFormat:1,coverage:this.parsePointer(u.coverage),deltaGlyphId:this.parseUShort()}:2===we?{substFormat:2,coverage:this.parsePointer(u.coverage),substitute:this.parseOffset16List()}:void ht.assert(!1,"0x"+xe.toString(16)+": lookup type 1 format must be 1 or 2.")},Jr[2]=function(){var je=this.parseUShort();return ht.argument(1===je,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:je,coverage:this.parsePointer(u.coverage),sequences:this.parseListOfLists()}},Jr[3]=function(){var je=this.parseUShort();return ht.argument(1===je,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:je,coverage:this.parsePointer(u.coverage),alternateSets:this.parseListOfLists()}},Jr[4]=function(){var je=this.parseUShort();return ht.argument(1===je,"GSUB ligature table identifier-format must be 1"),{substFormat:je,coverage:this.parsePointer(u.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}},{sequenceIndex:u.uShort,lookupListIndex:u.uShort});Jr[5]=function(){var xe,we,Se=(this||je).offset+(this||je).relativeOffset,Te=this.parseUShort();return 1===Te?{substFormat:Te,coverage:this.parsePointer(u.coverage),ruleSets:this.parseListOfLists((function(){var je=this.parseUShort(),xe=this.parseUShort();return{input:this.parseUShortList(je-1),lookupRecords:this.parseRecordList(xe,$r)}}))}:2===Te?{substFormat:Te,coverage:this.parsePointer(u.coverage),classDef:this.parsePointer(u.classDef),classSets:this.parseListOfLists((function(){var je=this.parseUShort(),xe=this.parseUShort();return{classes:this.parseUShortList(je-1),lookupRecords:this.parseRecordList(xe,$r)}}))}:3===Te?(xe=this.parseUShort(),we=this.parseUShort(),{substFormat:Te,coverages:this.parseList(xe,u.pointer(u.coverage)),lookupRecords:this.parseRecordList(we,$r)}):void ht.assert(!1,"0x"+Se.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Jr[6]=function(){var xe=(this||je).offset+(this||je).relativeOffset,we=this.parseUShort();return 1===we?{substFormat:1,coverage:this.parsePointer(u.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($r)}}))}:2===we?{substFormat:2,coverage:this.parsePointer(u.coverage),backtrackClassDef:this.parsePointer(u.classDef),inputClassDef:this.parsePointer(u.classDef),lookaheadClassDef:this.parsePointer(u.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList($r)}}))}:3===we?{substFormat:3,backtrackCoverage:this.parseList(u.pointer(u.coverage)),inputCoverage:this.parseList(u.pointer(u.coverage)),lookaheadCoverage:this.parseList(u.pointer(u.coverage)),lookupRecords:this.parseRecordList($r)}:void ht.assert(!1,"0x"+xe.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Jr[7]=function(){var xe=this.parseUShort(),we=(xe=(ht.argument(1===xe,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new u((this||je).data,(this||je).offset+this.parseULong()));return{substFormat:1,lookupType:xe,extension:Jr[xe].call(we)}},Jr[8]=function(){var je=this.parseUShort();return ht.argument(1===je,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:je,coverage:this.parsePointer(u.coverage),backtrackCoverage:this.parseList(u.pointer(u.coverage)),lookaheadCoverage:this.parseList(u.pointer(u.coverage)),substitutes:this.parseUShortList()}};var eo=new Array(9);eo[1]=function(je){return 1===je.substFormat?new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xt.Coverage(je.coverage)},{name:"deltaGlyphID",type:"USHORT",value:je.deltaGlyphId}]):new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Xt.Coverage(je.coverage)}].concat(Xt.ushortList("substitute",je.substitute)))},eo[3]=function(je){return ht.assert(1===je.substFormat,"Lookup type 3 substFormat must be 1."),new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xt.Coverage(je.coverage)}].concat(Xt.tableList("altSet",je.alternateSets,(function(je){return new Xt.Table("alternateSetTable",Xt.ushortList("alternate",je))}))))},eo[4]=function(je){return ht.assert(1===je.substFormat,"Lookup type 4 substFormat must be 1."),new Xt.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Xt.Coverage(je.coverage)}].concat(Xt.tableList("ligSet",je.ligatureSets,(function(je){return new Xt.Table("ligatureSetTable",Xt.tableList("ligature",je,(function(je){return new Xt.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:je.ligGlyph}].concat(Xt.ushortList("component",je.components,je.components.length+1)))})))}))))};var to={parse:function(je,xe){return xe=(je=new u(je,xe=xe||0)).parseVersion(1),ht.argument(1===xe||1.1===xe,"Unsupported GSUB table version."),1===xe?{version:xe,scripts:je.parseScriptList(),features:je.parseFeatureList(),lookups:je.parseLookupList(Jr)}:{version:xe,scripts:je.parseScriptList(),features:je.parseFeatureList(),lookups:je.parseLookupList(Jr),variations:je.parseFeatureVariationsList()}},make:function(je){return new Xt.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Xt.ScriptList(je.scripts)},{name:"features",type:"TABLE",value:new Xt.FeatureList(je.features)},{name:"lookups",type:"TABLE",value:new Xt.LookupList(je.lookups,eo)}])}};var ro={parse:function(je,xe){for(var we=new _r.Parser(je,xe),Se=we.parseULong(),Te=(ht.argument(1===Se,"Unsupported META table version."),we.parseULong(),we.parseULong(),we.parseULong()),Ee={},Ye=0;Ye<Te;Ye++){var Ze=we.parseTag(),Qe=we.parseULong(),Ke=we.parseULong();Qe=ft.UTF8(je,xe+Qe,Ke);Ee[Ze]=Qe}return Ee},make:function(je){var xe,we=Object.keys(je).length,Se="",Te=16+12*we,Ee=new Xt.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Te},{name:"numTags",type:"ULONG",value:we}]);for(xe in je){var Ye=Se.length;Se+=je[xe],Ee.fields.push({name:"tag "+xe,type:"TAG",value:xe}),Ee.fields.push({name:"offset "+xe,type:"ULONG",value:Te+Ye}),Ee.fields.push({name:"length "+xe,type:"ULONG",value:je[xe].length})}return Ee.fields.push({name:"stringPool",type:"CHARARRAY",value:Se}),Ee}};function vt(je){return Math.log(je)/Math.log(2)|0}function bt(je){for(;je.length%4!=0;)je.push(0);for(var xe=0,we=0;we<je.length;we+=4)xe+=(je[we]<<24)+(je[we+1]<<16)+(je[we+2]<<8)+je[we+3];return xe%Math.pow(2,32)}function _t(je,xe,we,Se){return new Xt.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==je?je:""},{name:"checkSum",type:"ULONG",value:void 0!==xe?xe:0},{name:"offset",type:"ULONG",value:void 0!==we?we:0},{name:"length",type:"ULONG",value:void 0!==Se?Se:0}])}function jt(je){for(var xe=new Xt.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),we=(xe.tables=je,xe.numTables=je.length,Math.pow(2,vt(xe.numTables))),Se=(xe.searchRange=16*we,xe.entrySelector=vt(we),xe.rangeShift=16*xe.numTables-xe.searchRange,[]),Te=[],Ee=xe.sizeOf()+_t().sizeOf()*xe.numTables;Ee%4!=0;)Ee+=1,Te.push({name:"padding",type:"BYTE",value:0});for(var Ye=0;Ye<je.length;Ye+=1){var Ze=je[Ye],Qe=(ht.argument(4===Ze.tableName.length,"Table name"+Ze.tableName+" is invalid."),Ze.sizeOf()),Ke=_t(Ze.tableName,bt(Ze.encode()),Ee,Qe);for(Se.push({name:Ke.tag+" Table Record",type:"RECORD",value:Ke}),Te.push({name:Ze.tableName+" table",type:"RECORD",value:Ze}),Ee+=Qe,ht.argument(!isNaN(Ee),"Something went wrong calculating the offset.");Ee%4!=0;)Ee+=1,Te.push({name:"padding",type:"BYTE",value:0})}return Se.sort((function(je,xe){return je.value.tag>xe.value.tag?1:-1})),xe.fields=xe.fields.concat(Se),xe.fields=xe.fields.concat(Te),xe}function xt(je,xe,we){for(var Se=0;Se<xe.length;Se+=1){var Te=je.charToGlyphIndex(xe[Se]);if(0<Te)return je.glyphs.get(Te).getMetrics()}return we}var oo={make:jt,fontToTable:function(je){for(var xe,we=[],Se=[],Te=[],Ee=[],Ye=[],Ze=[],Qe=[],Ke=0,Je=0,$e=0,et=0,tt=0,rt=0;rt<je.glyphs.length;rt+=1){var ot=je.glyphs.get(rt),nt=0|ot.unicode;if(isNaN(ot.advanceWidth))throw new Error("Glyph "+ot.name+" ("+rt+"): advanceWidth is not a number.");(nt<xe||void 0===xe)&&0<nt&&(xe=nt),Ke<nt&&(Ke=nt);nt=Qr.getUnicodeRange(nt);if(nt<32)Je|=1<<nt;else if(nt<64)$e|=1<<nt-32;else if(nt<96)et|=1<<nt-64;else{if(!(nt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");tt|=1<<nt-96}".notdef"!==ot.name&&(nt=ot.getMetrics(),we.push(nt.xMin),Se.push(nt.yMin),Te.push(nt.xMax),Ee.push(nt.yMax),Ze.push(nt.leftSideBearing),Qe.push(nt.rightSideBearing),Ye.push(ot.advanceWidth))}var st,it={xMin:Math.min.apply(null,we),yMin:Math.min.apply(null,Se),xMax:Math.max.apply(null,Te),yMax:Math.max.apply(null,Ee),advanceWidthMax:Math.max.apply(null,Ye),advanceWidthAvg:function(je){for(var xe=0,we=0;we<je.length;we+=1)xe+=je[we];return xe/je.length}(Ye),minLeftSideBearing:Math.min.apply(null,Ze),maxLeftSideBearing:Math.max.apply(null,Ze),minRightSideBearing:Math.min.apply(null,Qe)},dt=(it.ascender=je.ascender,it.descender=je.descender,Dr.make({flags:3,unitsPerEm:je.unitsPerEm,xMin:it.xMin,yMin:it.yMin,xMax:it.xMax,yMax:it.yMax,lowestRecPPEM:3,createdTimestamp:je.createdTimestamp})),ht=Fr.make({ascender:it.ascender,descender:it.descender,advanceWidthMax:it.advanceWidthMax,minLeftSideBearing:it.minLeftSideBearing,minRightSideBearing:it.minRightSideBearing,xMaxExtent:it.maxLeftSideBearing+(it.xMax-it.xMin),numberOfHMetrics:je.glyphs.length}),ft=Br.make(je.glyphs.length),pt=Qr.make({xAvgCharWidth:Math.round(it.advanceWidthAvg),usWeightClass:je.tables.os2.usWeightClass,usWidthClass:je.tables.os2.usWidthClass,usFirstCharIndex:xe,usLastCharIndex:Ke,ulUnicodeRange1:Je,ulUnicodeRange2:$e,ulUnicodeRange3:et,ulUnicodeRange4:tt,fsSelection:je.tables.os2.fsSelection,sTypoAscender:it.ascender,sTypoDescender:it.descender,sTypoLineGap:0,usWinAscent:it.yMax,usWinDescent:Math.abs(it.yMin),ulCodePageRange1:1,sxHeight:xt(je,"xyvw",{yMax:Math.round(it.ascender/2)}).yMax,sCapHeight:xt(je,"HIKLEFJMNTZBDPRAGOQSUVWXY",it).yMax,usDefaultChar:je.hasChar(" ")?32:0,usBreakChar:je.hasChar(" ")?32:0}),mt=Ur.make(je.glyphs),yt=xr.make(je.glyphs),gt=je.getEnglishName("fontFamily"),wt=je.getEnglishName("fontSubfamily"),Dt=gt+" "+wt,Xt=(Xt=je.getEnglishName("postScriptName"))||gt.replace(/\s/g,"")+"-"+wt,Yt={};for(st in je.names)Yt[st]=je.names[st];Yt.uniqueID||(Yt.uniqueID={en:je.getEnglishName("manufacturer")+":"+Dt}),Yt.postScriptName||(Yt.postScriptName={en:Xt}),Yt.preferredFamily||(Yt.preferredFamily=je.names.fontFamily),Yt.preferredSubfamily||(Yt.preferredSubfamily=je.names.fontSubfamily);var br=[],_r=Yr.make(Yt,br),wr=(br=0<br.length?Nr.make(br):void 0,Kr.make());Dt=Ir.make(je.glyphs,{version:je.getEnglishName("version"),fullName:Dt,familyName:gt,weightName:wt,postScriptName:Xt,unitsPerEm:je.unitsPerEm,fontBBox:[0,it.yMin,it.ascender,it.advanceWidthMax]}),gt=je.metas&&0<Object.keys(je.metas).length?ro.make(je.metas):void 0,wt=[dt,ht,ft,pt,_r,yt,wr,Dt,mt];br&&wt.push(br),je.tables.gsub&&wt.push(to.make(je.tables.gsub)),gt&&wt.push(gt);for(var Sr=bt((Xt=jt(wt)).encode()),Tr=Xt.fields,Er=!1,Ar=0;Ar<Tr.length;Ar+=1)if("head table"===Tr[Ar].name){Tr[Ar].value.checkSumAdjustment=2981146554-Sr,Er=!0;break}if(Er)return Xt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:bt};function St(je,xe){for(var we=0,Se=je.length-1;we<=Se;){var Te=we+Se>>>1,Ee=je[Te].tag;if(Ee===xe)return Te;Ee<xe?we=1+Te:Se=Te-1}return-we-1}function Tt(je,xe){for(var we=0,Se=je.length-1;we<=Se;){var Te=we+Se>>>1,Ee=je[Te];if(Ee===xe)return Te;Ee<xe?we=1+Te:Se=Te-1}return-we-1}function Et(je,xe){for(var we=0,Se=je.length-1;we<=Se;){var Te,Ee=we+Se>>>1,Ye=(Te=je[Ee]).start;if(Ye===xe)return Te;Ye<xe?we=1+Ee:Se=Ee-1}if(0<we)return xe>(Te=je[we-1]).end?0:Te}function Mt(xe,we){(this||je).font=xe,(this||je).tableName=we}function kt(xe){Mt.call(this||je,xe,"gpos")}function i(xe){Mt.call(this||je,xe,"gsub")}function Ct(je,xe,we){for(var Se=je.subtables,Te=0;Te<Se.length;Te++){var Ee=Se[Te];if(Ee.substFormat===xe)return Ee}if(we)return Se.push(we),we}function Ot(je){for(var xe=new ArrayBuffer(je.length),we=new Uint8Array(xe),Se=0;Se<je.length;++Se)we[Se]=je[Se];return xe}function j(je,xe){if(!je)throw xe}function At(je,xe,we,Se,Te){var Ee=0<(xe&Se)?(Ee=je.parseByte(),we+(Ee=0==(xe&Te)?-Ee:Ee)):0<(xe&Te)?we:we+je.parseShort();return Ee}function Pt(je,xe,we){var Se,Te=new _r.Parser(xe,we);if(je.numberOfContours=Te.parseShort(),je._xMin=Te.parseShort(),je._yMin=Te.parseShort(),je._xMax=Te.parseShort(),je._yMax=Te.parseShort(),0<je.numberOfContours){for(var Ee=je.endPointIndices=[],Ye=0;Ye<je.numberOfContours;Ye+=1)Ee.push(Te.parseUShort());je.instructionLength=Te.parseUShort(),je.instructions=[];for(var Ze=0;Ze<je.instructionLength;Ze+=1)je.instructions.push(Te.parseByte());for(var Qe=Ee[Ee.length-1]+1,Ke=[],Je=0;Je<Qe;Je+=1)if(Se=Te.parseByte(),Ke.push(Se),0<(8&Se))for(var $e=Te.parseByte(),et=0;et<$e;et+=1)Ke.push(Se),Je+=1;if(ht.argument(Ke.length===Qe,"Bad flags."),0<Ee.length){var tt,rt=[];if(0<Qe){for(var ot=0;ot<Qe;ot+=1)Se=Ke[ot],(tt={}).onCurve=!!(1&Se),tt.lastPointOfContour=0<=Ee.indexOf(ot),rt.push(tt);for(var nt=0,st=0;st<Qe;st+=1)Se=Ke[st],(tt=rt[st]).x=At(Te,Se,nt,2,16),nt=tt.x;for(var it=0,dt=0;dt<Qe;dt+=1)Se=Ke[dt],(tt=rt[dt]).y=At(Te,Se,it,4,32),it=tt.y}je.points=rt}else je.points=[]}else if(0===je.numberOfContours)je.points=[];else{je.isComposite=!0,je.points=[],je.components=[];for(var ft=!0;ft;){Ke=Te.parseUShort();var pt={glyphIndex:Te.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ke)?0<(2&Ke)?(pt.dx=Te.parseShort(),pt.dy=Te.parseShort()):pt.matchedPoints=[Te.parseUShort(),Te.parseUShort()]:0<(2&Ke)?(pt.dx=Te.parseChar(),pt.dy=Te.parseChar()):pt.matchedPoints=[Te.parseByte(),Te.parseByte()],0<(8&Ke)?pt.xScale=pt.yScale=Te.parseF2Dot14():0<(64&Ke)?(pt.xScale=Te.parseF2Dot14(),pt.yScale=Te.parseF2Dot14()):0<(128&Ke)&&(pt.xScale=Te.parseF2Dot14(),pt.scale01=Te.parseF2Dot14(),pt.scale10=Te.parseF2Dot14(),pt.yScale=Te.parseF2Dot14()),je.components.push(pt),ft=!!(32&Ke)}if(256&Ke){je.instructionLength=Te.parseUShort(),je.instructions=[];for(var mt=0;mt<je.instructionLength;mt+=1)je.instructions.push(Te.parseByte())}}}function Lt(je,xe){for(var we=[],Se=0;Se<je.length;Se+=1){var Te=je[Se];Te={x:xe.xScale*Te.x+xe.scale01*Te.y+xe.dx,y:xe.scale10*Te.x+xe.yScale*Te.y+xe.dy,onCurve:Te.onCurve,lastPointOfContour:Te.lastPointOfContour};we.push(Te)}return we}function Rt(je){var xe=new h;if(je)for(var we=function(je){for(var xe=[],we=[],Se=0;Se<je.length;Se+=1){var Te=je[Se];we.push(Te),Te.lastPointOfContour&&(xe.push(we),we=[])}return ht.argument(0===we.length,"There are still points left in the current contour."),xe}(je),Se=0;Se<we.length;++Se){var Te,Ee=we[Se],Ye=Ee[Ee.length-1],Ze=Ee[0];Ye.onCurve?xe.moveTo(Ye.x,Ye.y):Ze.onCurve?xe.moveTo(Ze.x,Ze.y):(Te={x:.5*(Ye.x+Ze.x),y:.5*(Ye.y+Ze.y)},xe.moveTo(Te.x,Te.y));for(var Qe=0;Qe<Ee.length;++Qe){var Ke,Je=Ye;Ye=Ze,Ze=Ee[(Qe+1)%Ee.length];Ye.onCurve?xe.lineTo(Ye.x,Ye.y):(Ke=Ze,Je.onCurve||(Ye.x,Je.x,Ye.y,Je.y),Ze.onCurve||(Ke={x:.5*(Ye.x+Ze.x),y:.5*(Ye.y+Ze.y)}),xe.quadraticCurveTo(Ye.x,Ye.y,Ke.x,Ke.y))}xe.closePath()}return xe}function It(je,xe){if(xe.isComposite)for(var we=0;we<xe.components.length;we+=1){var Se=xe.components[we],Te=je.get(Se.glyphIndex);if(Te.getPath(),Te.points){var Ee=void 0;if(void 0===Se.matchedPoints)Ee=Lt(Te.points,Se);else{if(Se.matchedPoints[0]>xe.points.length-1||Se.matchedPoints[1]>Te.points.length-1)throw Error("Matched points out of range in "+xe.name);var Ye=xe.points[Se.matchedPoints[0]],Ze=Te.points[Se.matchedPoints[1]];Se={xScale:Se.xScale,scale01:Se.scale01,scale10:Se.scale10,yScale:Se.yScale,dx:0,dy:0},Ze=Lt([Ze],Se)[0];Se.dx=Ye.x-Ze.x,Se.dy=Ye.y-Ze.y,Ee=Lt(Te.points,Se)}xe.points=xe.points.concat(Ee)}}return Rt(xe.points)}(kt.prototype=Mt.prototype={searchTag:St,binSearch:Tt,getTable:function(xe){var we=(this||je).font.tables[(this||je).tableName];return!we&&xe?(this||je).font.tables[(this||je).tableName]=this.createDefaultTable():we},getScriptNames:function(){var je=this.getTable();return je?je.scripts.map((function(je){return je.tag})):[]},getDefaultScriptName:function(){var je=this.getTable();if(je){for(var xe=!1,we=0;we<je.scripts.length;we++){var Se=je.scripts[we].tag;if("DFLT"===Se)return Se;"latn"===Se&&(xe=!0)}return xe?"latn":void 0}},getScriptTable:function(je,xe){var we,Se=this.getTable(xe);if(Se)return we=Se.scripts,0<=(Se=St(Se.scripts,je=je||"DFLT"))?we[Se].script:xe?(we.splice(-1-Se,0,xe={tag:je,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),xe.script):void 0},getLangSysTable:function(je,xe,we){var Se;je=this.getScriptTable(je,we);if(je)return xe&&"dflt"!==xe&&"DFLT"!==xe?0<=(Se=St(je.langSysRecords,xe))?je.langSysRecords[Se].langSys:we?(je.langSysRecords.splice(-1-Se,0,we={tag:xe,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),we.langSys):void 0:je.defaultLangSys},getFeatureTable:function(xe,we,Se,Te){xe=this.getLangSysTable(xe,we,Te);if(xe){for(var Ee,Ye=xe.featureIndexes,Ze=(this||je).font.tables[(this||je).tableName].features,Qe=0;Qe<Ye.length;Qe++)if((Ee=Ze[Ye[Qe]]).tag===Se)return Ee.feature;if(Te)return we=Ze.length,ht.assert(0===we||Se>=Ze[we-1].tag,"Features must be added in alphabetical order."),Ze.push(Ee={tag:Se,feature:{params:0,lookupListIndexes:[]}}),Ye.push(we),Ee.feature}},getLookupTables:function(xe,we,Se,Te,Ee){xe=this.getFeatureTable(xe,we,Se,Ee);var Ye=[];if(xe){for(var Ze,Qe=xe.lookupListIndexes,Ke=(this||je).font.tables[(this||je).tableName].lookups,Je=0;Je<Qe.length;Je++)(Ze=Ke[Qe[Je]]).lookupType===Te&&Ye.push(Ze);if(0===Ye.length&&Ee)return we=Ke.length,Ke.push(Ze={lookupType:Te,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Qe.push(we),[Ze]}return Ye},getGlyphClass:function(je,xe){switch(je.format){case 1:return je.startGlyph<=xe&&xe<je.startGlyph+je.classes.length?je.classes[xe-je.startGlyph]:0;case 2:var we=Et(je.ranges,xe);return we?we.classId:0}},getCoverageIndex:function(je,xe){switch(je.format){case 1:var we=Tt(je.glyphs,xe);return 0<=we?we:-1;case 2:we=Et(je.ranges,xe);return we?we.index+xe-we.start:-1}},expandCoverage:function(je){if(1===je.format)return je.glyphs;for(var xe=[],we=je.ranges,Se=0;Se<we.length;Se++)for(var Te=we[Se],Ee=Te.start,Ye=Te.end,Ze=Ee;Ze<=Ye;Ze++)xe.push(Ze);return xe}}).init=function(){var xe=this.getDefaultScriptName();(this||je).defaultKerningTables=this.getKerningTables(xe)},kt.prototype.getKerningValue=function(je,xe,we){for(var Se=0;Se<je.length;Se++)for(var Te=je[Se].subtables,Ee=0;Ee<Te.length;Ee++){var Ye=Te[Ee],Ze=this.getCoverageIndex(Ye.coverage,xe);if(!(Ze<0))switch(Ye.posFormat){case 1:for(var Qe=Ye.pairSets[Ze],Ke=0;Ke<Qe.length;Ke++){var Je=Qe[Ke];if(Je.secondGlyph===we)return Je.value1&&Je.value1.xAdvance||0}break;case 2:var $e=this.getGlyphClass(Ye.classDef1,xe),et=this.getGlyphClass(Ye.classDef2,we);$e=Ye.classRecords[$e][et];return $e.value1&&$e.value1.xAdvance||0}}return 0},kt.prototype.getKerningTables=function(xe,we){if((this||je).font.tables.gpos)return this.getLookupTables(xe,we,"kern",2)},(i.prototype=Mt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},i.prototype.getSingle=function(je,xe,we){for(var Se=[],Te=this.getLookupTables(xe,we,je,1),Ee=0;Ee<Te.length;Ee++)for(var Ye=Te[Ee].subtables,Ze=0;Ze<Ye.length;Ze++){var Qe=Ye[Ze],Ke=this.expandCoverage(Qe.coverage),Je=void 0;if(1===Qe.substFormat){var $e=Qe.deltaGlyphId;for(Je=0;Je<Ke.length;Je++){var et=Ke[Je];Se.push({sub:et,by:et+$e})}}else{var tt=Qe.substitute;for(Je=0;Je<Ke.length;Je++)Se.push({sub:Ke[Je],by:tt[Je]})}}return Se},i.prototype.getAlternates=function(je,xe,we){for(var Se=[],Te=this.getLookupTables(xe,we,je,3),Ee=0;Ee<Te.length;Ee++)for(var Ye=Te[Ee].subtables,Ze=0;Ze<Ye.length;Ze++)for(var Qe=Ye[Ze],Ke=this.expandCoverage(Qe.coverage),Je=Qe.alternateSets,$e=0;$e<Ke.length;$e++)Se.push({sub:Ke[$e],by:Je[$e]});return Se},i.prototype.getLigatures=function(je,xe,we){for(var Se=[],Te=this.getLookupTables(xe,we,je,4),Ee=0;Ee<Te.length;Ee++)for(var Ye=Te[Ee].subtables,Ze=0;Ze<Ye.length;Ze++)for(var Qe=Ye[Ze],Ke=this.expandCoverage(Qe.coverage),Je=Qe.ligatureSets,$e=0;$e<Ke.length;$e++)for(var et=Ke[$e],tt=Je[$e],rt=0;rt<tt.length;rt++){var ot=tt[rt];Se.push({sub:[et].concat(ot.components),by:ot.ligGlyph})}return Se},i.prototype.addSingle=function(je,xe,we,Se){we=Ct(this.getLookupTables(we,Se,je,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),ht.assert(1===we.coverage.format,"Ligature: unable to modify coverage table format "+we.coverage.format),Se=xe.sub,je=this.binSearch(we.coverage.glyphs,Se);je<0&&(we.coverage.glyphs.splice(je=-1-je,0,Se),we.substitute.splice(je,0,0)),we.substitute[je]=xe.by},i.prototype.addAlternate=function(je,xe,we,Se){we=Ct(this.getLookupTables(we,Se,je,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),ht.assert(1===we.coverage.format,"Ligature: unable to modify coverage table format "+we.coverage.format),Se=xe.sub,je=this.binSearch(we.coverage.glyphs,Se);je<0&&(we.coverage.glyphs.splice(je=-1-je,0,Se),we.alternateSets.splice(je,0,0)),we.alternateSets[je]=xe.by},i.prototype.addLigature=function(je,xe,we,Se){we=this.getLookupTables(we,Se,je,4,!0)[0],Se=we.subtables[0],je=(Se||(we.subtables[0]=Se={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),ht.assert(1===Se.coverage.format,"Ligature: unable to modify coverage table format "+Se.coverage.format),xe.sub[0]);var Te=xe.sub.slice(1);we={ligGlyph:xe.by,components:Te},xe=this.binSearch(Se.coverage.glyphs,je);if(0<=xe){for(var Ee=Se.ligatureSets[xe],Ye=0;Ye<Ee.length;Ye++)if(function(je,xe){var we=je.length;if(we===xe.length){for(var Se=0;Se<we;Se++)if(je[Se]!==xe[Se])return;return 1}}(Ee[Ye].components,Te))return;Ee.push(we)}else Se.coverage.glyphs.splice(xe=-1-xe,0,je),Se.ligatureSets.splice(xe,0,[we])},i.prototype.getFeature=function(je,xe,we){if(/ss\d\d/.test(je))return this.getSingle(je,xe,we);switch(je){case"aalt":case"salt":return this.getSingle(je,xe,we).concat(this.getAlternates(je,xe,we));case"dlig":case"liga":case"rlig":return this.getLigatures(je,xe,we)}},i.prototype.add=function(je,xe,we,Se){if(/ss\d\d/.test(je))return this.addSingle(je,xe,we,Se);switch(je){case"aalt":case"salt":return"number"==typeof xe.by?this.addSingle(je,xe,we,Se):this.addAlternate(je,xe,we,Se);case"dlig":case"liga":case"rlig":return this.addLigature(je,xe,we,Se)}};var no={getPath:Rt,parse:function(je,xe,we,Se){for(var Te=new Lr.GlyphSet(Se),Ee=0;Ee<we.length-1;Ee+=1){var Ye=we[Ee];Ye!==we[Ee+1]?Te.push(Ee,Lr.ttfGlyphLoader(Se,Ee,Pt,je,xe+Ye,It)):Te.push(Ee,Lr.glyphLoader(Se,Ee))}return Te}};function Ft(xe){(this||je).font=xe,(this||je).getCommands=function(je){return no.getPath(je).commands},(this||je)._fpgmState=(this||je)._prepState=void 0,(this||je)._errorState=0}function Ut(je){return je}function Nt(je){return Math.sign(je)*Math.round(Math.abs(je))}function Bt(je){return Math.sign(je)*Math.round(Math.abs(2*je))/2}function Gt(je){return Math.sign(je)*(Math.round(Math.abs(je)+.5)-.5)}function Vt(je){return Math.sign(je)*Math.ceil(Math.abs(je))}function zt(je){return Math.sign(je)*Math.floor(Math.abs(je))}function Ht(xe){var we=(this||je).srPeriod,Se=(this||je).srPhase,Te=1;return xe<0&&(xe=-xe,Te=-1),xe+=(this||je).srThreshold-Se,xe=Math.trunc(xe/we)*we,(xe+=Se)<0?Se*Te:xe*Te}var so={x:1,y:0,axis:"x",distance:function(je,xe,we,Se){return(we?je.xo:je.x)-(Se?xe.xo:xe.x)},interpolate:function(xe,we,Se,Te){var Ee,Ye,Ze,Qe,Ke,Je,$e;if(!Te||Te===(this||je))return Ee=xe.xo-we.xo,Ye=xe.xo-Se.xo,Ke=we.x-we.xo,Je=Se.x-Se.xo,0===($e=(Ze=Math.abs(Ee))+(Qe=Math.abs(Ye)))?void(xe.x=xe.xo+(Ke+Je)/2):void(xe.x=xe.xo+(Ke*Qe+Je*Ze)/$e);Ee=Te.distance(xe,we,!0,!0),Ye=Te.distance(xe,Se,!0,!0),Ke=Te.distance(we,we,!1,!0),Je=Te.distance(Se,Se,!1,!0),0===($e=(Ze=Math.abs(Ee))+(Qe=Math.abs(Ye)))?so.setRelative(xe,xe,(Ke+Je)/2,Te,!0):so.setRelative(xe,xe,(Ke*Qe+Je*Ze)/$e,Te,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(xe,we,Se,Te,Ee){var Ye,Ze;Te&&Te!==(this||je)?(Ye=Ee?we.xo:we.x,Ze=Ee?we.yo:we.y,Ye+=Se*Te.x,Ze+=Se*Te.y,xe.x=Ye+(xe.y-Ze)/Te.normalSlope):xe.x=(Ee?we.xo:we.x)+Se},slope:0,touch:function(je){je.xTouched=!0},touched:function(je){return je.xTouched},untouch:function(je){je.xTouched=!1}},io={x:0,y:1,axis:"y",distance:function(je,xe,we,Se){return(we?je.yo:je.y)-(Se?xe.yo:xe.y)},interpolate:function(xe,we,Se,Te){var Ee,Ye,Ze,Qe,Ke,Je,$e;if(!Te||Te===(this||je))return Ee=xe.yo-we.yo,Ye=xe.yo-Se.yo,Ke=we.y-we.yo,Je=Se.y-Se.yo,0===($e=(Ze=Math.abs(Ee))+(Qe=Math.abs(Ye)))?void(xe.y=xe.yo+(Ke+Je)/2):void(xe.y=xe.yo+(Ke*Qe+Je*Ze)/$e);Ee=Te.distance(xe,we,!0,!0),Ye=Te.distance(xe,Se,!0,!0),Ke=Te.distance(we,we,!1,!0),Je=Te.distance(Se,Se,!1,!0),0===($e=(Ze=Math.abs(Ee))+(Qe=Math.abs(Ye)))?io.setRelative(xe,xe,(Ke+Je)/2,Te,!0):io.setRelative(xe,xe,(Ke*Qe+Je*Ze)/$e,Te,!0)},normalSlope:0,setRelative:function(xe,we,Se,Te,Ee){var Ye,Ze;Te&&Te!==(this||je)?(Ye=Ee?we.xo:we.x,Ze=Ee?we.yo:we.y,Ye+=Se*Te.x,Ze+=Se*Te.y,xe.y=Ze+Te.normalSlope*(xe.x-Ye)):xe.y=(Ee?we.yo:we.y)+Se},slope:Number.POSITIVE_INFINITY,touch:function(je){je.yTouched=!0},touched:function(je){return je.yTouched},untouch:function(je){je.yTouched=!1}};function Wt(xe,we){(this||je).x=xe,(this||je).y=we,(this||je).axis=void 0,(this||je).slope=we/xe,(this||je).normalSlope=-xe/we,Object.freeze(this||je)}function qt(je,xe){var we=Math.sqrt(je*je+xe*xe);return xe/=we,1===(je/=we)&&0===xe?so:0===je&&1===xe?io:new Wt(je,xe)}function E(xe,we,Se,Te){(this||je).x=(this||je).xo=Math.round(64*xe)/64,(this||je).y=(this||je).yo=Math.round(64*we)/64,(this||je).lastPointOfContour=Se,(this||je).onCurve=Te,(this||je).prevPointOnContour=void 0,(this||je).nextPointOnContour=void 0,(this||je).xTouched=!1,(this||je).yTouched=!1,Object.preventExtensions(this||je)}Object.freeze(so),Object.freeze(io),Wt.prototype.distance=function(xe,we,Se,Te){return(this||je).x*so.distance(xe,we,Se,Te)+(this||je).y*io.distance(xe,we,Se,Te)},Wt.prototype.interpolate=function(je,xe,we,Se){var Te=Se.distance(je,xe,!0,!0),Ee=Se.distance(je,we,!0,!0),Ye=(xe=Se.distance(xe,xe,!1,!0),we=Se.distance(we,we,!1,!0),Te=Math.abs(Te),Ee=Math.abs(Ee),Te+Ee);0===Ye?this.setRelative(je,je,(xe+we)/2,Se,!0):this.setRelative(je,je,(xe*Ee+we*Te)/Ye,Se,!0)},Wt.prototype.setRelative=function(xe,we,Se,Te,Ee){var Ye=Ee?we.xo:we.x,Ze=(Ee=Ee?we.yo:we.y,we=Ye+Se*(Te=Te||this||je).x,Ye=Ee+Se*Te.y,Ee=Te.normalSlope,Se=(this||je).slope,Te=xe.x,xe.y);xe.x=(Se*Te-Ee*we+Ye-Ze)/(Se-Ee),xe.y=Se*(xe.x-Te)+Ze},Wt.prototype.touch=function(je){je.xTouched=!0,je.yTouched=!0},E.prototype.nextTouched=function(xe){for(var we=(this||je).nextPointOnContour;!xe.touched(we)&&we!==(this||je);)we=we.nextPointOnContour;return we},E.prototype.prevTouched=function(xe){for(var we=(this||je).prevPointOnContour;!xe.touched(we)&&we!==(this||je);)we=we.prevPointOnContour;return we};var ao=Object.freeze(new E(0,0)),lo={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function M(xe,we){switch((this||je).env=xe,(this||je).stack=[],(this||je).prog=we,xe){case"glyf":(this||je).zp0=(this||je).zp1=(this||je).zp2=1,(this||je).rp0=(this||je).rp1=(this||je).rp2=0;case"prep":(this||je).fv=(this||je).pv=(this||je).dpv=so,(this||je).round=Nt}}function Zt(je){for(var xe=je.tZone=new Array(je.gZone.length),we=0;we<xe.length;we++)xe[we]=new E(0,0)}function Qt(je,xe){var we,Se=je.prog,Te=je.ip,Ee=1;do{if(88===(we=Se[++Te]))Ee++;else if(89===we)Ee--;else if(64===we)Te+=Se[Te+1]+1;else if(65===we)Te+=2*Se[Te+1]+1;else if(176<=we&&we<=183)Te+=we-176+1;else if(184<=we&&we<=191)Te+=2*(we-184+1);else if(xe&&1===Ee&&27===we)break}while(0<Ee);je.ip=Te}function Jt(je,we){xe.DEBUG&&console.log(we.step,"SVTCA["+je.axis+"]"),we.fv=we.pv=we.dpv=je}function Kt(je,we){xe.DEBUG&&console.log(we.step,"SPVTCA["+je.axis+"]"),we.pv=we.dpv=je}function $t(je,we){xe.DEBUG&&console.log(we.step,"SFVTCA["+je.axis+"]"),we.fv=je}function er(je,we){var Se,Te=we.stack,Ee=Te.pop(),Ye=(Te=Te.pop(),we.z2[Ee]),Ze=we.z1[Te];xe.DEBUG&&console.log("SPVTL["+je+"]",Ee,Te),Ee=je?(Se=Ye.y-Ze.y,Ze.x-Ye.x):(Se=Ze.x-Ye.x,Ze.y-Ye.y),we.pv=we.dpv=qt(Se,Ee)}function tr(je,we){var Se,Te=we.stack,Ee=Te.pop(),Ye=(Te=Te.pop(),we.z2[Ee]),Ze=we.z1[Te];xe.DEBUG&&console.log("SFVTL["+je+"]",Ee,Te),Ee=je?(Se=Ye.y-Ze.y,Ze.x-Ye.x):(Se=Ze.x-Ye.x,Ze.y-Ye.y),we.fv=qt(Se,Ee)}function rr(je){xe.DEBUG&&console.log(je.step,"POP[]"),je.stack.pop()}function or(je,we){var Se=we.stack.pop(),Te=we.z0[Se],Ee=we.fv,Ye=we.pv,Ze=(xe.DEBUG&&console.log(we.step,"MDAP["+je+"]",Se),Ye.distance(Te,ao));je&&(Ze=we.round(Ze)),Ee.setRelative(Te,ao,Ze,Ye),Ee.touch(Te),we.rp0=we.rp1=Se}function nr(je,we){var Se,Te,Ee,Ye=we.z2,Ze=Ye.length-2;xe.DEBUG&&console.log(we.step,"IUP["+je.axis+"]");for(var Qe=0;Qe<Ze;Qe++)Se=Ye[Qe],je.touched(Se)||(Te=Se.prevTouched(je))!==Se&&(Te===(Ee=Se.nextTouched(je))&&je.setRelative(Se,Se,je.distance(Te,Te,!1,!0),je,!0),je.interpolate(Se,Te,Ee,je))}function sr(je,we){for(var Se=we.stack,Te=je?we.rp1:we.rp2,Ee=(je?we.z0:we.z1)[Te],Ye=we.fv,Ze=we.pv,Qe=we.loop,Ke=we.z2;Qe--;){var Je=Se.pop(),$e=Ke[Je],et=Ze.distance(Ee,Ee,!1,!0);Ye.setRelative($e,$e,et,Ze),Ye.touch($e),xe.DEBUG&&console.log(we.step,(1<we.loop?"loop "+(we.loop-Qe)+": ":"")+"SHP["+(je?"rp1":"rp2")+"]",Je)}we.loop=1}function ir(je,we){for(var Se=we.stack,Te=je?we.rp1:we.rp2,Ee=(je?we.z0:we.z1)[Te],Ye=we.fv,Ze=we.pv,Qe=(Te=Se.pop(),we.z2[we.contours[Te]]),Ke=Qe,Je=(xe.DEBUG&&console.log(we.step,"SHC["+je+"]",Te),Ze.distance(Ee,Ee,!1,!0));Ke!==Ee&&Ye.setRelative(Ke,Ke,Je,Ze),(Ke=Ke.nextPointOnContour)!==Qe;);}function ar(je,we){var Se,Te,Ee=we.stack,Ye=je?we.rp1:we.rp2,Ze=(Ye=(je?we.z0:we.z1)[Ye],we.fv),Qe=we.pv;Ee=Ee.pop();switch(xe.DEBUG&&console.log(we.step,"SHZ["+je+"]",Ee),Ee){case 0:Se=we.tZone;break;case 1:Se=we.gZone;break;default:throw new Error("Invalid zone")}for(var Ke=Qe.distance(Ye,Ye,!1,!0),Je=Se.length-2,$e=0;$e<Je;$e++)Te=Se[$e],Ze.setRelative(Te,Te,Ke,Qe)}function lr(je,we){var Se=we.stack,Te=Se.pop()/64,Ee=(Se=Se.pop(),we.z1[Se]),Ye=we.z0[we.rp0],Ze=we.fv,Qe=we.pv;Ze.setRelative(Ee,Ye,Te,Qe),Ze.touch(Ee),xe.DEBUG&&console.log(we.step,"MSIRP["+je+"]",Te,Se),we.rp1=we.rp0,we.rp2=Se,je&&(we.rp0=Se)}function ur(je,we){var Se=we.stack,Te=Se.pop(),Ee=(Se=Se.pop(),we.z0[Se]),Ye=we.fv,Ze=we.pv,Qe=we.cvt[Te];Te=(xe.DEBUG&&console.log(we.step,"MIAP["+je+"]",Te,"(",Qe,")",Se),Ze.distance(Ee,ao));je&&(Math.abs(Te-Qe)<we.cvCutIn&&(Te=Qe),Te=we.round(Te)),Ye.setRelative(Ee,ao,Te,Ze),0===we.zp0&&(Ee.xo=Ee.x,Ee.yo=Ee.y),Ye.touch(Ee),we.rp0=we.rp1=Se}function cr(je,we){var Se=we.stack,Te=Se.pop(),Ee=we.z2[Te];xe.DEBUG&&console.log(we.step,"GC["+je+"]",Te),Se.push(64*we.dpv.distance(Ee,ao,je,!1))}function dr(je,we){var Se=we.stack,Te=Se.pop(),Ee=(Se=Se.pop(),we.z1[Te]),Ye=we.z0[Se];Ye=we.dpv.distance(Ye,Ee,je,je);xe.DEBUG&&console.log(we.step,"MD["+je+"]",Te,Se,"->",Ye),we.stack.push(Math.round(64*Ye))}function hr(je,we){var Se=we.stack,Te=Se.pop(),Ee=we.fv,Ye=we.pv,Ze=we.ppem,Qe=we.deltaBase+16*(je-1),Ke=we.deltaShift,Je=we.z0;xe.DEBUG&&console.log(we.step,"DELTAP["+je+"]",Te,Se);for(var $e=0;$e<Te;$e++){var et=Se.pop(),tt=Se.pop();Qe+((240&tt)>>4)===Ze&&(0<=(tt=(15&tt)-8)&&tt++,xe.DEBUG&&console.log(we.step,"DELTAPFIX",et,"by",tt*Ke),et=Je[et],Ee.setRelative(et,et,tt*Ke,Ye))}}function fr(je,we){var Se=we.stack,Te=Se.pop();xe.DEBUG&&console.log(we.step,"ROUND[]"),Se.push(64*we.round(Te/64))}function pr(je,we){var Se=we.stack,Te=Se.pop(),Ee=we.ppem,Ye=we.deltaBase+16*(je-1),Ze=we.deltaShift;xe.DEBUG&&console.log(we.step,"DELTAC["+je+"]",Te,Se);for(var Qe=0;Qe<Te;Qe++){var Ke=Se.pop(),Je=Se.pop();Ye+((240&Je)>>4)===Ee&&(0<=(Je=(15&Je)-8)&&Je++,Je*=Ze,xe.DEBUG&&console.log(we.step,"DELTACFIX",Ke,"by",Je),we.cvt[Ke]+=Je)}}function mr(je,we){var Se,Te=we.stack,Ee=Te.pop(),Ye=(Te=Te.pop(),we.z2[Ee]),Ze=we.z1[Te];xe.DEBUG&&console.log(we.step,"SDPVTL["+je+"]",Ee,Te),Ee=je?(Se=Ye.y-Ze.y,Ze.x-Ye.x):(Se=Ze.x-Ye.x,Ze.y-Ye.y),we.dpv=qt(Se,Ee)}function k(je,we){var Se=we.stack,Te=we.prog,Ee=we.ip;xe.DEBUG&&console.log(we.step,"PUSHB["+je+"]");for(var Ye=0;Ye<je;Ye++)Se.push(Te[++Ee]);we.ip=Ee}function C(je,we){var Se=we.ip,Te=we.prog,Ee=we.stack;xe.DEBUG&&console.log(we.ip,"PUSHW["+je+"]");for(var Ye=0;Ye<je;Ye++){var Ze=Te[++Se]<<8|Te[++Se];32768&Ze&&(Ze=-(1+(65535^Ze))),Ee.push(Ze)}we.ip=Se}function O(je,we,Se,Te,Ee,Ye){var Ze,Qe,Ke=Ye.stack,Je=je&&Ke.pop(),$e=(Ke=Ke.pop(),Ye.rp0),et=($e=Ye.z0[$e],Ye.z1[Ke]),tt=Ye.minDis,rt=Ye.fv,ot=Ye.dpv,nt=Ze=ot.distance(et,$e,!0,!0),st=0<=nt?1:-1;nt=Math.abs(nt),je&&(Qe=Ye.cvt[Je],Te&&Math.abs(nt-Qe)<Ye.cvCutIn&&(nt=Qe)),Se&&nt<tt&&(nt=tt),Te&&(nt=Ye.round(nt)),rt.setRelative(et,$e,st*nt,ot),rt.touch(et),xe.DEBUG&&console.log(Ye.step,(je?"MIRP[":"MDRP[")+(we?"M":"m")+(Se?">":"_")+(Te?"R":"_")+(0===Ee?"Gr":1===Ee?"Bl":2===Ee?"Wh":"")+"]",je?Je+"("+Ye.cvt[Je]+","+Qe+")":"",Ke,"(d =",Ze,"->",st*nt,")"),Ye.rp1=Ye.rp0,Ye.rp2=Ke,we&&(Ye.rp0=Ke)}Ft.prototype.exec=function(we,Se){if("number"!=typeof Se)throw new Error("Point size is not a number!");if(!(2<(this||je)._errorState)){var Te=(this||je).font,Ee=(this||je)._prepState;if(!Ee||Ee.ppem!==Se){var Ye=(this||je)._fpgmState;if(!Ye){M.prototype=lo,(Ye=(this||je)._fpgmState=new M("fpgm",Te.tables.fpgm)).funcs=[],Ye.font=Te,xe.DEBUG&&(console.log("---EXEC FPGM---"),Ye.step=-1);try{vr(Ye)}catch(we){return console.log("Hinting error in FPGM:"+we),void((this||je)._errorState=3)}}M.prototype=Ye,(Ee=(this||je)._prepState=new M("prep",Te.tables.prep)).ppem=Se;var Ze=Te.tables.cvt;if(Ze)for(var Qe=Ee.cvt=new Array(Ze.length),Ke=Se/Te.unitsPerEm,Je=0;Je<Ze.length;Je++)Qe[Je]=Ze[Je]*Ke;else Ee.cvt=[];xe.DEBUG&&(console.log("---EXEC PREP---"),Ee.step=-1);try{vr(Ee)}catch(we){(this||je)._errorState<2&&console.log("Hinting error in PREP:"+we),(this||je)._errorState=2}}if(!(1<(this||je)._errorState))try{return yr(we,Ee)}catch(we){(this||je)._errorState<1&&(console.log("Hinting error:"+we),console.log("Note: further hinting errors are silenced")),(this||je)._errorState=1}}};var yr=function(je,we){var Se=we.ppem/we.font.unitsPerEm,Te=Se,Ee=je.components;if(M.prototype=we,Ee){for(var Ye=we.font,Ze=[],Qe=[],Ke=0;Ke<Ee.length;Ke++){var Je=Ee[Ke],$e=Ye.glyphs.get(Je.glyphIndex),et=new M("glyf",$e.instructions);xe.DEBUG&&(console.log("---EXEC COMP "+Ke+"---"),et.step=-1),gr($e,et,Se,Te);for(var tt=Math.round(Je.dx*Se),rt=Math.round(Je.dy*Te),ot=et.gZone,nt=et.contours,st=0;st<ot.length;st++){var it=ot[st];it.xTouched=it.yTouched=!1,it.xo=it.x=it.x+tt,it.yo=it.y=it.y+rt}var dt=Ze.length;Ze.push.apply(Ze,ot);for(var ht=0;ht<nt.length;ht++)Qe.push(nt[ht]+dt)}je.instructions&&!et.inhibitGridFit&&((et=new M("glyf",je.instructions)).gZone=et.z0=et.z1=et.z2=Ze,et.contours=Qe,Ze.push(new E(0,0),new E(Math.round(je.advanceWidth*Se),0)),xe.DEBUG&&(console.log("---EXEC COMPOSITE---"),et.step=-1),vr(et),Ze.length-=2)}else et=new M("glyf",je.instructions),xe.DEBUG&&(console.log("---EXEC GLYPH---"),et.step=-1),gr(je,et,Se,Te),Ze=et.gZone;return Ze},gr=function(je,we,Se,Te){for(var Ee,Ye,Ze,Qe=je.points||[],Ke=Qe.length,Je=we.gZone=we.z0=we.z1=we.z2=[],$e=we.contours=[],et=0;et<Ke;et++)Ee=Qe[et],Je[et]=new E(Ee.x*Se,Ee.y*Te,Ee.lastPointOfContour,Ee.onCurve);for(var tt=0;tt<Ke;tt++)Ee=Je[tt],Ye||(Ye=Ee,$e.push(tt)),Ee.lastPointOfContour?((Ee.nextPointOnContour=Ye).prevPointOnContour=Ee,Ye=void 0):(Ze=Je[tt+1],(Ee.nextPointOnContour=Ze).prevPointOnContour=Ee);if(!we.inhibitGridFit){if(xe.DEBUG){console.log("PROCESSING GLYPH",we.stack);for(var rt=0;rt<Ke;rt++)console.log(rt,Je[rt].x,Je[rt].y)}if(Je.push(new E(0,0),new E(Math.round(je.advanceWidth*Se),0)),vr(we),Je.length-=2,xe.DEBUG){console.log("FINISHED GLYPH",we.stack);for(var ot=0;ot<Ke;ot++)console.log(ot,Je[ot].x,Je[ot].y)}}},vr=function(je){var we=je.prog;if(we){var Se,Te=we.length;for(je.ip=0;je.ip<Te;je.ip++){if(xe.DEBUG&&je.step++,!(Se=uo[we[je.ip]]))throw new Error("unknown instruction: 0x"+Number(we[je.ip]).toString(16));Se(je)}}},uo=[Jt.bind(void 0,io),Jt.bind(void 0,so),Kt.bind(void 0,io),Kt.bind(void 0,so),$t.bind(void 0,io),$t.bind(void 0,so),er.bind(void 0,0),er.bind(void 0,1),tr.bind(void 0,0),tr.bind(void 0,1),function(je){var we=(Se=je.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(je.step,"SPVFS[]",we,Se),je.pv=je.dpv=qt(Se,we)},function(je){var we=(Se=je.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(je.step,"SPVFS[]",we,Se),je.fv=qt(Se,we)},function(je){var we=je.stack,Se=je.pv;xe.DEBUG&&console.log(je.step,"GPV[]"),we.push(16384*Se.x),we.push(16384*Se.y)},function(je){var we=je.stack,Se=je.fv;xe.DEBUG&&console.log(je.step,"GFV[]"),we.push(16384*Se.x),we.push(16384*Se.y)},function(je){je.fv=je.pv,xe.DEBUG&&console.log(je.step,"SFVTPV[]")},function(je){var we=(Ye=je.stack).pop(),Se=Ye.pop(),Te=Ye.pop(),Ee=Ye.pop(),Ye=Ye.pop(),Ze=je.z0,Qe=je.z1,Ke=Ze[we],Je=(Ze=Ze[Se],Qe[Te]),$e=(Qe=Qe[Ee],je=je.z2[Ye],we=(xe.DEBUG&&console.log("ISECT[], ",we,Se,Te,Ee,Ye),Ke.x),Se=Ke.y,Te=Ze.x,Ee=Ze.y,Ye=Je.x,Ke=Je.y,Ze=Qe.x,Je=Qe.y,Qe=(we-Te)*(Ke-Je)-(Se-Ee)*(Ye-Ze),we*Ee-Se*Te),et=Ye*Je-Ke*Ze;je.x=($e*(Ye-Ze)-et*(we-Te))/Qe,je.y=($e*(Ke-Je)-et*(Se-Ee))/Qe},function(je){je.rp0=je.stack.pop(),xe.DEBUG&&console.log(je.step,"SRP0[]",je.rp0)},function(je){je.rp1=je.stack.pop(),xe.DEBUG&&console.log(je.step,"SRP1[]",je.rp1)},function(je){je.rp2=je.stack.pop(),xe.DEBUG&&console.log(je.step,"SRP2[]",je.rp2)},function(je){var we=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"SZP0[]",we),je.zp0=we){case 0:je.tZone||Zt(je),je.z0=je.tZone;break;case 1:je.z0=je.gZone;break;default:throw new Error("Invalid zone pointer")}},function(je){var we=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"SZP1[]",we),je.zp1=we){case 0:je.tZone||Zt(je),je.z1=je.tZone;break;case 1:je.z1=je.gZone;break;default:throw new Error("Invalid zone pointer")}},function(je){var we=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"SZP2[]",we),je.zp2=we){case 0:je.tZone||Zt(je),je.z2=je.tZone;break;case 1:je.z2=je.gZone;break;default:throw new Error("Invalid zone pointer")}},function(je){var we=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"SZPS[]",we),je.zp0=je.zp1=je.zp2=we){case 0:je.tZone||Zt(je),je.z0=je.z1=je.z2=je.tZone;break;case 1:je.z0=je.z1=je.z2=je.gZone;break;default:throw new Error("Invalid zone pointer")}},function(je){je.loop=je.stack.pop(),xe.DEBUG&&console.log(je.step,"SLOOP[]",je.loop)},function(je){xe.DEBUG&&console.log(je.step,"RTG[]"),je.round=Nt},function(je){xe.DEBUG&&console.log(je.step,"RTHG[]"),je.round=Gt},function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"SMD[]",we),je.minDis=we/64},function(je){xe.DEBUG&&console.log(je.step,"ELSE[]"),Qt(je,!1)},function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"JMPR[]",we),je.ip+=we-1},function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"SCVTCI[]",we),je.cvCutIn=we/64},void 0,void 0,function(je){var we=je.stack;xe.DEBUG&&console.log(je.step,"DUP[]"),we.push(we[we.length-1])},rr,function(je){xe.DEBUG&&console.log(je.step,"CLEAR[]"),je.stack.length=0},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"SWAP[]"),we.push(Se),we.push(Te)},function(je){var we=je.stack;xe.DEBUG&&console.log(je.step,"DEPTH[]"),we.push(we.length)},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"CINDEX[]",Se),we.push(we[we.length-Se])},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"MINDEX[]",Se),we.push(we.splice(we.length-Se,1)[0])},void 0,void 0,void 0,function(je){var we=(Te=je.stack).pop(),Se=Te.pop(),Te=(xe.DEBUG&&console.log(je.step,"LOOPCALL[]",we,Se),je.ip),Ee=je.prog;je.prog=je.funcs[we];for(var Ye=0;Ye<Se;Ye++)vr(je),xe.DEBUG&&console.log(++je.step,Ye+1<Se?"next loopcall":"done loopcall",Ye);je.ip=Te,je.prog=Ee},function(je){var we=je.stack.pop(),Se=(xe.DEBUG&&console.log(je.step,"CALL[]",we),je.ip),Te=je.prog;je.prog=je.funcs[we],vr(je),je.ip=Se,je.prog=Te,xe.DEBUG&&console.log(++je.step,"returning from",we)},function(je){if("fpgm"!==je.env)throw new Error("FDEF not allowed here");var we=je.stack,Se=je.prog,Te=je.ip,Ee=(we=we.pop(),Te);for(xe.DEBUG&&console.log(je.step,"FDEF[]",we);45!==Se[++Te];);je.ip=Te,je.funcs[we]=Se.slice(Ee+1,Te)},void 0,or.bind(void 0,0),or.bind(void 0,1),nr.bind(void 0,io),nr.bind(void 0,so),sr.bind(void 0,0),sr.bind(void 0,1),ir.bind(void 0,0),ir.bind(void 0,1),ar.bind(void 0,0),ar.bind(void 0,1),function(je){for(var we=je.stack,Se=je.loop,Te=je.fv,Ee=we.pop()/64,Ye=je.z2;Se--;){var Ze=we.pop(),Qe=Ye[Ze];xe.DEBUG&&console.log(je.step,(1<je.loop?"loop "+(je.loop-Se)+": ":"")+"SHPIX[]",Ze,Ee),Te.setRelative(Qe,Qe,Ee),Te.touch(Qe)}je.loop=1},function(je){for(var we=je.stack,Se=je.rp1,Te=je.rp2,Ee=je.loop,Ye=je.z0[Se],Ze=je.z1[Te],Qe=je.fv,Ke=je.dpv,Je=je.z2;Ee--;){var $e=we.pop(),et=Je[$e];xe.DEBUG&&console.log(je.step,(1<je.loop?"loop "+(je.loop-Ee)+": ":"")+"IP[]",$e,Se,"<->",Te),Qe.interpolate(et,Ye,Ze,Ke),Qe.touch(et)}je.loop=1},lr.bind(void 0,0),lr.bind(void 0,1),function(je){for(var we=je.stack,Se=je.rp0,Te=je.z0[Se],Ee=je.loop,Ye=je.fv,Ze=je.pv,Qe=je.z1;Ee--;){var Ke=we.pop(),Je=Qe[Ke];xe.DEBUG&&console.log(je.step,(1<je.loop?"loop "+(je.loop-Ee)+": ":"")+"ALIGNRP[]",Ke),Ye.setRelative(Je,Te,0,Ze),Ye.touch(Je)}je.loop=1},function(je){xe.DEBUG&&console.log(je.step,"RTDG[]"),je.round=Bt},ur.bind(void 0,0),ur.bind(void 0,1),function(je){var we=je.prog,Se=je.ip,Te=je.stack,Ee=we[++Se];xe.DEBUG&&console.log(je.step,"NPUSHB[]",Ee);for(var Ye=0;Ye<Ee;Ye++)Te.push(we[++Se]);je.ip=Se},function(je){var we=je.ip,Se=je.prog,Te=je.stack,Ee=Se[++we];xe.DEBUG&&console.log(je.step,"NPUSHW[]",Ee);for(var Ye=0;Ye<Ee;Ye++){var Ze=Se[++we]<<8|Se[++we];32768&Ze&&(Ze=-(1+(65535^Ze))),Te.push(Ze)}je.ip=we},function(je){var we=je.stack,Se=(Se=je.store)||(je.store=[]),Te=we.pop();we=we.pop();xe.DEBUG&&console.log(je.step,"WS",Te,we),Se[we]=Te},function(je){var we=je.stack,Se=je.store,Te=we.pop();je=(xe.DEBUG&&console.log(je.step,"RS",Te),Se&&Se[Te]||0);we.push(je)},function(je){var we=(Se=je.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(je.step,"WCVTP",we,Se),je.cvt[Se]=we/64},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"RCVT",Se),we.push(64*je.cvt[Se])},cr.bind(void 0,0),cr.bind(void 0,1),void 0,dr.bind(void 0,0),dr.bind(void 0,1),function(je){xe.DEBUG&&console.log(je.step,"MPPEM[]"),je.stack.push(je.ppem)},void 0,function(je){xe.DEBUG&&console.log(je.step,"FLIPON[]"),je.autoFlip=!0},void 0,void 0,function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"LT[]",Se,Te),we.push(Te<Se?1:0)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"LTEQ[]",Se,Te),we.push(Te<=Se?1:0)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"GT[]",Se,Te),we.push(Se<Te?1:0)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"GTEQ[]",Se,Te),we.push(Se<=Te?1:0)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"EQ[]",Se,Te),we.push(Se===Te?1:0)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"NEQ[]",Se,Te),we.push(Se!==Te?1:0)},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"ODD[]",Se),we.push(Math.trunc(Se)%2?1:0)},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"EVEN[]",Se),we.push(Math.trunc(Se)%2?0:1)},function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"IF[]",we),we||(Qt(je,!0),xe.DEBUG&&console.log(je.step,"EIF[]"))},function(je){xe.DEBUG&&console.log(je.step,"EIF[]")},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"AND[]",Se,Te),we.push(Se&&Te?1:0)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"OR[]",Se,Te),we.push(Se||Te?1:0)},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"NOT[]",Se),we.push(Se?0:1)},hr.bind(void 0,1),function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"SDB[]",we),je.deltaBase=we},function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"SDS[]",we),je.deltaShift=Math.pow(.5,we)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"ADD[]",Se,Te),we.push(Te+Se)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"SUB[]",Se,Te),we.push(Te-Se)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"DIV[]",Se,Te),we.push(64*Te/Se)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"MUL[]",Se,Te),we.push(Te*Se/64)},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"ABS[]",Se),we.push(Math.abs(Se))},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"NEG[]",Se),we.push(-Se)},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"FLOOR[]",Se),we.push(64*Math.floor(Se/64))},function(je){var we=je.stack,Se=we.pop();xe.DEBUG&&console.log(je.step,"CEILING[]",Se),we.push(64*Math.ceil(Se/64))},fr.bind(void 0,0),fr.bind(void 0,1),fr.bind(void 0,2),fr.bind(void 0,3),void 0,void 0,void 0,void 0,function(je){var we=(Se=je.stack).pop(),Se=Se.pop();xe.DEBUG&&console.log(je.step,"WCVTF[]",we,Se),je.cvt[Se]=we*je.ppem/je.font.unitsPerEm},hr.bind(void 0,2),hr.bind(void 0,3),pr.bind(void 0,1),pr.bind(void 0,2),pr.bind(void 0,3),function(je){var we,Se=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"SROUND[]",Se),je.round=Ht,192&Se){case 0:we=.5;break;case 64:we=1;break;case 128:we=2;break;default:throw new Error("invalid SROUND value")}switch(je.srPeriod=we,48&Se){case 0:je.srPhase=0;break;case 16:je.srPhase=.25*we;break;case 32:je.srPhase=.5*we;break;case 48:je.srPhase=.75*we;break;default:throw new Error("invalid SROUND value")}je.srThreshold=0===(Se&=15)?0:(Se/8-.5)*we},function(je){var we,Se=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"S45ROUND[]",Se),je.round=Ht,192&Se){case 0:we=Math.sqrt(2)/2;break;case 64:we=Math.sqrt(2);break;case 128:we=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(je.srPeriod=we,48&Se){case 0:je.srPhase=0;break;case 16:je.srPhase=.25*we;break;case 32:je.srPhase=.5*we;break;case 48:je.srPhase=.75*we;break;default:throw new Error("invalid S45ROUND value")}je.srThreshold=0===(Se&=15)?0:(Se/8-.5)*we},void 0,void 0,function(je){xe.DEBUG&&console.log(je.step,"ROFF[]"),je.round=Ut},void 0,function(je){xe.DEBUG&&console.log(je.step,"RUTG[]"),je.round=Vt},function(je){xe.DEBUG&&console.log(je.step,"RDTG[]"),je.round=zt},rr,rr,void 0,void 0,void 0,void 0,void 0,function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"SCANCTRL[]",we)},mr.bind(void 0,0),mr.bind(void 0,1),function(je){var we=je.stack,Se=we.pop(),Te=0;xe.DEBUG&&console.log(je.step,"GETINFO[]",Se),1&Se&&(Te=35),32&Se&&(Te|=4096),we.push(Te)},void 0,function(je){var we=je.stack,Se=we.pop(),Te=we.pop(),Ee=we.pop();xe.DEBUG&&console.log(je.step,"ROLL[]"),we.push(Te),we.push(Se),we.push(Ee)},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"MAX[]",Se,Te),we.push(Math.max(Te,Se))},function(je){var we=je.stack,Se=we.pop(),Te=we.pop();xe.DEBUG&&console.log(je.step,"MIN[]",Se,Te),we.push(Math.min(Te,Se))},function(je){var we=je.stack.pop();xe.DEBUG&&console.log(je.step,"SCANTYPE[]",we)},function(je){var we=je.stack.pop(),Se=je.stack.pop();switch(xe.DEBUG&&console.log(je.step,"INSTCTRL[]",we,Se),we){case 1:return void(je.inhibitGridFit=!!Se);case 2:return void(je.ignoreCvt=!!Se);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,k.bind(void 0,1),k.bind(void 0,2),k.bind(void 0,3),k.bind(void 0,4),k.bind(void 0,5),k.bind(void 0,6),k.bind(void 0,7),k.bind(void 0,8),C.bind(void 0,1),C.bind(void 0,2),C.bind(void 0,3),C.bind(void 0,4),C.bind(void 0,5),C.bind(void 0,6),C.bind(void 0,7),C.bind(void 0,8),O.bind(void 0,0,0,0,0,0),O.bind(void 0,0,0,0,0,1),O.bind(void 0,0,0,0,0,2),O.bind(void 0,0,0,0,0,3),O.bind(void 0,0,0,0,1,0),O.bind(void 0,0,0,0,1,1),O.bind(void 0,0,0,0,1,2),O.bind(void 0,0,0,0,1,3),O.bind(void 0,0,0,1,0,0),O.bind(void 0,0,0,1,0,1),O.bind(void 0,0,0,1,0,2),O.bind(void 0,0,0,1,0,3),O.bind(void 0,0,0,1,1,0),O.bind(void 0,0,0,1,1,1),O.bind(void 0,0,0,1,1,2),O.bind(void 0,0,0,1,1,3),O.bind(void 0,0,1,0,0,0),O.bind(void 0,0,1,0,0,1),O.bind(void 0,0,1,0,0,2),O.bind(void 0,0,1,0,0,3),O.bind(void 0,0,1,0,1,0),O.bind(void 0,0,1,0,1,1),O.bind(void 0,0,1,0,1,2),O.bind(void 0,0,1,0,1,3),O.bind(void 0,0,1,1,0,0),O.bind(void 0,0,1,1,0,1),O.bind(void 0,0,1,1,0,2),O.bind(void 0,0,1,1,0,3),O.bind(void 0,0,1,1,1,0),O.bind(void 0,0,1,1,1,1),O.bind(void 0,0,1,1,1,2),O.bind(void 0,0,1,1,1,3),O.bind(void 0,1,0,0,0,0),O.bind(void 0,1,0,0,0,1),O.bind(void 0,1,0,0,0,2),O.bind(void 0,1,0,0,0,3),O.bind(void 0,1,0,0,1,0),O.bind(void 0,1,0,0,1,1),O.bind(void 0,1,0,0,1,2),O.bind(void 0,1,0,0,1,3),O.bind(void 0,1,0,1,0,0),O.bind(void 0,1,0,1,0,1),O.bind(void 0,1,0,1,0,2),O.bind(void 0,1,0,1,0,3),O.bind(void 0,1,0,1,1,0),O.bind(void 0,1,0,1,1,1),O.bind(void 0,1,0,1,1,2),O.bind(void 0,1,0,1,1,3),O.bind(void 0,1,1,0,0,0),O.bind(void 0,1,1,0,0,1),O.bind(void 0,1,1,0,0,2),O.bind(void 0,1,1,0,0,3),O.bind(void 0,1,1,0,1,0),O.bind(void 0,1,1,0,1,1),O.bind(void 0,1,1,0,1,2),O.bind(void 0,1,1,0,1,3),O.bind(void 0,1,1,1,0,0),O.bind(void 0,1,1,1,0,1),O.bind(void 0,1,1,1,0,2),O.bind(void 0,1,1,1,0,3),O.bind(void 0,1,1,1,1,0),O.bind(void 0,1,1,1,1,1),O.bind(void 0,1,1,1,1,2),O.bind(void 0,1,1,1,1,3)],co=Array.from||function(je){return je.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function A(xe){(xe=xe||{}).empty||(j(xe.familyName,"When creating a new Font object, familyName is required."),j(xe.styleName,"When creating a new Font object, styleName is required."),j(xe.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),j(xe.ascender,"When creating a new Font object, ascender is required."),j(xe.descender,"When creating a new Font object, descender is required."),j(xe.descender<0,"Descender should be negative (e.g. -512)."),(this||je).names={fontFamily:{en:xe.familyName||" "},fontSubfamily:{en:xe.styleName||" "},fullName:{en:xe.fullName||xe.familyName+" "+xe.styleName},postScriptName:{en:xe.postScriptName||(xe.familyName+xe.styleName).replace(/\s/g,"")},designer:{en:xe.designer||" "},designerURL:{en:xe.designerURL||" "},manufacturer:{en:xe.manufacturer||" "},manufacturerURL:{en:xe.manufacturerURL||" "},license:{en:xe.license||" "},licenseURL:{en:xe.licenseURL||" "},version:{en:xe.version||"Version 0.1"},description:{en:xe.description||" "},copyright:{en:xe.copyright||" "},trademark:{en:xe.trademark||" "}},(this||je).unitsPerEm=xe.unitsPerEm||1e3,(this||je).ascender=xe.ascender,(this||je).descender=xe.descender,(this||je).createdTimestamp=xe.createdTimestamp,(this||je).tables={os2:{usWeightClass:xe.weightClass||(this||je).usWeightClasses.MEDIUM,usWidthClass:xe.widthClass||(this||je).usWidthClasses.MEDIUM,fsSelection:xe.fsSelection||(this||je).fsSelectionValues.REGULAR}}),(this||je).supported=!0,(this||je).glyphs=new Lr.GlyphSet(this||je,xe.glyphs||[]),(this||je).encoding=new Me(this||je),(this||je).position=new kt(this||je),(this||je).substitution=new i(this||je),(this||je).tables=(this||je).tables||{},Object.defineProperty(this||je,"hinting",{get:function(){return(this||je)._hinting||("truetype"===(this||je).outlinesFormat?(this||je)._hinting=new Ft(this||je):void 0)}})}function jr(je,xe){var we,Se=JSON.stringify(je),Te=256;for(we in xe){var Ee=parseInt(we);if(Ee&&!(Ee<256)){if(JSON.stringify(xe[we])===Se)return Ee;Te<=Ee&&(Te=Ee+1)}}return xe[Te]=je,Te}A.prototype.hasChar=function(xe){return null!==(this||je).encoding.charToGlyphIndex(xe)},A.prototype.charToGlyphIndex=function(xe){return(this||je).encoding.charToGlyphIndex(xe)},A.prototype.charToGlyph=function(xe){xe=this.charToGlyphIndex(xe);return(this||je).glyphs.get(xe)||(this||je).glyphs.get(0)},A.prototype.stringToGlyphs=function(xe,we){we=we||(this||je).defaultRenderOptions;for(var Se=co(xe),Te=[],Ee=0;Ee<Se.length;Ee+=1){var Ye=Se[Ee];Te.push(this.charToGlyphIndex(Ye))}var Ze=Te.length;if(we.features){xe=we.script||(this||je).substitution.getDefaultScriptName();var Qe=[];we.features.liga&&(Qe=Qe.concat((this||je).substitution.getFeature("liga",xe,we.language))),we.features.rlig&&(Qe=Qe.concat((this||je).substitution.getFeature("rlig",xe,we.language)));for(var Ke=0;Ke<Ze;Ke+=1)for(var Je=0;Je<Qe.length;Je++){for(var $e=Qe[Je],et=$e.sub,tt=et.length,rt=0;rt<tt&&et[rt]===Te[Ke+rt];)rt++;rt===tt&&(Te.splice(Ke,tt,$e.by),Ze=Ze-tt+1)}}for(var ot=new Array(Ze),nt=(this||je).glyphs.get(0),st=0;st<Ze;st+=1)ot[st]=(this||je).glyphs.get(Te[st])||nt;return ot},A.prototype.nameToGlyphIndex=function(xe){return(this||je).glyphNames.nameToGlyphIndex(xe)},A.prototype.nameToGlyph=function(xe){xe=this.nameToGlyphIndex(xe);return(this||je).glyphs.get(xe)||(this||je).glyphs.get(0)},A.prototype.glyphIndexToName=function(xe){return(this||je).glyphNames.glyphIndexToName?(this||je).glyphNames.glyphIndexToName(xe):""},A.prototype.getKerningValue=function(xe,we){xe=xe.index||xe,we=we.index||we;var Se=(this||je).position.defaultKerningTables;return Se?(this||je).position.getKerningValue(Se,xe,we):(this||je).kerningPairs[xe+","+we]||0},A.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},A.prototype.forEachGlyph=function(xe,we,Se,Te,Ee,Ye){we=void 0!==we?we:0,Se=void 0!==Se?Se:0,Ee=Ee||(this||je).defaultRenderOptions;var Ze,Qe=1/(this||je).unitsPerEm*(Te=void 0!==Te?Te:72),Ke=this.stringToGlyphs(xe,Ee);Ee.kerning&&(xe=Ee.script||(this||je).position.getDefaultScriptName(),Ze=(this||je).position.getKerningTables(xe,Ee.language));for(var Je=0;Je<Ke.length;Je+=1){var $e=Ke[Je];Ye.call(this||je,$e,we,Se,Te,Ee),$e.advanceWidth&&(we+=$e.advanceWidth*Qe),Ee.kerning&&Je<Ke.length-1&&(we+=(Ze?(this||je).position.getKerningValue(Ze,$e.index,Ke[Je+1].index):this.getKerningValue($e,Ke[Je+1]))*Qe),Ee.letterSpacing?we+=Ee.letterSpacing*Te:Ee.tracking&&(we+=Ee.tracking/1e3*Te)}return we},A.prototype.getPath=function(xe,we,Se,Te,Ee){var Ye=new h;return this.forEachGlyph(xe,we,Se,Te,Ee,(function(xe,we,Se,Te){xe=xe.getPath(we,Se,Te,Ee,this||je);Ye.extend(xe)})),Ye},A.prototype.getPaths=function(xe,we,Se,Te,Ee){var Ye=[];return this.forEachGlyph(xe,we,Se,Te,Ee,(function(xe,we,Se,Te){xe=xe.getPath(we,Se,Te,Ee,this||je);Ye.push(xe)})),Ye},A.prototype.getAdvanceWidth=function(je,xe,we){return this.forEachGlyph(je,0,0,xe,we,(function(){}))},A.prototype.draw=function(je,xe,we,Se,Te,Ee){this.getPath(xe,we,Se,Te,Ee).draw(je)},A.prototype.drawPoints=function(je,xe,we,Se,Te,Ee){this.forEachGlyph(xe,we,Se,Te,Ee,(function(xe,we,Se,Te){xe.drawPoints(je,we,Se,Te)}))},A.prototype.drawMetrics=function(je,xe,we,Se,Te,Ee){this.forEachGlyph(xe,we,Se,Te,Ee,(function(xe,we,Se,Te){xe.drawMetrics(je,we,Se,Te)}))},A.prototype.getEnglishName=function(xe){xe=(this||je).names[xe];if(xe)return xe.en},A.prototype.validate=function(){var xe=this||je;function e(je){je=xe.getEnglishName(je);je&&je.trim().length}e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),(this||je).unitsPerEm},A.prototype.toTables=function(){return oo.fontToTable(this||je)},A.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},A.prototype.toArrayBuffer=function(){for(var je=this.toTables().encode(),xe=new ArrayBuffer(je.length),we=new Uint8Array(xe),Se=0;Se<je.length;Se++)we[Se]=je[Se];return xe},A.prototype.download=function(je){var xe=this.getEnglishName("fontFamily"),Se=this.getEnglishName("fontSubfamily"),Te=(je=je||xe.replace(/\s/g,"")+"-"+Se+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,Te.byteLength,(function(xe){xe.root.getFile(je,{create:!0},(function(je){je.createWriter((function(xe){var we=new DataView(Te);we=new Blob([we],{type:"font/opentype"});xe.write(we),xe.addEventListener("writeend",(function(){location.href=je.toURL()}),!1)}))}))}),(function(je){throw new Error(je.name+": "+je.message)}))):(xe=we("fs"),Se=function(je){for(var xe=new Ee(je.byteLength),we=new Uint8Array(je),Se=0;Se<xe.length;++Se)xe[Se]=we[Se];return xe}(Te),xe.writeFileSync(je,Se))},A.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},A.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},A.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var ho={make:function(je,xe){var we=new Xt.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:je.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:je.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*je.axes.length}]);we.offsetToData=we.sizeOf();for(var Se,Te,Ee,Ye=0;Ye<je.axes.length;Ye++)we.fields=we.fields.concat((Se=Ye,Te=je.axes[Ye],Ee=xe,Ee=jr(Te.name,xe),[{name:"tag_"+Se,type:"TAG",value:Te.tag},{name:"minValue_"+Se,type:"FIXED",value:Te.minValue<<16},{name:"defaultValue_"+Se,type:"FIXED",value:Te.defaultValue<<16},{name:"maxValue_"+Se,type:"FIXED",value:Te.maxValue<<16},{name:"flags_"+Se,type:"USHORT",value:0},{name:"nameID_"+Se,type:"USHORT",value:Ee}]));for(var Ze=0;Ze<je.instances.length;Ze++)we.fields=we.fields.concat(function(je,xe,we,Se){for(var Te=[{name:"nameID_"+je,type:"USHORT",value:jr(xe.name,Se)},{name:"flags_"+je,type:"USHORT",value:0}],Ee=0;Ee<we.length;++Ee){var Ye=we[Ee].tag;Te.push({name:"axis_"+je+" "+Ye,type:"FIXED",value:xe.coordinates[Ye]<<16})}return Te}(Ze,je.instances[Ze],je.axes,xe));return we},parse:function(je,xe,we){for(var Se,Te,Ee,Ye,Ze=new _r.Parser(je,xe),Qe=Ze.parseULong(),Ke=(ht.argument(65536===Qe,"Unsupported fvar table version."),Ze.parseOffset16()),Je=(Ze.skip("uShort",1),Ze.parseUShort()),$e=Ze.parseUShort(),et=Ze.parseUShort(),tt=Ze.parseUShort(),rt=[],ot=0;ot<Je;ot++)rt.push((Se=je,Te=xe+Ke+ot*$e,Ee=we,void 0,Ye={},Se=new _r.Parser(Se,Te),Ye.tag=Se.parseTag(),Ye.minValue=Se.parseFixed(),Ye.defaultValue=Se.parseFixed(),Ye.maxValue=Se.parseFixed(),Se.skip("uShort",1),Ye.name=Ee[Se.parseUShort()]||{},Ye));for(var nt=[],st=xe+Ke+Je*$e,it=0;it<et;it++)nt.push(function(je,xe,we,Se){var Te={},Ee=new _r.Parser(je,xe);Te.name=Se[Ee.parseUShort()]||{},Ee.skip("uShort",1),Te.coordinates={};for(var Ye=0;Ye<we.length;++Ye)Te.coordinates[we[Ye].tag]=Ee.parseFixed();return Te}(je,st+it*tt,rt,we));return{axes:rt,instances:nt}}},fo=new Array(10);fo[1]=function(){var xe=(this||je).offset+(this||je).relativeOffset,we=this.parseUShort();return 1===we?{posFormat:1,coverage:this.parsePointer(u.coverage),value:this.parseValueRecord()}:2===we?{posFormat:2,coverage:this.parsePointer(u.coverage),values:this.parseValueRecordList()}:void ht.assert(!1,"0x"+xe.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},fo[2]=function(){var xe,we,Se,Te,Ee=(this||je).offset+(this||je).relativeOffset,Ye=this.parseUShort(),Ze=(Ee=(ht.assert(1===Ye||2===Ye,"0x"+Ee.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(u.coverage)),this.parseUShort()),Qe=this.parseUShort();return 1===Ye?{posFormat:Ye,coverage:Ee,valueFormat1:Ze,valueFormat2:Qe,pairSets:this.parseList(u.pointer(u.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Ze),value2:this.parseValueRecord(Qe)}}))))}:2===Ye?(xe=this.parsePointer(u.classDef),we=this.parsePointer(u.classDef),Se=this.parseUShort(),Te=this.parseUShort(),{posFormat:Ye,coverage:Ee,valueFormat1:Ze,valueFormat2:Qe,classDef1:xe,classDef2:we,class1Count:Se,class2Count:Te,classRecords:this.parseList(Se,u.list(Te,(function(){return{value1:this.parseValueRecord(Ze),value2:this.parseValueRecord(Qe)}})))}):void 0},fo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},fo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},fo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},fo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},fo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},fo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},fo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var po=new Array(10);var mo={parse:function(je,xe){return xe=(je=new u(je,xe=xe||0)).parseVersion(1),ht.argument(1===xe||1.1===xe,"Unsupported GPOS table version "+xe),1===xe?{version:xe,scripts:je.parseScriptList(),features:je.parseFeatureList(),lookups:je.parseLookupList(fo)}:{version:xe,scripts:je.parseScriptList(),features:je.parseFeatureList(),lookups:je.parseLookupList(fo),variations:je.parseFeatureVariationsList()}},make:function(je){return new Xt.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Xt.ScriptList(je.scripts)},{name:"features",type:"TABLE",value:new Xt.FeatureList(je.features)},{name:"lookups",type:"TABLE",value:new Xt.LookupList(je.lookups,po)}])}};var yo={parse:function(je,xe){if(je=new _r.Parser(je,xe),0===(xe=je.parseUShort())){var we=je,Se={},Te=(we.skip("uShort"),we.parseUShort()),Ee=(ht.argument(0===Te,"Unsupported kern sub-table version."),we.skip("uShort",2),we.parseUShort());we.skip("uShort",3);for(var Ye=0;Ye<Ee;Ye+=1){var Ze=we.parseUShort(),Qe=we.parseUShort(),Ke=we.parseShort();Se[Ze+","+Qe]=Ke}return Se}if(1!==xe)throw new Error("Unsupported kern table version ("+xe+").");var Je=je,$e={};Te=(Je.skip("uShort"),1<Je.parseULong()&&console.warn("Only the first kern subtable is supported."),Je.skip("uLong"),255&Je.parseUShort());if(Je.skip("uShort"),0==Te){var et=Je.parseUShort();Je.skip("uShort",3);for(var tt=0;tt<et;tt+=1){var rt=Je.parseUShort(),ot=Je.parseUShort(),nt=Je.parseShort();$e[rt+","+ot]=nt}}return $e}};var go={parse:function(je,xe,we,Se){for(var Te=new _r.Parser(je,xe),Ee=Se?Te.parseUShort:Te.parseULong,Ye=[],Ze=0;Ze<we+1;Ze+=1){var Qe=Ee.call(Te);Se&&(Qe*=2),Ye.push(Qe)}return Ye}};function Mr(je,xe){we("fs").readFile(je,(function(je,we){if(je)return xe(je.message);xe(null,Ot(we))}))}function kr(je,xe){var we=new XMLHttpRequest;we.open("get",je,!0),we.responseType="arraybuffer",we.onload=function(){return we.response?xe(null,we.response):xe("Font could not be loaded: "+we.statusText)},we.onerror=function(){xe("Font could not be loaded")},we.send()}function Cr(je,xe){for(var we=[],Se=12,Te=0;Te<xe;Te+=1){var Ee=_r.getTag(je,Se),Ye=_r.getULong(je,Se+4),Ze=_r.getULong(je,Se+8),Qe=_r.getULong(je,Se+12);we.push({tag:Ee,checksum:Ye,offset:Ze,length:Qe,compression:!1}),Se+=16}return we}function I(je,xe){if("WOFF"!==xe.compression)return{data:je,offset:xe.offset};je=new Uint8Array(je.buffer,xe.offset+2,xe.compressedLength-2);var we=new Uint8Array(xe.length);if(re(je,we),we.byteLength!==xe.length)throw new Error("Decompression error: "+xe.tag+" decompressed length doesn't match recorded length");return{data:new DataView(we.buffer,0),offset:0}}function Or(je){var xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot=new A({empty:!0}),nt=new DataView(je,0),st=[];je=_r.getTag(nt,0);if(je===String.fromCharCode(0,1,0,0)||"true"===je||"typ1"===je)ot.outlinesFormat="truetype",st=Cr(nt,Se=_r.getUShort(nt,4));else if("OTTO"===je)ot.outlinesFormat="cff",st=Cr(nt,Se=_r.getUShort(nt,4));else{if("wOFF"!==je)throw new Error("Unsupported OpenType signature "+je);var it=_r.getTag(nt,4);if(it===String.fromCharCode(0,1,0,0))ot.outlinesFormat="truetype";else{if("OTTO"!==it)throw new Error("Unsupported OpenType flavor "+je);ot.outlinesFormat="cff"}st=function(je,xe){for(var we=[],Se=44,Te=0;Te<xe;Te+=1){var Ee=_r.getTag(je,Se),Ye=_r.getULong(je,Se+4),Ze=_r.getULong(je,Se+8),Qe=_r.getULong(je,Se+12),Ke=void 0;Ke=Ze<Qe&&"WOFF";we.push({tag:Ee,offset:Ye,compression:Ke,compressedLength:Ze,length:Qe}),Se+=20}return we}(nt,Se=_r.getUShort(nt,12))}for(var dt=0;dt<Se;dt+=1){var ht=st[dt],ft=void 0;switch(ht.tag){case"cmap":ft=I(nt,ht),ot.tables.cmap=xr.parse(ft.data,ft.offset),ot.encoding=new ke(ot.tables.cmap);break;case"cvt ":ft=I(nt,ht),rt=new _r.Parser(ft.data,ft.offset),ot.tables.cvt=rt.parseShortList(ht.length/2);break;case"fvar":Ee=ht;break;case"fpgm":ft=I(nt,ht),rt=new _r.Parser(ft.data,ft.offset),ot.tables.fpgm=rt.parseByteList(ht.length);break;case"head":ft=I(nt,ht),ot.tables.head=Dr.parse(ft.data,ft.offset),ot.unitsPerEm=ot.tables.head.unitsPerEm,xe=ot.tables.head.indexToLocFormat;break;case"hhea":ft=I(nt,ht),ot.tables.hhea=Fr.parse(ft.data,ft.offset),ot.ascender=ot.tables.hhea.ascender,ot.descender=ot.tables.hhea.descender,ot.numberOfHMetrics=ot.tables.hhea.numberOfHMetrics;break;case"hmtx":Ke=ht;break;case"ltag":ft=I(nt,ht),we=Nr.parse(ft.data,ft.offset);break;case"maxp":ft=I(nt,ht),ot.tables.maxp=Br.parse(ft.data,ft.offset),ot.numGlyphs=ot.tables.maxp.numGlyphs;break;case"name":et=ht;break;case"OS/2":ft=I(nt,ht),ot.tables.os2=Qr.parse(ft.data,ft.offset);break;case"post":ft=I(nt,ht),ot.tables.post=Kr.parse(ft.data,ft.offset),ot.glyphNames=new Oe(ot.tables.post);break;case"prep":ft=I(nt,ht),rt=new _r.Parser(ft.data,ft.offset),ot.tables.prep=rt.parseByteList(ht.length);break;case"glyf":Ye=ht;break;case"loca":$e=ht;break;case"CFF ":Te=ht;break;case"kern":Je=ht;break;case"GPOS":Ze=ht;break;case"GSUB":Qe=ht;break;case"meta":tt=ht}}it=I(nt,et);if(ot.tables.name=Yr.parse(it.data,it.offset,we),ot.names=ot.tables.name,Ye&&$e){je=0===xe,it=I(nt,$e),it=go.parse(it.data,it.offset,ot.numGlyphs,je),je=I(nt,Ye);ot.glyphs=no.parse(je.data,je.offset,it,ot)}else{if(!Te)throw new Error("Font doesn't contain TrueType or CFF outlines.");je=I(nt,Te);Ir.parse(je.data,je.offset,ot)}it=I(nt,Ke);for(var pt=(Ur.parse(it.data,it.offset,ot.numberOfHMetrics,ot.numGlyphs,ot.glyphs),ot),mt=pt.tables.cmap.glyphIndexMap,yt=Object.keys(mt),gt=0;gt<yt.length;gt+=1){var wt,Dt=yt[gt],Xt=mt[Dt];(wt=pt.glyphs.get(Xt)).addUnicode(parseInt(Dt))}for(var Yt=0;Yt<pt.glyphs.length;Yt+=1)wt=pt.glyphs.get(Yt),pt.cffEncoding?pt.isCIDFont?wt.name="gid"+Yt:wt.name=pt.cffEncoding.charset[Yt]:pt.glyphNames.names&&(wt.name=pt.glyphNames.glyphIndexToName(Yt));return Je?(je=I(nt,Je),ot.kerningPairs=yo.parse(je.data,je.offset)):ot.kerningPairs={},Ze&&(it=I(nt,Ze),ot.tables.gpos=mo.parse(it.data,it.offset),ot.position.init()),Qe&&(je=I(nt,Qe),ot.tables.gsub=to.parse(je.data,je.offset)),Ee&&(it=I(nt,Ee),ot.tables.fvar=ho.parse(it.data,it.offset,ot.names)),tt&&(je=I(nt,tt),ot.tables.meta=ro.parse(je.data,je.offset),ot.metas=ot.tables.meta),ot}xe.Font=A,xe.Glyph=f,xe.Path=h,xe.BoundingBox=a,xe._parse=_r,xe.parse=Or,xe.load=function(je,xe){("undefined"==typeof window?Mr:kr)(je,(function(je,we){if(je)return xe(je);var Se;try{Se=Or(we)}catch(je){return xe(je,null)}return xe(null,Se)}))},xe.loadSync=function(je){return Or(Ot(we("fs").readFileSync(je)))},Object.defineProperty(xe,"__esModule",{value:!0})},"object"==typeof Te&&void 0!==Se?Ze(Te):"function"==typeof xe&&xe.amd?xe(["exports"],Ze):Ze(Ye.opentype={})}.call(this||je,we("buffer").Buffer)},{buffer:4,fs:2}],255:[function(xe,we,Se){!function(je){function s(je,xe){for(var we=0,Se=je.length-1;0<=Se;Se--){var Te=je[Se];"."===Te?je.splice(Se,1):".."===Te?(je.splice(Se,1),we++):we&&(je.splice(Se,1),we--)}if(xe)for(;we--;)je.unshift("..");return je}function i(je,xe){if(je.filter)return je.filter(xe);for(var we=[],Se=0;Se<je.length;Se++)xe(je[Se],Se,je)&&we.push(je[Se]);return we}Se.resolve=function(){for(var xe="",we=!1,Se=arguments.length-1;-1<=Se&&!we;Se--){var Te=0<=Se?arguments[Se]:je.cwd();if("string"!=typeof Te)throw new TypeError("Arguments to path.resolve must be strings");Te&&(xe=Te+"/"+xe,we="/"===Te.charAt(0))}return(we?"/":"")+(xe=s(i(xe.split("/"),(function(je){return!!je})),!we).join("/"))||"."},Se.normalize=function(je){var we=Se.isAbsolute(je),Te="/"===xe(je,-1);return(je=(je=s(i(je.split("/"),(function(je){return!!je})),!we).join("/"))||we?je:".")&&Te&&(je+="/"),(we?"/":"")+je},Se.isAbsolute=function(je){return"/"===je.charAt(0)},Se.join=function(){var je=Array.prototype.slice.call(arguments,0);return Se.normalize(i(je,(function(je,xe){if("string"!=typeof je)throw new TypeError("Arguments to path.join must be strings");return je})).join("/"))},Se.relative=function(je,xe){function r(je){for(var xe=0;xe<je.length&&""===je[xe];xe++);for(var we=je.length-1;0<=we&&""===je[we];we--);return we<xe?[]:je.slice(xe,we-xe+1)}je=Se.resolve(je).substr(1),xe=Se.resolve(xe).substr(1);for(var we=r(je.split("/")),Te=r(xe.split("/")),Ee=Math.min(we.length,Te.length),Ye=Ee,Ze=0;Ze<Ee;Ze++)if(we[Ze]!==Te[Ze]){Ye=Ze;break}var Qe=[];for(Ze=Ye;Ze<we.length;Ze++)Qe.push("..");return(Qe=Qe.concat(Te.slice(Ye))).join("/")},Se.sep="/",Se.delimiter=":",Se.dirname=function(je){if("string"!=typeof je&&(je+=""),0===je.length)return".";for(var xe=47===je.charCodeAt(0),we=-1,Se=!0,Te=je.length-1;1<=Te;--Te)if(47===je.charCodeAt(Te)){if(!Se){we=Te;break}}else Se=!1;return-1===we?xe?"/":".":xe&&1===we?"/":je.slice(0,we)},Se.basename=function(je,xe){je=function(je){"string"!=typeof je&&(je+="");for(var xe=0,we=-1,Se=!0,Te=je.length-1;0<=Te;--Te)if(47===je.charCodeAt(Te)){if(!Se){xe=Te+1;break}}else-1===we&&(Se=!1,we=Te+1);return-1===we?"":je.slice(xe,we)}(je);return xe&&je.substr(-1*xe.length)===xe?je.substr(0,je.length-xe.length):je},Se.extname=function(je){"string"!=typeof je&&(je+="");for(var xe=-1,we=0,Se=-1,Te=!0,Ee=0,Ye=je.length-1;0<=Ye;--Ye){var Ze=je.charCodeAt(Ye);if(47===Ze){if(Te)continue;we=Ye+1;break}-1===Se&&(Te=!1,Se=Ye+1),46===Ze?-1===xe?xe=Ye:1!==Ee&&(Ee=1):-1!==xe&&(Ee=-1)}return-1===xe||-1===Se||0===Ee||1===Ee&&xe===Se-1&&xe===we+1?"":je.slice(xe,Se)};var xe="b"==="ab".substr(-1)?function(je,xe,we){return je.substr(xe,we)}:function(je,xe,we){return xe<0&&(xe=je.length+xe),je.substr(xe,we)}}.call(this||je,xe("_process"))},{_process:256}],256:[function(xe,we,Se){var Te,Ee;we=we.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{Te="function"==typeof setTimeout?setTimeout:s}catch(xe){Te=s}try{Ee="function"==typeof clearTimeout?clearTimeout:i}catch(xe){Ee=i}function a(xe){if(Te===setTimeout)return setTimeout(xe,0);if((Te===s||!Te)&&setTimeout)return(Te=setTimeout)(xe,0);try{return Te(xe,0)}catch(we){try{return Te.call(null,xe,0)}catch(we){return Te.call(this||je,xe,0)}}}var Ye,Ze=[],Qe=!1,Ke=-1;function h(){Qe&&Ye&&(Qe=!1,Ye.length?Ze=Ye.concat(Ze):Ke=-1,Ze.length&&f())}function f(){if(!Qe){for(var xe=a(h),we=(Qe=!0,Ze.length);we;){for(Ye=Ze,Ze=[];++Ke<we;)Ye&&Ye[Ke].run();Ke=-1,we=Ze.length}Ye=null,Qe=!1,!function(xe){if(Ee===clearTimeout)return clearTimeout(xe);if((Ee===i||!Ee)&&clearTimeout)return(Ee=clearTimeout)(xe);try{Ee(xe)}catch(we){try{return Ee.call(null,xe)}catch(we){return Ee.call(this||je,xe)}}}(xe)}}function p(xe,we){(this||je).fun=xe,(this||je).array=we}function m(){}we.nextTick=function(je){var xe=new Array(arguments.length-1);if(1<arguments.length)for(var we=1;we<arguments.length;we++)xe[we-1]=arguments[we];Ze.push(new p(je,xe)),1!==Ze.length||Qe||a(f)},p.prototype.run=function(){(this||je).fun.apply(null,(this||je).array)},we.title="browser",we.browser=!0,we.env={},we.argv=[],we.version="",we.versions={},we.on=m,we.addListener=m,we.once=m,we.off=m,we.removeListener=m,we.removeAllListeners=m,we.emit=m,we.prependListener=m,we.prependOnceListener=m,we.listeners=function(je){return[]},we.binding=function(je){throw new Error("process.binding is not supported")},we.cwd=function(){return"/"},we.chdir=function(je){throw new Error("process.chdir is not supported")},we.umask=function(){return 0}},{}],257:[function(xe,we,Se){we=function(xe){var we,Se=Object.prototype,Te=Se.hasOwnProperty,Ee="function"==typeof Symbol?Symbol:{},Ye=Ee.iterator||"@@iterator",Ze=Ee.asyncIterator||"@@asyncIterator",Qe=Ee.toStringTag||"@@toStringTag";function i(je,xe,Se,Te){var Ee,Ye,Ze,Qe;xe=xe&&xe.prototype instanceof y?xe:y,xe=Object.create(xe.prototype),Te=new S(Te||[]);return xe._invoke=(Ee=je,Ye=Se,Ze=Te,Qe=Ke,function(je,xe){if(Qe===$e)throw new Error("Generator is already running");if(Qe===et){if("throw"===je)throw xe;return E()}for(Ze.method=je,Ze.arg=xe;;){var Se=Ze.delegate;if(Se){Se=function e(je,xe){var Se=je.iterator[xe.method];if(Se===we){if(xe.delegate=null,"throw"===xe.method){if(je.iterator.return&&(xe.method="return",xe.arg=we,e(je,xe),"throw"===xe.method))return tt;xe.method="throw",xe.arg=new TypeError("The iterator does not provide a 'throw' method")}return tt}Se=c(Se,je.iterator,xe.arg);if("throw"===Se.type)return xe.method="throw",xe.arg=Se.arg,xe.delegate=null,tt;Se=Se.arg;if(!Se)return xe.method="throw",xe.arg=new TypeError("iterator result is not an object"),xe.delegate=null,tt;if(!Se.done)return Se;xe[je.resultName]=Se.value,xe.next=je.nextLoc,"return"!==xe.method&&(xe.method="next",xe.arg=we);xe.delegate=null;return tt}(Se,Ze);if(Se){if(Se===tt)continue;return Se}}if("next"===Ze.method)Ze.sent=Ze._sent=Ze.arg;else if("throw"===Ze.method){if(Qe===Ke)throw Qe=et,Ze.arg;Ze.dispatchException(Ze.arg)}else"return"===Ze.method&&Ze.abrupt("return",Ze.arg);Qe=$e;Se=c(Ee,Ye,Ze);if("normal"===Se.type){if(Qe=Ze.done?et:Je,Se.arg!==tt)return{value:Se.arg,done:Ze.done}}else"throw"===Se.type&&(Qe=et,Ze.method="throw",Ze.arg=Se.arg)}}),xe}function c(je,xe,we){try{return{type:"normal",arg:je.call(xe,we)}}catch(je){return{type:"throw",arg:je}}}xe.wrap=i;var Ke="suspendedStart",Je="suspendedYield",$e="executing",et="completed",tt={};function y(){}function a(){}function g(){}Ee={};var rt=(Ee[Ye]=function(){return this||je},Object.getPrototypeOf),ot=(rt=rt&&rt(rt(T([]))),rt&&rt!==Se&&Te.call(rt,Ye)&&(Ee=rt),g.prototype=y.prototype=Object.create(Ee));function _(je){["next","throw","return"].forEach((function(xe){je[xe]=function(je){return this._invoke(xe,je)}}))}function j(xe){var we;(this||je)._invoke=function(je,Se){function e(){return new Promise((function(we,Ee){!function t(je,we,Se,Ee){var Ye;je=c(xe[je],xe,we);if("throw"!==je.type)return(we=(Ye=je.arg).value)&&"object"==typeof we&&Te.call(we,"__await")?Promise.resolve(we.__await).then((function(je){t("next",je,Se,Ee)}),(function(je){t("throw",je,Se,Ee)})):Promise.resolve(we).then((function(je){Ye.value=je,Se(Ye)}),(function(je){return t("throw",je,Se,Ee)}));Ee(je.arg)}(je,Se,we,Ee)}))}return we=we?we.then(e,e):e()}}function x(xe){var we={tryLoc:xe[0]};1 in xe&&(we.catchLoc=xe[1]),2 in xe&&(we.finallyLoc=xe[2],we.afterLoc=xe[3]),(this||je).tryEntries.push(we)}function w(je){var xe=je.completion||{};xe.type="normal",delete xe.arg,je.completion=xe}function S(xe){(this||je).tryEntries=[{tryLoc:"root"}],xe.forEach(x,this||je),this.reset(!0)}function T(je){if(je){var xe,Se=je[Ye];if(Se)return Se.call(je);if("function"==typeof je.next)return je;if(!isNaN(je.length))return xe=-1,(Se=function e(){for(;++xe<je.length;)if(Te.call(je,xe))return e.value=je[xe],e.done=!1,e;return e.value=we,e.done=!0,e}).next=Se}return{next:E}}function E(){return{value:we,done:!0}}return(a.prototype=ot.constructor=g).constructor=a,g[Qe]=a.displayName="GeneratorFunction",xe.isGeneratorFunction=function(je){je="function"==typeof je&&je.constructor;return!!je&&(je===a||"GeneratorFunction"===(je.displayName||je.name))},xe.mark=function(je){return Object.setPrototypeOf?Object.setPrototypeOf(je,g):(je.__proto__=g,Qe in je||(je[Qe]="GeneratorFunction")),je.prototype=Object.create(ot),je},xe.awrap=function(je){return{__await:je}},_(j.prototype),j.prototype[Ze]=function(){return this||je},xe.AsyncIterator=j,xe.async=function(je,we,Se,Te){var Ee=new j(i(je,we,Se,Te));return xe.isGeneratorFunction(we)?Ee:Ee.next().then((function(je){return je.done?je.value:Ee.next()}))},_(ot),ot[Qe]="Generator",ot[Ye]=function(){return this||je},ot.toString=function(){return"[object Generator]"},xe.keys=function(je){var xe,we=[];for(xe in je)we.push(xe);return we.reverse(),function e(){for(;we.length;){var xe=we.pop();if(xe in je)return e.value=xe,e.done=!1,e}return e.done=!0,e}},xe.values=T,S.prototype={constructor:S,reset:function(xe){if((this||je).prev=0,(this||je).next=0,(this||je).sent=(this||je)._sent=we,(this||je).done=!1,(this||je).delegate=null,(this||je).method="next",(this||je).arg=we,(this||je).tryEntries.forEach(w),!xe)for(var Se in this||je)"t"===Se.charAt(0)&&Te.call(this||je,Se)&&!isNaN(+Se.slice(1))&&((this||je)[Se]=we)},stop:function(){(this||je).done=!0;var xe=(this||je).tryEntries[0].completion;if("throw"===xe.type)throw xe.arg;return(this||je).rval},dispatchException:function(xe){if((this||je).done)throw xe;var Se=this||je;function e(je,Te){return Ze.type="throw",Ze.arg=xe,Se.next=je,Te&&(Se.method="next",Se.arg=we),!!Te}for(var Ee=(this||je).tryEntries.length-1;0<=Ee;--Ee){var Ye=(this||je).tryEntries[Ee],Ze=Ye.completion;if("root"===Ye.tryLoc)return e("end");if(Ye.tryLoc<=(this||je).prev){var Qe=Te.call(Ye,"catchLoc"),Ke=Te.call(Ye,"finallyLoc");if(Qe&&Ke){if((this||je).prev<Ye.catchLoc)return e(Ye.catchLoc,!0);if((this||je).prev<Ye.finallyLoc)return e(Ye.finallyLoc)}else if(Qe){if((this||je).prev<Ye.catchLoc)return e(Ye.catchLoc,!0)}else{if(!Ke)throw new Error("try statement without catch or finally");if((this||je).prev<Ye.finallyLoc)return e(Ye.finallyLoc)}}}},abrupt:function(xe,we){for(var Se=(this||je).tryEntries.length-1;0<=Se;--Se){var Ee=(this||je).tryEntries[Se];if(Ee.tryLoc<=(this||je).prev&&Te.call(Ee,"finallyLoc")&&(this||je).prev<Ee.finallyLoc){var Ye=Ee;break}}var Ze=(Ye=Ye&&("break"===xe||"continue"===xe)&&Ye.tryLoc<=we&&we<=Ye.finallyLoc?null:Ye)?Ye.completion:{};return Ze.type=xe,Ze.arg=we,Ye?((this||je).method="next",(this||je).next=Ye.finallyLoc,tt):this.complete(Ze)},complete:function(xe,we){if("throw"===xe.type)throw xe.arg;return"break"===xe.type||"continue"===xe.type?(this||je).next=xe.arg:"return"===xe.type?((this||je).rval=(this||je).arg=xe.arg,(this||je).method="return",(this||je).next="end"):"normal"===xe.type&&we&&((this||je).next=we),tt},finish:function(xe){for(var we=(this||je).tryEntries.length-1;0<=we;--we){var Se=(this||je).tryEntries[we];if(Se.finallyLoc===xe)return this.complete(Se.completion,Se.afterLoc),w(Se),tt}},catch:function(xe){for(var we=(this||je).tryEntries.length-1;0<=we;--we){var Se,Te,Ee=(this||je).tryEntries[we];if(Ee.tryLoc===xe)return"throw"===(Se=Ee.completion).type&&(Te=Se.arg,w(Ee)),Te}throw new Error("illegal catch attempt")},delegateYield:function(xe,Se,Te){return(this||je).delegate={iterator:T(xe),resultName:Se,nextLoc:Te},"next"===(this||je).method&&((this||je).arg=we),tt}},xe}("object"==typeof we?we.exports:{});try{je.regeneratorRuntime=we}catch(xe){Function("r","regeneratorRuntime = r")(we)}},{}],258:[function(xe,we,Se){!function(xe){var we,Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e;function d(je){if("string"!=typeof je&&(je=String(je)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(je))throw new TypeError("Invalid character in header field name");return je.toLowerCase()}function h(je){return"string"!=typeof je?String(je):je}function f(je){var xe={next:function(){var xe=je.shift();return{done:void 0===xe,value:xe}}};return Se&&(xe[Symbol.iterator]=function(){return xe}),xe}function p(xe){(this||je).map={},xe instanceof p?xe.forEach((function(je,xe){this.append(xe,je)}),this||je):Array.isArray(xe)?xe.forEach((function(je){this.append(je[0],je[1])}),this||je):xe&&Object.getOwnPropertyNames(xe).forEach((function(je){this.append(je,xe[je])}),this||je)}function m(je){if(je.bodyUsed)return Promise.reject(new TypeError("Already read"));je.bodyUsed=!0}function y(je){return new Promise((function(xe,we){je.onload=function(){xe(je.result)},je.onerror=function(){we(je.error)}}))}function g(je){var xe=new FileReader,we=y(xe);return xe.readAsArrayBuffer(je),we}function v(je){var xe;return je.slice?je.slice(0):((xe=new Uint8Array(je.byteLength)).set(new Uint8Array(je)),xe.buffer)}function b(){return(this||je).bodyUsed=!1,(this||je)._initBody=function(xe){if((this||je)._bodyInit=xe)if("string"==typeof xe)(this||je)._bodyText=xe;else if(Te&&Blob.prototype.isPrototypeOf(xe))(this||je)._bodyBlob=xe;else if(Ee&&FormData.prototype.isPrototypeOf(xe))(this||je)._bodyFormData=xe;else if(we&&URLSearchParams.prototype.isPrototypeOf(xe))(this||je)._bodyText=xe.toString();else if(Ye&&Te&&Qe(xe))(this||je)._bodyArrayBuffer=v(xe.buffer),(this||je)._bodyInit=new Blob([(this||je)._bodyArrayBuffer]);else{if(!Ye||!ArrayBuffer.prototype.isPrototypeOf(xe)&&!Ke(xe))throw new Error("unsupported BodyInit type");(this||je)._bodyArrayBuffer=v(xe)}else(this||je)._bodyText="";(this||je).headers.get("content-type")||("string"==typeof xe?(this||je).headers.set("content-type","text/plain;charset=UTF-8"):(this||je)._bodyBlob&&(this||je)._bodyBlob.type?(this||je).headers.set("content-type",(this||je)._bodyBlob.type):we&&URLSearchParams.prototype.isPrototypeOf(xe)&&(this||je).headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Te&&((this||je).blob=function(){var xe=m(this||je);if(xe)return xe;if((this||je)._bodyBlob)return Promise.resolve((this||je)._bodyBlob);if((this||je)._bodyArrayBuffer)return Promise.resolve(new Blob([(this||je)._bodyArrayBuffer]));if((this||je)._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([(this||je)._bodyText]))},(this||je).arrayBuffer=function(){return(this||je)._bodyArrayBuffer?m(this||je)||Promise.resolve((this||je)._bodyArrayBuffer):this.blob().then(g)}),(this||je).text=function(){var xe,we,Se=m(this||je);if(Se)return Se;if((this||je)._bodyBlob)return Se=(this||je)._bodyBlob,xe=new FileReader,we=y(xe),xe.readAsText(Se),we;if((this||je)._bodyArrayBuffer)return Promise.resolve(function(je){for(var xe=new Uint8Array(je),we=new Array(xe.length),Se=0;Se<xe.length;Se++)we[Se]=String.fromCharCode(xe[Se]);return we.join("")}((this||je)._bodyArrayBuffer));if((this||je)._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve((this||je)._bodyText)},Ee&&((this||je).formData=function(){return this.text().then(j)}),(this||je).json=function(){return this.text().then(JSON.parse)},this||je}function _(xe,we){var Se,Te=(we=we||{}).body;if(xe instanceof _){if(xe.bodyUsed)throw new TypeError("Already read");(this||je).url=xe.url,(this||je).credentials=xe.credentials,we.headers||((this||je).headers=new p(xe.headers)),(this||je).method=xe.method,(this||je).mode=xe.mode,Te||null==xe._bodyInit||(Te=xe._bodyInit,xe.bodyUsed=!0)}else(this||je).url=String(xe);if((this||je).credentials=we.credentials||(this||je).credentials||"omit",!we.headers&&(this||je).headers||((this||je).headers=new p(we.headers)),(this||je).method=(xe=we.method||(this||je).method||"GET",Se=xe.toUpperCase(),-1<Je.indexOf(Se)?Se:xe),(this||je).mode=we.mode||(this||je).mode||null,(this||je).referrer=null,("GET"===(this||je).method||"HEAD"===(this||je).method)&&Te)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Te)}function j(je){var xe=new FormData;return je.trim().split("&").forEach((function(je){var we;je&&(we=(je=je.split("=")).shift().replace(/\+/g," "),je=je.join("=").replace(/\+/g," "),xe.append(decodeURIComponent(we),decodeURIComponent(je)))})),xe}function x(xe,we){we=we||{},(this||je).type="default",(this||je).status=void 0===we.status?200:we.status,(this||je).ok=200<=(this||je).status&&(this||je).status<300,(this||je).statusText="statusText"in we?we.statusText:"OK",(this||je).headers=new p(we.headers),(this||je).url=we.url||"",this._initBody(xe)}xe.fetch||(we="URLSearchParams"in xe,Se="Symbol"in xe&&"iterator"in Symbol,Te="FileReader"in xe&&"Blob"in xe&&function(){try{return new Blob,!0}catch(je){return!1}}(),Ee="FormData"in xe,(Ye="ArrayBuffer"in xe)&&(Ze=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Qe=function(je){return je&&DataView.prototype.isPrototypeOf(je)},Ke=ArrayBuffer.isView||function(je){return je&&-1<Ze.indexOf(Object.prototype.toString.call(je))}),p.prototype.append=function(xe,we){xe=d(xe),we=h(we);var Se=(this||je).map[xe];(this||je).map[xe]=Se?Se+","+we:we},p.prototype.delete=function(xe){delete(this||je).map[d(xe)]},p.prototype.get=function(xe){return xe=d(xe),this.has(xe)?(this||je).map[xe]:null},p.prototype.has=function(xe){return(this||je).map.hasOwnProperty(d(xe))},p.prototype.set=function(xe,we){(this||je).map[d(xe)]=h(we)},p.prototype.forEach=function(xe,we){for(var Se in(this||je).map)(this||je).map.hasOwnProperty(Se)&&xe.call(we,(this||je).map[Se],Se,this||je)},p.prototype.keys=function(){var je=[];return this.forEach((function(xe,we){je.push(we)})),f(je)},p.prototype.values=function(){var je=[];return this.forEach((function(xe){je.push(xe)})),f(je)},p.prototype.entries=function(){var je=[];return this.forEach((function(xe,we){je.push([we,xe])})),f(je)},Se&&(p.prototype[Symbol.iterator]=p.prototype.entries),Je=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],_.prototype.clone=function(){return new _(this||je,{body:(this||je)._bodyInit})},b.call(_.prototype),b.call(x.prototype),x.prototype.clone=function(){return new x((this||je)._bodyInit,{status:(this||je).status,statusText:(this||je).statusText,headers:new p((this||je).headers),url:(this||je).url})},x.error=function(){var je=new x(null,{status:0,statusText:""});return je.type="error",je},$e=[301,302,303,307,308],x.redirect=function(je,xe){if(-1===$e.indexOf(xe))throw new RangeError("Invalid status code");return new x(null,{status:xe,headers:{location:je}})},xe.Headers=p,xe.Request=_,xe.Response=x,xe.fetch=function(je,xe){return new Promise((function(we,Se){var Ee=new _(je,xe),Ye=new XMLHttpRequest;Ye.onload=function(){var je,xe={status:Ye.status,statusText:Ye.statusText,headers:(xe=Ye.getAllResponseHeaders()||"",je=new p,xe.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(xe){xe=xe.split(":");var we=xe.shift().trim();we&&(xe=xe.join(":").trim(),je.append(we,xe))})),je)},Se=(xe.url="responseURL"in Ye?Ye.responseURL:xe.headers.get("X-Request-URL"),"response"in Ye?Ye.response:Ye.responseText);we(new x(Se,xe))},Ye.onerror=function(){Se(new TypeError("Network request failed"))},Ye.ontimeout=function(){Se(new TypeError("Network request failed"))},Ye.open(Ee.method,Ee.url,!0),"include"===Ee.credentials?Ye.withCredentials=!0:"omit"===Ee.credentials&&(Ye.withCredentials=!1),"responseType"in Ye&&Te&&(Ye.responseType="blob"),Ee.headers.forEach((function(je,xe){Ye.setRequestHeader(xe,je)})),Ye.send(void 0===Ee._bodyInit?null:Ee._bodyInit)}))},xe.fetch.polyfill=!0)}("undefined"!=typeof self?self:this||je)},{}],259:[function(je,xe,we){je("core-js/modules/es.function.name"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.split"),je("core-js/modules/es.function.name"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.split"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se,Te=n(je("../core/main")),Ee=n(je("../color/color_conversion"));function n(je){return je&&je.__esModule?je:{default:je}}var Ye=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],Ze=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];Te.default.prototype._rgbColorName=function(je){je=Ee.default._rgbaToHSBA(je);var xe,we,Te=[(Se=je)[0],je[1],je[2]];0!==Te[0]&&(Te[0]=Math.round(100*Te[0]),(je=Te[0].toString().split(""))[we=je.length-1]=parseInt(je[we]),je[we]<2.5?je[we]=0:2.5<=je[we]&&je[we]<7.5&&(je[we]=5),2===je.length?(je[0]=parseInt(je[0]),7.5<=je[we]&&(je[we]=0,je[0]=je[0]+1),Te[0]=10*je[0]+je[1]):7.5<=je[we]?Te[0]=10:Te[0]=je[we]),Te[2]=Te[2]/255;for(var Qe=Te.length-1;1<=Qe;Qe--)Te[Qe]<=.25?Te[Qe]=0:.25<Te[Qe]&&Te[Qe]<.75?Te[Qe]=.5:Te[Qe]=1;if(0===Te[0]&&0===Te[1]&&1===Te[2]){for(var Ke=2;0<=Ke;Ke--)Se[Ke]=Math.round(1e4*Se[Ke])/1e4;for(var Je=0;Je<Ye.length;Je++){if(Ye[Je].h===Se[0]&&Ye[Je].s===Se[1]&&Ye[Je].b===Se[2]){xe=Ye[Je].name;break}xe="white"}}else for(var $e=0;$e<Ze.length;$e++)if(Ze[$e].h===Te[0]&&Ze[$e].s===Te[1]&&Ze[$e].b===Te[2]){xe=Ze[$e].name;break}return xe};je=Te.default;we.default=je},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.replace"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};var Ee="_Description",Ye="_fallbackDesc",Ze="_fallbackTable",Qe="_Label",Ke="_labelDesc",Je="_labelTable";function h(je){if("label"===je||"fallback"===je)throw new Error("description should not be LABEL or FALLBACK");return je.endsWith(".")||je.endsWith(";")||je.endsWith(",")||je.endsWith("?")||je.endsWith("!")||(je+="."),je}Te.default.prototype.describe=function(xe,we){var Se;Te.default._validateParameters("describe",arguments),"string"==typeof xe&&(Se=(this||je).canvas.id,xe=h(xe),(this||je).dummyDOM||((this||je).dummyDOM=document.getElementById(Se).parentNode),(this||je).descriptions||((this||je).descriptions={}),(this||je).descriptions.fallback?(this||je).descriptions.fallback.innerHTML!==xe&&((this||je).descriptions.fallback.innerHTML=xe):this._describeHTML("fallback",xe),we===(this||je).LABEL&&((this||je).descriptions.label?(this||je).descriptions.label.innerHTML!==xe&&((this||je).descriptions.label.innerHTML=xe):this._describeHTML("label",xe)))},Te.default.prototype.describeElement=function(xe,we,Se){var Ee,Ye;Te.default._validateParameters("describeElement",arguments),"string"==typeof we&&"string"==typeof xe&&(Ee=(this||je).canvas.id,we=h(we),Ye=function(je){if("label"===je||"fallback"===je)throw new Error("element name should not be LABEL or FALLBACK");je.endsWith(".")||je.endsWith(";")||je.endsWith(",")?je=je.replace(/.$/,":"):je.endsWith(":")||(je+=":");return je}(xe),xe=xe.replace(/[^a-zA-Z0-9]/g,""),Ye='<th scope="row">'.concat(Ye,"</th><td>").concat(we,"</td>"),(this||je).dummyDOM||((this||je).dummyDOM=document.getElementById(Ee).parentNode),(this||je).descriptions?(this||je).descriptions.fallbackElements||((this||je).descriptions.fallbackElements={}):(this||je).descriptions={fallbackElements:{}},(this||je).descriptions.fallbackElements[xe]?(this||je).descriptions.fallbackElements[xe].innerHTML!==Ye&&((this||je).descriptions.fallbackElements[xe].innerHTML=Ye):this._describeElementHTML("fallback",xe,Ye),Se===(this||je).LABEL&&((this||je).descriptions.labelElements||((this||je).descriptions.labelElements={}),(this||je).descriptions.labelElements[xe]?(this||je).descriptions.labelElements[xe].innerHTML!==Ye&&((this||je).descriptions.labelElements[xe].innerHTML=Ye):this._describeElementHTML("label",xe,Ye)))},Te.default.prototype._describeHTML=function(xe,we){var Se,Te=(this||je).canvas.id;"fallback"===xe?((this||je).dummyDOM.querySelector("#".concat(Te+Ee))?(this||je).dummyDOM.querySelector("#"+Te+Ze).insertAdjacentHTML("beforebegin",'<p id="'.concat(Te+Ye,'"></p>')):(Se='<div id="'.concat(Te).concat(Ee,'" role="region" aria-label="Canvas Description"><p id="').concat(Te).concat(Ye,'"></p></div>'),(this||je).dummyDOM.querySelector("#".concat(Te,"accessibleOutput"))?(this||je).dummyDOM.querySelector("#".concat(Te,"accessibleOutput")).insertAdjacentHTML("beforebegin",Se):(this||je).dummyDOM.querySelector("#".concat(Te)).innerHTML=Se),(this||je).descriptions.fallback=(this||je).dummyDOM.querySelector("#".concat(Te).concat(Ye)),(this||je).descriptions.fallback.innerHTML=we):"label"===xe&&((this||je).dummyDOM.querySelector("#".concat(Te+Qe))?(this||je).dummyDOM.querySelector("#".concat(Te+Je))&&(this||je).dummyDOM.querySelector("#".concat(Te+Je)).insertAdjacentHTML("beforebegin",'<p id="'.concat(Te).concat(Ke,'"></p>')):(Se='<div id="'.concat(Te).concat(Qe,'" class="p5Label"><p id="').concat(Te).concat(Ke,'"></p></div>'),(this||je).dummyDOM.querySelector("#".concat(Te,"accessibleOutputLabel"))?(this||je).dummyDOM.querySelector("#".concat(Te,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",Se):(this||je).dummyDOM.querySelector("#"+Te).insertAdjacentHTML("afterend",Se)),(this||je).descriptions.label=(this||je).dummyDOM.querySelector("#"+Te+Ke),(this||je).descriptions.label.innerHTML=we)},Te.default.prototype._describeElementHTML=function(xe,we,Se){var Te,$e=(this||je).canvas.id;"fallback"===xe?((this||je).dummyDOM.querySelector("#".concat($e+Ee))?(this||je).dummyDOM.querySelector("#"+$e+Ze)||(this||je).dummyDOM.querySelector("#"+$e+Ye).insertAdjacentHTML("afterend",'<table id="'.concat($e).concat(Ze,'"><caption>Canvas elements and their descriptions</caption></table>')):(Te='<div id="'.concat($e).concat(Ee,'" role="region" aria-label="Canvas Description"><table id="').concat($e).concat(Ze,'"><caption>Canvas elements and their descriptions</caption></table></div>'),(this||je).dummyDOM.querySelector("#".concat($e,"accessibleOutput"))?(this||je).dummyDOM.querySelector("#".concat($e,"accessibleOutput")).insertAdjacentHTML("beforebegin",Te):(this||je).dummyDOM.querySelector("#"+$e).innerHTML=Te),(Te=document.createElement("tr")).id=$e+"_fte_"+we,(this||je).dummyDOM.querySelector("#"+$e+Ze).appendChild(Te),(this||je).descriptions.fallbackElements[we]=(this||je).dummyDOM.querySelector("#".concat($e).concat("_fte_").concat(we)),(this||je).descriptions.fallbackElements[we].innerHTML=Se):"label"===xe&&((this||je).dummyDOM.querySelector("#".concat($e+Qe))?(this||je).dummyDOM.querySelector("#".concat($e+Je))||(this||je).dummyDOM.querySelector("#"+$e+Ke).insertAdjacentHTML("afterend",'<table id="'.concat($e+Je,'"></table>')):(Te='<div id="'.concat($e).concat(Qe,'" class="p5Label"><table id="').concat($e).concat(Je,'"></table></div>'),(this||je).dummyDOM.querySelector("#".concat($e,"accessibleOutputLabel"))?(this||je).dummyDOM.querySelector("#".concat($e,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",Te):(this||je).dummyDOM.querySelector("#"+$e).insertAdjacentHTML("afterend",Te)),(xe=document.createElement("tr")).id=$e+"_lte_"+we,(this||je).dummyDOM.querySelector("#"+$e+Je).appendChild(xe),(this||je).descriptions.labelElements[we]=(this||je).dummyDOM.querySelector("#".concat($e).concat("_lte_").concat(we)),(this||je).descriptions.labelElements[we].innerHTML=Se)};xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.string.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype._updateGridOutput=function(xe){var we,Se,Te,Ee;(this||je).dummyDOM.querySelector("#".concat(xe,"_summary"))&&(we=(this||je)._accessibleOutputs[xe],Te=function(je,xe,we,Se){xe="".concat(xe," canvas, ").concat(we," by ").concat(Se," pixels, contains ").concat(je[0]);xe=(1===je[0]?"".concat(xe," shape: "):"".concat(xe," shapes: ")).concat(je[1]);return xe}((Se=function(je,xe){var we,Se="",Te="",Ee=0;for(we in xe){var Ye,Ze=0;for(Ye in xe[we]){var Qe='<li id="'.concat(je,"shape").concat(Ee,'">').concat(xe[we][Ye].color," ").concat(we,",");"line"===we?Qe+=" location = ".concat(xe[we][Ye].pos,", length = ").concat(xe[we][Ye].length," pixels"):(Qe+=" location = ".concat(xe[we][Ye].pos),"point"!==we&&(Qe+=", area = ".concat(xe[we][Ye].area," %")),Qe+="</li>"),Se+=Qe,Ze++,Ee++}Te=1<Ze?"".concat(Te," ").concat(Ze," ").concat(we,"s"):"".concat(Te," ").concat(Ze," ").concat(we)}return{numShapes:[Ee,Te],details:Se}}(xe,(this||je).ingredients.shapes)).numShapes,(this||je).ingredients.colors.background,(this||je).width,(this||je).height),Ee=function(je,xe){var we,Se,Te=0,Ee="",Ye=Array.from(Array(10),(function(){return Array(10)}));for(we in xe)for(var Ze in xe[we]){var Qe=void 0;Qe="line"!==we?'<a href="#'.concat(je,"shape").concat(Te,'">').concat(xe[we][Ze].color," ").concat(we,"</a>"):'<a href="#'.concat(je,"shape").concat(Te,'">').concat(xe[we][Ze].color," ").concat(we," midpoint</a>"),Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]?Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]=Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]+"  "+Qe:Ye[xe[we][Ze].loc.locY][xe[we][Ze].loc.locX]=Qe,Te++}for(Se in Ye){var Ke,Je="<tr>";for(Ke in Ye[Se])Je+="<td>",void 0!==Ye[Se][Ke]&&(Je+=Ye[Se][Ke]),Je+="</td>";Ee=Ee+Je+"</tr>"}return Ee}(xe,(this||je).ingredients.shapes),Te!==we.summary.innerHTML&&(we.summary.innerHTML=Te),Ee!==we.map.innerHTML&&(we.map.innerHTML=Ee),Se.details!==we.shapeDetails.innerHTML&&(we.shapeDetails.innerHTML=Se.details),(this||je)._accessibleOutputs[xe]=we)};xe=xe.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.number.to-fixed"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function l(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(je,xe,we){xe=Math.floor(je[0]/xe*10),je=Math.floor(je[1]/we*10);return 10===xe&&(xe-=1),10===je&&(je-=1),{locX:xe,locY:je}}Te.default.prototype.textOutput=function(xe){Te.default._validateParameters("textOutput",arguments),(this||je)._accessibleOutputs.text||((this||je)._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),xe===(this||je).LABEL&&((this||je)._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},Te.default.prototype.gridOutput=function(xe){Te.default._validateParameters("gridOutput",arguments),(this||je)._accessibleOutputs.grid||((this||je)._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),xe===(this||je).LABEL&&((this||je)._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},Te.default.prototype._addAccsOutput=function(){return(this||je)._accessibleOutputs||((this||je)._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),(this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text},Te.default.prototype._createOutput=function(xe,we){var Se,Te,Ee,Ye=(this||je).canvas.id,Ze=((this||je).ingredients||((this||je).ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),(this||je).dummyDOM||((this||je).dummyDOM=document.getElementById(Ye).parentNode),"");"Fallback"===we?(Se=Ye+xe,(this||je).dummyDOM.querySelector("#".concat(Te=Ye+"accessibleOutput"))||((this||je).dummyDOM.querySelector("#".concat(Ye,"_Description"))?(this||je).dummyDOM.querySelector("#".concat(Ye,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(Te,'" role="region" aria-label="Canvas Outputs"></div>')):(this||je).dummyDOM.querySelector("#".concat(Ye)).innerHTML='<div id="'.concat(Te,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===we&&(Se=Ye+xe+(Ze=we),(this||je).dummyDOM.querySelector("#".concat(Te=Ye+"accessibleOutput"+we))||((this||je).dummyDOM.querySelector("#".concat(Ye,"_Label"))?(this||je).dummyDOM.querySelector("#".concat(Ye,"_Label")):(this||je).dummyDOM.querySelector("#".concat(Ye))).insertAdjacentHTML("afterend",'<div id="'.concat(Te,'"></div>'))),(this||je)._accessibleOutputs[Se]={},"textOutput"===xe?(Ze="#".concat(Ye,"gridOutput").concat(Ze),Ee='<div id="'.concat(Se,'">Text Output<div id="').concat(Se,'Summary" aria-label="text output summary"><p id="').concat(Se,'_summary"></p><ul id="').concat(Se,'_list"></ul></div><table id="').concat(Se,'_shapeDetails" summary="text output shape details"></table></div>'),(this||je).dummyDOM.querySelector(Ze)?(this||je).dummyDOM.querySelector(Ze).insertAdjacentHTML("beforebegin",Ee):(this||je).dummyDOM.querySelector("#".concat(Te)).innerHTML=Ee,(this||je)._accessibleOutputs[Se].list=(this||je).dummyDOM.querySelector("#".concat(Se,"_list"))):"gridOutput"===xe&&(Ze="#".concat(Ye,"textOutput").concat(Ze),Ee='<div id="'.concat(Se,'">Grid Output<p id="').concat(Se,'_summary" aria-label="grid output summary"><table id="').concat(Se,'_map" summary="grid output content"></table><ul id="').concat(Se,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),(this||je).dummyDOM.querySelector(Ze)?(this||je).dummyDOM.querySelector(Ze).insertAdjacentHTML("afterend",Ee):(this||je).dummyDOM.querySelector("#".concat(Te)).innerHTML=Ee,(this||je)._accessibleOutputs[Se].map=(this||je).dummyDOM.querySelector("#".concat(Se,"_map"))),(this||je)._accessibleOutputs[Se].shapeDetails=(this||je).dummyDOM.querySelector("#".concat(Se,"_shapeDetails")),(this||je)._accessibleOutputs[Se].summary=(this||je).dummyDOM.querySelector("#".concat(Se,"_summary"))},Te.default.prototype._updateAccsOutput=function(){var xe=(this||je).canvas.id;JSON.stringify((this||je).ingredients.shapes)===(this||je).ingredients.pShapes&&(this||je).ingredients.colors.background===(this||je).ingredients.pBackground||((this||je).ingredients.pShapes=JSON.stringify((this||je).ingredients.shapes),(this||je)._accessibleOutputs.text&&this._updateTextOutput(xe+"textOutput"),(this||je)._accessibleOutputs.grid&&this._updateGridOutput(xe+"gridOutput"),(this||je)._accessibleOutputs.textLabel&&this._updateTextOutput(xe+"textOutputLabel"),(this||je)._accessibleOutputs.gridLabel&&this._updateGridOutput(xe+"gridOutputLabel"))},Te.default.prototype._accsBackground=function(xe){(this||je).ingredients.pShapes=JSON.stringify((this||je).ingredients.shapes),(this||je).ingredients.pBackground=(this||je).ingredients.colors.background,(this||je).ingredients.shapes={},(this||je).ingredients.colors.backgroundRGBA!==xe&&((this||je).ingredients.colors.backgroundRGBA=xe,(this||je).ingredients.colors.background=this._rgbColorName(xe))},Te.default.prototype._accsCanvasColors=function(xe,we){"fill"===xe?(this||je).ingredients.colors.fillRGBA!==we&&((this||je).ingredients.colors.fillRGBA=we,(this||je).ingredients.colors.fill=this._rgbColorName(we)):"stroke"===xe&&(this||je).ingredients.colors.strokeRGBA!==we&&((this||je).ingredients.colors.strokeRGBA=we,(this||je).ingredients.colors.stroke=this._rgbColorName(we))},Te.default.prototype._accsOutput=function(xe,we){"ellipse"===xe&&we[2]===we[3]?xe="circle":"rectangle"===xe&&we[2]===we[3]&&(xe="square");var Se,Te,Ee={},Ye=!0,Ze=function(je,xe){var we;je="rectangle"===je||"ellipse"===je||"arc"===je||"circle"===je||"square"===je?(we=Math.round(xe[0]+xe[2]/2),Math.round(xe[1]+xe[3]/2)):"triangle"===je?(we=(xe[0]+xe[2]+xe[4])/3,(xe[1]+xe[3]+xe[5])/3):"quadrilateral"===je?(we=(xe[0]+xe[2]+xe[4]+xe[6])/4,(xe[1]+xe[3]+xe[5]+xe[7])/4):"line"===je?(we=(xe[0]+xe[2])/2,(xe[1]+xe[3])/2):(we=xe[0],xe[1]);return[we,je]}(xe,we);if("line"===xe?(Ee.color=(this||je).ingredients.colors.stroke,Ee.length=Math.round(this.dist(we[0],we[1],we[2],we[3])),Se=this._getPos(we[0],[1]),Te=this._getPos(we[2],[3]),Ee.loc=u(Ze,(this||je).width,(this||je).height),Ee.pos=Se===Te?"at ".concat(Se):"from ".concat(Se," to ").concat(Te)):("point"===xe?Ee.color=(this||je).ingredients.colors.stroke:(Ee.color=(this||je).ingredients.colors.fill,Ee.area=this._getArea(xe,we)),Ee.pos=(this||je)._getPos.apply(this||je,l(Ze)),Ee.loc=u(Ze,(this||je).width,(this||je).height)),(this||je).ingredients.shapes[xe]){if((this||je).ingredients.shapes[xe]!==[Ee]){for(var Qe in(this||je).ingredients.shapes[xe])JSON.stringify((this||je).ingredients.shapes[xe][Qe])===JSON.stringify(Ee)&&(Ye=!1);!0===Ye&&(this||je).ingredients.shapes[xe].push(Ee)}}else(this||je).ingredients.shapes[xe]=[Ee]},Te.default.prototype._getPos=function(xe,we){xe=new DOMPointReadOnly(xe,we),we=(this||je)._renderer.isP3D?new DOMMatrix((this||je)._renderer.uMVMatrix.mat4):(this||je).drawingContext.getTransform(),xe=xe.matrixTransform(we),we=xe.x,xe=xe.y;var Se=(this||je).width*(this||je)._pixelDensity,Te=(this||je).height*(this||je)._pixelDensity;return we<.4*Se?xe<.4*Te?"top left":.6*Te<xe?"bottom left":"mid left":.6*Se<we?xe<.4*Te?"top right":.6*Te<xe?"bottom right":"mid right":xe<.4*Te?"top middle":.6*Te<xe?"bottom middle":"middle"},Te.default.prototype._getArea=function(xe,we){var Se,Te,Ee=0,Ye=("arc"===xe?(Ee=(Se=((we[5]-we[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*we[2]*we[3]/8,"open"!==we[6]&&"chord"!==we[6]||(Te=we[0],Je=we[1],Ye=we[0]+we[2]/2*Math.cos(we[4]).toFixed(2),$e=we[1]+we[3]/2*Math.sin(we[4]).toFixed(2),Qe=we[0]+we[2]/2*Math.cos(we[5]).toFixed(2),Ze=we[1]+we[3]/2*Math.sin(we[5]).toFixed(2),Te=Math.abs(Te*($e-Ze)+Ye*(Ze-Je)+Qe*(Je-$e))/2,Se>Math.PI?Ee+=Te:Ee-=Te)):"ellipse"===xe||"circle"===xe?Ee=3.14*we[2]/2*we[3]/2:"line"===xe||"point"===xe?Ee=0:"quadrilateral"===xe?Ee=Math.abs((we[6]+we[0])*(we[7]-we[1])+(we[0]+we[2])*(we[1]-we[3])+(we[2]+we[4])*(we[3]-we[5])+(we[4]+we[6])*(we[5]-we[7]))/2:"rectangle"===xe||"square"===xe?Ee=we[2]*we[3]:"triangle"===xe&&(Ee=Math.abs(we[0]*(we[3]-we[5])+we[2]*(we[5]-we[1])+we[4]*(we[1]-we[3]))/2),(this||je).width*(this||je)._pixelDensity),Ze=(this||je).height*(this||je)._pixelDensity,Qe=[new DOMPoint(0,0),new DOMPoint(Ye,0),new DOMPoint(Ye,Ze),new DOMPoint(0,Ze)],Ke=((this||je)._renderer.isP3D?new DOMMatrix((this||je)._renderer.uMVMatrix.mat4):(this||je).drawingContext.getTransform()).inverse(),Je=Qe.map((function(je){return je.matrixTransform(Ke)})),$e=Math.abs((Je[3].x+Je[0].x)*(Je[3].y-Je[0].y)+(Je[0].x+Je[1].x)*(Je[0].y-Je[1].y)+(Je[1].x+Je[2].x)*(Je[1].y-Je[2].y)+(Je[2].x+Je[3].x)*(Je[2].y-Je[3].y))/2;return Math.round(100*Ee/$e)};xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.concat"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype._updateTextOutput=function(xe){var we,Se,Te,Ee;(this||je).dummyDOM.querySelector("#".concat(xe,"_summary"))&&(we=(this||je)._accessibleOutputs[xe],Te=function(je,xe,we,Se){we="Your output is a, ".concat(we," by ").concat(Se," pixels, ").concat(xe," canvas containing the following");we=1===je?"".concat(we," shape:"):"".concat(we," ").concat(je," shapes:");return we}((Se=function(je,xe){var we,Se="",Te=0;for(we in xe)for(var Ee in xe[we]){var Ye='<li><a href="#'.concat(je,"shape").concat(Te,'">').concat(xe[we][Ee].color," ").concat(we,"</a>");"line"===we?Ye+=", ".concat(xe[we][Ee].pos,", ").concat(xe[we][Ee].length," pixels long.</li>"):(Ye+=", at ".concat(xe[we][Ee].pos),"point"!==we&&(Ye+=", covering ".concat(xe[we][Ee].area,"% of the canvas")),Ye+=".</li>"),Se+=Ye,Te++}return{numShapes:Te,listShapes:Se}}(xe,(this||je).ingredients.shapes)).numShapes,(this||je).ingredients.colors.background,(this||je).width,(this||je).height),Ee=function(je,xe){var we,Se="",Te=0;for(we in xe)for(var Ee in xe[we]){var Ye='<tr id="'.concat(je,"shape").concat(Te,'"><th>').concat(xe[we][Ee].color," ").concat(we,"</th>");"line"===we?Ye+="<td>location = ".concat(xe[we][Ee].pos,"</td><td>length = ").concat(xe[we][Ee].length," pixels</td></tr>"):(Ye+="<td>location = ".concat(xe[we][Ee].pos,"</td>"),"point"!==we&&(Ye+="<td> area = ".concat(xe[we][Ee].area,"%</td>")),Ye+="</tr>"),Se+=Ye,Te++}return Se}(xe,(this||je).ingredients.shapes),Te!==we.summary.innerHTML&&(we.summary.innerHTML=Te),Se.listShapes!==we.list.innerHTML&&(we.list.innerHTML=Se.listShapes),Ee!==we.shapeDetails.innerHTML&&(we.shapeDetails.innerHTML=Ee),(this||je)._accessibleOutputs[xe]=we)};xe=xe.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(je,xe,we){var Se=(Se=je("./core/main"))&&Se.__esModule?Se:{default:Se};je("./core/constants"),je("./core/environment"),je("./core/friendly_errors/stacktrace"),je("./core/friendly_errors/validate_params"),je("./core/friendly_errors/file_errors"),je("./core/friendly_errors/fes_core"),je("./core/friendly_errors/sketch_reader"),je("./core/helpers"),je("./core/legacy"),je("./core/preload"),je("./core/p5.Element"),je("./core/p5.Graphics"),je("./core/p5.Renderer"),je("./core/p5.Renderer2D"),je("./core/rendering"),je("./core/shim"),je("./core/structure"),je("./core/transform"),je("./core/shape/2d_primitives"),je("./core/shape/attributes"),je("./core/shape/curves"),je("./core/shape/vertex"),je("./accessibility/outputs"),je("./accessibility/textOutput"),je("./accessibility/gridOutput"),je("./accessibility/color_namer"),je("./color/color_conversion"),je("./color/creating_reading"),je("./color/p5.Color"),je("./color/setting"),je("./data/p5.TypedDict"),je("./data/local_storage.js"),je("./dom/dom"),je("./accessibility/describe"),je("./events/acceleration"),je("./events/keyboard"),je("./events/mouse"),je("./events/touch"),je("./image/filters"),je("./image/image"),je("./image/loading_displaying"),je("./image/p5.Image"),je("./image/pixels"),je("./io/files"),je("./io/p5.Table"),je("./io/p5.TableRow"),je("./io/p5.XML"),je("./math/calculation"),je("./math/math"),je("./math/noise"),je("./math/p5.Vector"),je("./math/random"),je("./math/trigonometry"),je("./typography/attributes"),je("./typography/loading_displaying"),je("./typography/p5.Font"),je("./utilities/array_functions"),je("./utilities/conversion"),je("./utilities/string_functions"),je("./utilities/time_date"),je("./webgl/3d_primitives"),je("./webgl/interaction"),je("./webgl/light"),je("./webgl/loading"),je("./webgl/material"),je("./webgl/p5.Camera"),je("./webgl/p5.DataArray"),je("./webgl/p5.Geometry"),je("./webgl/p5.Matrix"),je("./webgl/p5.RendererGL.Immediate"),je("./webgl/p5.RendererGL"),je("./webgl/p5.RendererGL.Retained"),je("./webgl/p5.Framebuffer"),je("./webgl/p5.Shader"),je("./webgl/p5.RenderBuffer"),je("./webgl/p5.Texture"),je("./webgl/text"),je("./core/init"),xe.exports=Se.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(je,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;je=(je=je("../core/main"))&&je.__esModule?je:{default:je};je.default.ColorConversion={_hsbaToHSLA:function(je){var xe=je[0],we=je[1],Se=je[2],Te=(2-we)*Se/2;return 0!=Te&&(1==Te?we=0:Te<.5?we/=2-we:we=we*Se/(2-2*Te)),[xe,we,Te,je[3]]},_hsbaToRGBA:function(je){var xe,we,Se,Te,Ee,Ye=6*je[0],Ze=je[1],Qe=je[2];return 0===Ze?[Qe,Qe,Qe,je[3]]:(we=Qe*(1-Ze),Se=Qe*(1-Ze*(Ye-(xe=Math.floor(Ye)))),Ze=Qe*(1-Ze*(1+xe-Ye)),Ye=1===xe?(Te=Se,Ee=Qe,we):2===xe?(Te=we,Ee=Qe,Ze):3===xe?(Te=we,Ee=Se,Qe):4===xe?(Te=Ze,Ee=we,Qe):5===xe?(Te=Qe,Ee=we,Se):(Te=Qe,Ee=Ze,we),[Te,Ee,Ye,je[3]])},_hslaToHSBA:function(je){var xe=je[0],we=je[1],Se=je[2],Te=Se<.5?(1+we)*Se:Se+we-Se*we;return[xe,we=2*(Te-Se)/Te,Te,je[3]]},_hslaToRGBA:function(je){var xe,we=6*je[0],Se=je[1],Te=je[2];return 0===Se?[Te,Te,Te,je[3]]:[(xe=function(je,xe,we){return je<0?je+=6:6<=je&&(je-=6),je<1?xe+(we-xe)*je:je<3?we:je<4?xe+(we-xe)*(4-je):xe})(2+we,Se=2*Te-(Te=Te<.5?(1+Se)*Te:Te+Se-Te*Se),Te),xe(we,Se,Te),xe(we-2,Se,Te),je[3]]},_rgbaToHSBA:function(je){var xe,we,Se=je[0],Te=je[1],Ee=je[2],Ye=Math.max(Se,Te,Ee),Ze=Ye-Math.min(Se,Te,Ee);return 0==Ze?we=xe=0:(we=Ze/Ye,Se===Ye?xe=(Te-Ee)/Ze:Te===Ye?xe=2+(Ee-Se)/Ze:Ee===Ye&&(xe=4+(Se-Te)/Ze),xe<0?xe+=6:6<=xe&&(xe-=6)),[xe/6,we,Ye,je[3]]},_rgbaToHSLA:function(je){var xe,we,Se=je[0],Te=je[1],Ee=je[2],Ye=Math.max(Se,Te,Ee),Ze=Math.min(Se,Te,Ee),Qe=Ye+Ze;Ze=Ye-Ze;return 0==Ze?we=xe=0:(we=Qe<1?Ze/Qe:Ze/(2-Qe),Se===Ye?xe=(Te-Ee)/Ze:Te===Ye?xe=2+(Ee-Se)/Ze:Ee===Ye&&(xe=4+(Se-Te)/Ze),xe<0?xe+=6:6<=xe&&(xe-=6)),[xe/6,we,Qe/2,je[3]]}};je=je.default.ColorConversion;we.default=je},{"../core/main":280}],266:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.map"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}xe("./p5.Color"),xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.alpha=function(je){return Te.default._validateParameters("alpha",arguments),this.color(je)._getAlpha()},Te.default.prototype.blue=function(je){return Te.default._validateParameters("blue",arguments),this.color(je)._getBlue()},Te.default.prototype.brightness=function(je){return Te.default._validateParameters("brightness",arguments),this.color(je)._getBrightness()},Te.default.prototype.color=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("color",Se),Se[0]instanceof Te.default.Color?Se[0]:(xe=Array.isArray(Se[0])?Se[0]:Se,new Te.default.Color(this||je,xe))},Te.default.prototype.green=function(je){return Te.default._validateParameters("green",arguments),this.color(je)._getGreen()},Te.default.prototype.hue=function(je){return Te.default._validateParameters("hue",arguments),this.color(je)._getHue()},Te.default.prototype.lerpColor=function(xe,we,Se){Te.default._validateParameters("lerpColor",arguments);var Ye,Ze,Qe,Ke=(this||je)._colorMode,Je=(this||je)._colorMaxes;if(Ke===Ee.RGB)Ze=xe.levels.map((function(je){return je/255})),Qe=we.levels.map((function(je){return je/255}));else if(Ke===Ee.HSB)xe._getBrightness(),we._getBrightness(),Ze=xe.hsba,Qe=we.hsba;else{if(Ke!==Ee.HSL)throw new Error("".concat(Ke," cannot be used for interpolation."));xe._getLightness(),we._getLightness(),Ze=xe.hsla,Qe=we.hsla}return Se=Math.max(Math.min(Se,1),0),void 0===(this||je).lerp&&((this||je).lerp=function(je,xe,we){return we*(xe-je)+je}),Ke===Ee.RGB?Ye=this.lerp(Ze[0],Qe[0],Se):(.5<Math.abs(Ze[0]-Qe[0])&&(Ze[0]>Qe[0]?Qe[0]+=1:Ze[0]+=1),1<=(Ye=this.lerp(Ze[0],Qe[0],Se))&&--Ye),xe=this.lerp(Ze[1],Qe[1],Se),we=this.lerp(Ze[2],Qe[2],Se),Ze=this.lerp(Ze[3],Qe[3],Se),Ye*=Je[Ke][0],xe*=Je[Ke][1],we*=Je[Ke][2],Ze*=Je[Ke][3],this.color(Ye,xe,we,Ze)},Te.default.prototype.lightness=function(je){return Te.default._validateParameters("lightness",arguments),this.color(je)._getLightness()},Te.default.prototype.red=function(je){return Te.default._validateParameters("red",arguments),this.color(je)._getRed()},Te.default.prototype.saturation=function(je){return Te.default._validateParameters("saturation",arguments),this.color(je)._getSaturation()};var Ye=Te.default;Se.default=Ye},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=s(xe("../core/main")),Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants")),Ye=s(xe("./color_conversion"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function s(je){return je&&je.__esModule?je:{default:je}}function l(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}var Ze={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Qe=(xe=/\s*/,/(\d{1,3})/),Ke=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,Je=new RegExp("".concat(Ke.source,"%")),$e={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",Qe.source,",",Qe.source,",",Qe.source,"\\)$"].join(xe.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",Je.source,",",Je.source,",",Je.source,"\\)$"].join(xe.source),"i"),RGBA:new RegExp(["^rgba\\(",Qe.source,",",Qe.source,",",Qe.source,",",Ke.source,"\\)$"].join(xe.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",Je.source,",",Je.source,",",Je.source,",",Ke.source,"\\)$"].join(xe.source),"i"),HSL:new RegExp(["^hsl\\(",Qe.source,",",Je.source,",",Je.source,"\\)$"].join(xe.source),"i"),HSLA:new RegExp(["^hsla\\(",Qe.source,",",Je.source,",",Je.source,",",Ke.source,"\\)$"].join(xe.source),"i"),HSB:new RegExp(["^hsb\\(",Qe.source,",",Je.source,",",Je.source,"\\)$"].join(xe.source),"i"),HSBA:new RegExp(["^hsba\\(",Qe.source,",",Je.source,",",Je.source,",",Ke.source,"\\)$"].join(xe.source),"i")};Qe=(Te.default.Color=function(){function c(xe,we){if(!((this||je)instanceof c))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(xe._colorMode,xe._colorMaxes),![Ee.RGB,Ee.HSL,Ee.HSB].includes((this||je).mode))throw new Error("".concat((this||je).mode," is an invalid colorMode."));(this||je)._array=c._parseInputs.apply(this||je,we),this._calculateLevels()}var xe,we,Se;return xe=c,Se=[{key:"_parseInputs",value:function(xe,we,Se,Te){var Qe,Ke=arguments.length,Je=(this||je).mode,et=(this||je).maxes[Je],tt=[];if(3<=Ke){for(tt[0]=xe/et[0],tt[1]=we/et[1],tt[2]=Se/et[2],tt[3]="number"==typeof Te?Te/et[3]:1,Qe=tt.length-1;0<=Qe;--Qe){var rt=tt[Qe];rt<0?tt[Qe]=0:1<rt&&(tt[Qe]=1)}return Je===Ee.HSL?Ye.default._hslaToRGBA(tt):Je===Ee.HSB?Ye.default._hsbaToRGBA(tt):tt}if(1===Ke&&"string"==typeof xe){Se=xe.trim().toLowerCase();if(Ze[Se])return c._parseInputs.call(this||je,Ze[Se]);if($e.HEX3.test(Se))return(tt=$e.HEX3.exec(Se).slice(1).map((function(je){return parseInt(je+je,16)/255})))[3]=1,tt;if($e.HEX6.test(Se))return(tt=$e.HEX6.exec(Se).slice(1).map((function(je){return parseInt(je,16)/255})))[3]=1,tt;if($e.HEX4.test(Se))return $e.HEX4.exec(Se).slice(1).map((function(je){return parseInt(je+je,16)/255}));if($e.HEX8.test(Se))return $e.HEX8.exec(Se).slice(1).map((function(je){return parseInt(je,16)/255}));if($e.RGB.test(Se))return(tt=$e.RGB.exec(Se).slice(1).map((function(je){return je/255})))[3]=1,tt;if($e.RGB_PERCENT.test(Se))return(tt=$e.RGB_PERCENT.exec(Se).slice(1).map((function(je){return parseFloat(je)/100})))[3]=1,tt;if($e.RGBA.test(Se))return $e.RGBA.exec(Se).slice(1).map((function(je,xe){return 3===xe?parseFloat(je):je/255}));if($e.RGBA_PERCENT.test(Se))return $e.RGBA_PERCENT.exec(Se).slice(1).map((function(je,xe){return 3===xe?parseFloat(je):parseFloat(je)/100}));if($e.HSL.test(Se)?(tt=$e.HSL.exec(Se).slice(1).map((function(je,xe){return 0===xe?parseInt(je,10)/360:parseInt(je,10)/100})))[3]=1:$e.HSLA.test(Se)&&(tt=$e.HSLA.exec(Se).slice(1).map((function(je,xe){return 0===xe?parseInt(je,10)/360:3===xe?parseFloat(je):parseInt(je,10)/100}))),(tt=tt.map((function(je){return Math.max(Math.min(je,1),0)}))).length)return Ye.default._hslaToRGBA(tt);if($e.HSB.test(Se)?(tt=$e.HSB.exec(Se).slice(1).map((function(je,xe){return 0===xe?parseInt(je,10)/360:parseInt(je,10)/100})))[3]=1:$e.HSBA.test(Se)&&(tt=$e.HSBA.exec(Se).slice(1).map((function(je,xe){return 0===xe?parseInt(je,10)/360:3===xe?parseFloat(je):parseInt(je,10)/100}))),tt.length){for(Qe=tt.length-1;0<=Qe;--Qe)tt[Qe]=Math.max(Math.min(tt[Qe],1),0);return Ye.default._hsbaToRGBA(tt)}tt=[1,1,1,1]}else{if(1!==Ke&&2!==Ke||"number"!=typeof xe)throw new Error("".concat(arguments,"is not a valid color representation."));tt[0]=xe/et[2],tt[1]=xe/et[2],tt[2]=xe/et[2],tt[3]="number"==typeof we?we/et[3]:1,tt=tt.map((function(je){return Math.max(Math.min(je,1),0)}))}return tt}}],(we=[{key:"toString",value:function(xe){var we=(this||je).levels,Se=(this||je)._array,Te=Se[3];switch(xe){case"#rrggbb":return"#".concat(we[0]<16?"0".concat(we[0].toString(16)):we[0].toString(16),we[1]<16?"0".concat(we[1].toString(16)):we[1].toString(16),we[2]<16?"0".concat(we[2].toString(16)):we[2].toString(16));case"#rrggbbaa":return"#".concat(we[0]<16?"0".concat(we[0].toString(16)):we[0].toString(16),we[1]<16?"0".concat(we[1].toString(16)):we[1].toString(16),we[2]<16?"0".concat(we[2].toString(16)):we[2].toString(16),we[3]<16?"0".concat(we[3].toString(16)):we[3].toString(16));case"#rgb":return"#".concat(Math.round(15*Se[0]).toString(16),Math.round(15*Se[1]).toString(16),Math.round(15*Se[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*Se[0]).toString(16),Math.round(15*Se[1]).toString(16),Math.round(15*Se[2]).toString(16),Math.round(15*Se[3]).toString(16));case"rgb":return"rgb(".concat(we[0],", ",we[1],", ",we[2],")");case"rgb%":return"rgb(".concat((100*Se[0]).toPrecision(3),"%, ",(100*Se[1]).toPrecision(3),"%, ",(100*Se[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*Se[0]).toPrecision(3),"%, ",(100*Se[1]).toPrecision(3),"%, ",(100*Se[2]).toPrecision(3),"%, ",(100*Se[3]).toPrecision(3),"%)");case"hsb":case"hsv":return(this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),"hsb(".concat((this||je).hsba[0]*(this||je).maxes[Ee.HSB][0],", ",(this||je).hsba[1]*(this||je).maxes[Ee.HSB][1],", ",(this||je).hsba[2]*(this||je).maxes[Ee.HSB][2],")");case"hsb%":case"hsv%":return(this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),"hsb(".concat((100*(this||je).hsba[0]).toPrecision(3),"%, ",(100*(this||je).hsba[1]).toPrecision(3),"%, ",(100*(this||je).hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return(this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),"hsba(".concat((this||je).hsba[0]*(this||je).maxes[Ee.HSB][0],", ",(this||je).hsba[1]*(this||je).maxes[Ee.HSB][1],", ",(this||je).hsba[2]*(this||je).maxes[Ee.HSB][2],", ",Te,")");case"hsba%":case"hsva%":return(this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),"hsba(".concat((100*(this||je).hsba[0]).toPrecision(3),"%, ",(100*(this||je).hsba[1]).toPrecision(3),"%, ",(100*(this||je).hsba[2]).toPrecision(3),"%, ",(100*Te).toPrecision(3),"%)");case"hsl":return(this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),"hsl(".concat((this||je).hsla[0]*(this||je).maxes[Ee.HSL][0],", ",(this||je).hsla[1]*(this||je).maxes[Ee.HSL][1],", ",(this||je).hsla[2]*(this||je).maxes[Ee.HSL][2],")");case"hsl%":return(this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),"hsl(".concat((100*(this||je).hsla[0]).toPrecision(3),"%, ",(100*(this||je).hsla[1]).toPrecision(3),"%, ",(100*(this||je).hsla[2]).toPrecision(3),"%)");case"hsla":return(this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),"hsla(".concat((this||je).hsla[0]*(this||je).maxes[Ee.HSL][0],", ",(this||je).hsla[1]*(this||je).maxes[Ee.HSL][1],", ",(this||je).hsla[2]*(this||je).maxes[Ee.HSL][2],", ",Te,")");case"hsla%":return(this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),"hsl(".concat((100*(this||je).hsla[0]).toPrecision(3),"%, ",(100*(this||je).hsla[1]).toPrecision(3),"%, ",(100*(this||je).hsla[2]).toPrecision(3),"%, ",(100*Te).toPrecision(3),"%)");default:return"rgba(".concat(we[0],",",we[1],",",we[2],",",Te,")")}}},{key:"setRed",value:function(xe){(this||je)._array[0]=xe/(this||je).maxes[Ee.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(xe){(this||je)._array[1]=xe/(this||je).maxes[Ee.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(xe){(this||je)._array[2]=xe/(this||je).maxes[Ee.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(xe){(this||je)._array[3]=xe/(this||je).maxes[(this||je).mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var xe=(this||je)._array,we=(this||je).levels=new Array(xe.length),Se=xe.length-1;0<=Se;--Se)we[Se]=Math.round(255*xe[Se]);(this||je).hsla=null,(this||je).hsba=null}},{key:"_getAlpha",value:function(){return(this||je)._array[3]*(this||je).maxes[(this||je).mode][3]}},{key:"_storeModeAndMaxes",value:function(xe,we){(this||je).mode=xe,(this||je).maxes=we}},{key:"_getMode",value:function(){return(this||je).mode}},{key:"_getMaxes",value:function(){return(this||je).maxes}},{key:"_getBlue",value:function(){return(this||je)._array[2]*(this||je).maxes[Ee.RGB][2]}},{key:"_getBrightness",value:function(){return(this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),(this||je).hsba[2]*(this||je).maxes[Ee.HSB][2]}},{key:"_getGreen",value:function(){return(this||je)._array[1]*(this||je).maxes[Ee.RGB][1]}},{key:"_getHue",value:function(){return(this||je).mode===Ee.HSB?((this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),(this||je).hsba[0]*(this||je).maxes[Ee.HSB][0]):((this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),(this||je).hsla[0]*(this||je).maxes[Ee.HSL][0])}},{key:"_getLightness",value:function(){return(this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),(this||je).hsla[2]*(this||je).maxes[Ee.HSL][2]}},{key:"_getRed",value:function(){return(this||je)._array[0]*(this||je).maxes[Ee.RGB][0]}},{key:"_getSaturation",value:function(){return(this||je).mode===Ee.HSB?((this||je).hsba||((this||je).hsba=Ye.default._rgbaToHSBA((this||je)._array)),(this||je).hsba[1]*(this||je).maxes[Ee.HSB][1]):((this||je).hsla||((this||je).hsla=Ye.default._rgbaToHSLA((this||je)._array)),(this||je).hsla[1]*(this||je).maxes[Ee.HSL][1])}}])&&l(xe.prototype,we),Se&&l(xe,Se),c}(),Te.default.Color);Se.default=Qe},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.fill"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=l();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function l(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,l=function(){return je},je)}xe("./p5.Color"),Te.default.prototype.beginClip=function(){(this||je)._renderer.beginClip(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},Te.default.prototype.endClip=function(){(this||je)._renderer.endClip()},Te.default.prototype.clip=function(xe,we){(this||je)._renderer.beginClip(we),xe(),(this||je)._renderer.endClip(we)},Te.default.prototype.background=function(){var xe;return(xe=(this||je)._renderer).background.apply(xe,arguments),this||je},Te.default.prototype.clear=function(){return(this||je)._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this||je},Te.default.prototype.colorMode=function(xe,we,Se,Ye,Ze){return Te.default._validateParameters("colorMode",arguments),xe!==Ee.RGB&&xe!==Ee.HSB&&xe!==Ee.HSL||((this||je)._colorMode=xe,xe=(this||je)._colorMaxes[xe],2===arguments.length?(xe[0]=we,xe[1]=we,xe[2]=we,xe[3]=we):4===arguments.length?(xe[0]=we,xe[1]=Se,xe[2]=Ye):5===arguments.length&&(xe[0]=we,xe[1]=Se,xe[2]=Ye,xe[3]=Ze)),this||je},Te.default.prototype.fill=function(){var xe;return(this||je)._renderer._setProperty("_fillSet",!0),(this||je)._renderer._setProperty("_doFill",!0),(xe=(this||je)._renderer).fill.apply(xe,arguments),this||je},Te.default.prototype.noFill=function(){return(this||je)._renderer._setProperty("_doFill",!1),this||je},Te.default.prototype.noStroke=function(){return(this||je)._renderer._setProperty("_doStroke",!1),this||je},Te.default.prototype.stroke=function(){var xe;return(this||je)._renderer._setProperty("_strokeSet",!0),(this||je)._renderer._setProperty("_doStroke",!0),(xe=(this||je)._renderer).stroke.apply(xe,arguments),this||je},Te.default.prototype.erase=function(){return(this||je)._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this||je},Te.default.prototype.noErase=function(){return(this||je)._renderer.noErase(),this||je};var Ye=Te.default;Se.default=Ye},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(je,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.QUADRATIC=we.LINEAR=we._CTX_MIDDLE=we._DEFAULT_LEADMULT=we._DEFAULT_TEXT_FILL=we.WORD=we.CHAR=we.BOLDITALIC=we.BOLD=we.ITALIC=we.NORMAL=we.BLUR=we.ERODE=we.DILATE=we.POSTERIZE=we.INVERT=we.OPAQUE=we.GRAY=we.THRESHOLD=we.BURN=we.DODGE=we.SOFT_LIGHT=we.HARD_LIGHT=we.OVERLAY=we.REPLACE=we.SCREEN=we.MULTIPLY=we.EXCLUSION=we.SUBTRACT=we.DIFFERENCE=we.LIGHTEST=we.DARKEST=we.ADD=we.REMOVE=we.BLEND=we.UP_ARROW=we.TAB=we.SHIFT=we.RIGHT_ARROW=we.RETURN=we.OPTION=we.LEFT_ARROW=we.ESCAPE=we.ENTER=we.DOWN_ARROW=we.DELETE=we.CONTROL=we.BACKSPACE=we.ALT=we.AUTO=we.HSL=we.HSB=we.RGB=we.MITER=we.BEVEL=we.ROUND=we.SQUARE=we.PROJECT=we.PIE=we.CHORD=we.OPEN=we.CLOSE=we.TESS=we.QUAD_STRIP=we.QUADS=we.TRIANGLE_STRIP=we.TRIANGLE_FAN=we.TRIANGLES=we.LINE_LOOP=we.LINE_STRIP=we.LINES=we.POINTS=we.BASELINE=we.BOTTOM=we.TOP=we.CENTER=we.LEFT=we.RIGHT=we.RADIUS=we.CORNERS=we.CORNER=we.RAD_TO_DEG=we.DEG_TO_RAD=we.RADIANS=we.DEGREES=we.TWO_PI=we.TAU=we.QUARTER_PI=we.PI=we.HALF_PI=we.WAIT=we.TEXT=we.MOVE=we.HAND=we.CROSS=we.ARROW=we.WEBGL2=we.WEBGL=we.P2D=we.VERSION=void 0,we.RGBA=we.HALF_FLOAT=we.FLOAT=we.UNSIGNED_INT=we.UNSIGNED_BYTE=we.COVER=we.CONTAIN=we.FALLBACK=we.LABEL=we.AXES=we.GRID=we._DEFAULT_FILL=we._DEFAULT_STROKE=we.PORTRAIT=we.LANDSCAPE=we.SMOOTH=we.FLAT=we.MIRROR=we.CLAMP=we.REPEAT=we.NEAREST=we.IMAGE=we.IMMEDIATE=we.TEXTURE=we.FILL=we.STROKE=we.CURVE=we.BEZIER=void 0;var Se=Math.PI,Te=(we.VERSION="1.9.1",we.P2D="p2d",we.WEBGL="webgl",we.WEBGL2="webgl2",we.ARROW="default",we.CROSS="crosshair",we.HAND="pointer",we.MOVE="move",we.TEXT="text",we.WAIT="wait",Se/2);Te=(we.HALF_PI=Te,Se),Te=(we.PI=Te,Se/4),Te=(we.QUARTER_PI=Te,2*Se),Te=(we.TAU=Te,2*Se),Te=(we.TWO_PI=Te,we.DEGREES="degrees",we.RADIANS="radians",Se/180),Te=(we.DEG_TO_RAD=Te,180/Se);we.RAD_TO_DEG=Te,we.CORNER="corner",we.CORNERS="corners",we.RADIUS="radius",we.RIGHT="right",we.LEFT="left",we.CENTER="center",we.TOP="top",we.BOTTOM="bottom",we.BASELINE="alphabetic",we.POINTS=0,we.LINES=1,we.LINE_STRIP=3,we.LINE_LOOP=2,we.TRIANGLES=4,we.TRIANGLE_FAN=6,we.TRIANGLE_STRIP=5,we.QUADS="quads",we.QUAD_STRIP="quad_strip",we.TESS="tess",we.CLOSE="close",we.OPEN="open",we.CHORD="chord",we.PIE="pie",we.PROJECT="square",we.SQUARE="butt",we.ROUND="round",we.BEVEL="bevel",we.MITER="miter",we.RGB="rgb",we.HSB="hsb",we.HSL="hsl",we.AUTO="auto",we.ALT=18,we.BACKSPACE=8,we.CONTROL=17,we.DELETE=46,we.DOWN_ARROW=40,we.ENTER=13,we.ESCAPE=27,we.LEFT_ARROW=37,we.OPTION=18,we.RETURN=13,we.RIGHT_ARROW=39,we.SHIFT=16,we.TAB=9,we.UP_ARROW=38,we.BLEND="source-over",we.REMOVE="destination-out",we.ADD="lighter",we.DARKEST="darken",we.LIGHTEST="lighten",we.DIFFERENCE="difference",we.SUBTRACT="subtract",we.EXCLUSION="exclusion",we.MULTIPLY="multiply",we.SCREEN="screen",we.REPLACE="copy",we.OVERLAY="overlay",we.HARD_LIGHT="hard-light",we.SOFT_LIGHT="soft-light",we.DODGE="color-dodge",we.BURN="color-burn",we.THRESHOLD="threshold",we.GRAY="gray",we.OPAQUE="opaque",we.INVERT="invert",we.POSTERIZE="posterize",we.DILATE="dilate",we.ERODE="erode",we.BLUR="blur",we.NORMAL="normal",we.ITALIC="italic",we.BOLD="bold",we.BOLDITALIC="bold italic",we.CHAR="CHAR",we.WORD="WORD",we._DEFAULT_TEXT_FILL="#000000",we._DEFAULT_LEADMULT=1.25,we._CTX_MIDDLE="middle",we.LINEAR="linear",we.QUADRATIC="quadratic",we.BEZIER="bezier",we.CURVE="curve",we.STROKE="stroke",we.FILL="fill",we.TEXTURE="texture",we.IMMEDIATE="immediate",we.IMAGE="image",we.NEAREST="nearest",we.REPEAT="repeat",we.CLAMP="clamp",we.MIRROR="mirror",we.FLAT="flat",we.SMOOTH="smooth",we.LANDSCAPE="landscape",we.PORTRAIT="portrait",we._DEFAULT_STROKE="#000000",we._DEFAULT_FILL="#FFFFFF",we.GRID="grid",we.AXES="axes",we.LABEL="label",we.FALLBACK="fallback",we.CONTAIN="contain",we.COVER="cover",we.UNSIGNED_BYTE="unsigned-byte",we.UNSIGNED_INT="unsigned-int",we.FLOAT="float",we.HALF_FLOAT="half-float";we.RGBA="rgba"},{}],270:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.search"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.search"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ee=xe("./main"))&&Ee.__esModule?Ee:{default:Ee},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("./constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}var Ye=[Ee.ARROW,Ee.CROSS,Ee.HAND,Ee.MOVE,Ee.TEXT,Ee.WAIT],Ze=(Te.default.prototype._frameRate=0,Te.default.prototype._lastFrameTime=window.performance.now(),Te.default.prototype._targetFrameRate=60,window.print),Qe=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}Te.default.prototype.print=function(){var je;arguments.length?(je=console).log.apply(je,arguments):Qe||(Ze(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(Qe=!0))},Te.default.prototype.frameCount=0,Te.default.prototype.deltaTime=0,Te.default.prototype.focused=document.hasFocus(),Te.default.prototype.cursor=function(xe,we,Se){var Te,Ee="auto",Ze=(this||je)._curElement.elt;Ye.includes(xe)?Ee=xe:"string"==typeof xe&&(Te="",we&&Se&&"number"==typeof we&&"number"==typeof Se&&(Te="".concat(we," ").concat(Se)),Ee="http://"===xe.substring(0,7)||"https://"===xe.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(xe)?"url(".concat(xe,") ").concat(Te,", auto"):xe),Ze.style.cursor=Ee},Te.default.prototype.frameRate=function(xe){return Te.default._validateParameters("frameRate",arguments),"number"!=typeof xe||xe<0?(this||je)._frameRate:(this._setProperty("_targetFrameRate",xe),0===xe&&this._setProperty("_frameRate",xe),this||je)},Te.default.prototype.getFrameRate=function(){return this.frameRate()},Te.default.prototype.setFrameRate=function(je){return this.frameRate(je)},Te.default.prototype.getTargetFrameRate=function(){return(this||je)._targetFrameRate},Te.default.prototype.noCursor=function(){(this||je)._curElement.elt.style.cursor="none"},Te.default.prototype.webglVersion=Ee.P2D,Te.default.prototype.displayWidth=screen.width,Te.default.prototype.displayHeight=screen.height,Te.default.prototype.windowWidth=d(),Te.default.prototype.windowHeight=h(),Te.default.prototype._onresize=function(xe){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",h());var we=(this||je)._isGlobal?window:this||je;"function"!=typeof we.windowResized||void 0===(we=we.windowResized(xe))||we||xe.preventDefault()},Te.default.prototype.width=0,Te.default.prototype.height=0,Te.default.prototype.fullscreen=function(je){if(Te.default._validateParameters("fullscreen",arguments),void 0===je)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(je){je=document.documentElement;if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");je.requestFullscreen?je.requestFullscreen():je.mozRequestFullScreen?je.mozRequestFullScreen():je.webkitRequestFullscreen?je.webkitRequestFullscreen():je.msRequestFullscreen&&je.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},Te.default.prototype.pixelDensity=function(xe){var we;return Te.default._validateParameters("pixelDensity",arguments),"number"==typeof xe?(xe!==(this||je)._pixelDensity&&((this||je)._pixelDensity=xe),(we=this||je).resizeCanvas((this||je).width,(this||je).height,!0)):we=(this||je)._pixelDensity,we},Te.default.prototype.displayDensity=function(){return window.devicePixelRatio},Te.default.prototype.getURL=function(){return location.href},Te.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(je){return""!==je}))},Te.default.prototype.getURLParams=function(){for(var je,xe=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,we={};null!=(je=xe.exec(location.search));)je.index===xe.lastIndex&&xe.lastIndex++,we[je[1]]=je[2];return we};xe=Te.default;Se.default=xe},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(je,xe,we){je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.concat"),je("core-js/modules/es.array.filter"),je("core-js/modules/es.array.for-each"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.array.join"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.array.some"),je("core-js/modules/es.function.name"),je("core-js/modules/es.object.assign"),je("core-js/modules/es.object.get-own-property-names"),je("core-js/modules/es.object.keys"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.constructor"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.iterator"),je("core-js/modules/es.string.match"),je("core-js/modules/es.string.replace"),je("core-js/modules/es.string.split"),je("core-js/modules/es.string.starts-with"),je("core-js/modules/web.dom-collections.for-each"),je("core-js/modules/web.dom-collections.iterator"),je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.concat"),je("core-js/modules/es.array.filter"),je("core-js/modules/es.array.for-each"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.array.join"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.array.some"),je("core-js/modules/es.function.name"),je("core-js/modules/es.object.assign"),je("core-js/modules/es.object.get-own-property-names"),je("core-js/modules/es.object.keys"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.constructor"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.iterator"),je("core-js/modules/es.string.match"),je("core-js/modules/es.string.replace"),je("core-js/modules/es.string.split"),je("core-js/modules/es.string.starts-with"),je("core-js/modules/web.dom-collections.for-each"),je("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(Ze=je("../main"))&&Ze.__esModule?Ze:{default:Ze};je("../internationalization");function n(je,xe){xe=xe||console.log.bind(console),Te||Ee(),Te.some((function(we){var Se;if(je.message&&null!==je.message.match("\\W?".concat(we.name,"\\W")))return Se="function"===we.type?"".concat(we.name,"()"):we.name,xe("Did you just try to use p5.js's ".concat(Se," ").concat(we.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(Ye)),!0}))}var Te=null,Ee=null,Ye=(Se.default._friendlyError=Se.default._checkForUserDefinedFunctions=Se.default._fesErrorMonitor=function(){},Te=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),Ze=(Ee=function(){function e(je){return Object.getOwnPropertyNames(je).filter((function(je){return"_"!==je[0]&&!(je in xe)&&(xe[je]=!0)})).map((function(xe){var we="function"==typeof je[xe]?"function":xe===xe.toUpperCase()?"constant":"variable";return{name:xe,type:we}}))}var xe={};(Te=[].concat(e(Se.default.prototype),e(je("../constants")))).sort((function(je,xe){return xe.name.length-je.name.length}))},Se.default.prototype._helpForMisusedAtTopLevelCode=n,"complete"!==document.readyState&&(window.addEventListener("error",n,!1),window.addEventListener("load",(function(){window.removeEventListener("error",n,!1)}))),Se.default);we.default=Ze},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(je,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(Se=je("../main"))&&Se.__esModule?Se:{default:Se};je("../internationalization");Se.default._friendlyFileLoadError=function(){};je=Se.default;we.default=je},{"../internationalization":278,"../main":280}],273:[function(je,xe,we){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.filter"),je("core-js/modules/es.array.for-each"),je("core-js/modules/es.array.from"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.index-of"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.array.join"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.object.get-own-property-descriptor"),je("core-js/modules/es.object.keys"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.constructor"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.includes"),je("core-js/modules/es.string.iterator"),je("core-js/modules/es.string.match"),je("core-js/modules/es.string.split"),je("core-js/modules/es.string.trim"),je("core-js/modules/es.weak-map"),je("core-js/modules/web.dom-collections.for-each"),je("core-js/modules/web.dom-collections.iterator"),je("core-js/modules/es.array.filter"),je("core-js/modules/es.array.for-each"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.index-of"),je("core-js/modules/es.array.join"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.object.keys"),je("core-js/modules/es.regexp.constructor"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.includes"),je("core-js/modules/es.string.match"),je("core-js/modules/es.string.split"),je("core-js/modules/es.string.trim"),je("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=O(je("../main"));je("../internationalization"),C(je("../constants"));function k(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,k=function(){return je},je)}function C(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=k();if(xe&&xe.has(je))return xe.get(je);var we,Se,Te={},Ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je)Object.prototype.hasOwnProperty.call(je,we)&&((Se=Ee?Object.getOwnPropertyDescriptor(je,we):null)&&(Se.get||Se.set)?Object.defineProperty(Te,we,Se):Te[we]=je[we]);return Te.default=je,xe&&xe.set(je,Te),Te}function O(je){return je&&je.__esModule?je:{default:je}}Se.default._fesCodeReader=function(){};var Te=Se.default;we.default=Te},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(xe,we,Se){xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../main"))&&xe.__esModule?xe:{default:xe};function o(){var xe=/(^|@)\S+:\d+/,we=/^\s*at .*(\S+:\d+|\(native\))/m,Se=/^(eval@)?(\[native code])?$/;return{parse:function(je){return void 0!==je.stacktrace||void 0!==je["opera#sourceloc"]?this.parseOpera(je):je.stack&&je.stack.match(we)?this.parseV8OrIE(je):je.stack?this.parseFFOrSafari(je):void 0},extractLocation:function(je){return-1===je.indexOf(":")?[je]:[(je=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(je.replace(/[()]/g,"")))[1],je[2]||void 0,je[3]||void 0]},parseV8OrIE:function(xe){return xe.stack.split("\n").filter((function(je){return!!je.match(we)}),this||je).map((function(je){var xe=(je=-1<je.indexOf("(eval ")?je.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):je).replace(/^\s+/,"").replace(/\(eval code/g,"("),we=xe.match(/ (\((.+):(\d+):(\d+)\)$)/);xe=(xe=we?xe.replace(we[0],""):xe).split(/\s+/).slice(1),we=this.extractLocation(we?we[1]:xe.pop());return{functionName:xe.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(we[0])?void 0:we[0],lineNumber:we[1],columnNumber:we[2],source:je}}),this||je)},parseFFOrSafari:function(xe){return xe.stack.split("\n").filter((function(je){return!je.match(Se)}),this||je).map((function(je){var xe,we;return-1===(je=-1<je.indexOf(" > eval")?je.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):je).indexOf("@")&&-1===je.indexOf(":")?{functionName:je}:{functionName:(we=je.match(xe=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&we[1]?we[1]:void 0,fileName:(we=this.extractLocation(je.replace(xe,"")))[0],lineNumber:we[1],columnNumber:we[2],source:je}}),this||je)},parseOpera:function(je){return!je.stacktrace||-1<je.message.indexOf("\n")&&je.message.split("\n").length>je.stacktrace.split("\n").length?this.parseOpera9(je):je.stack?this.parseOpera11(je):this.parseOpera10(je)},parseOpera9:function(je){for(var xe=/Line (\d+).*script (?:in )?(\S+)/i,we=je.message.split("\n"),Se=[],Te=2,Ee=we.length;Te<Ee;Te+=2){var Ye=xe.exec(we[Te]);Ye&&Se.push({fileName:Ye[2],lineNumber:Ye[1],source:we[Te]})}return Se},parseOpera10:function(je){for(var xe=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,we=je.stacktrace.split("\n"),Se=[],Te=0,Ee=we.length;Te<Ee;Te+=2){var Ye=xe.exec(we[Te]);Ye&&Se.push({functionName:Ye[3]||void 0,fileName:Ye[2],lineNumber:Ye[1],source:we[Te]})}return Se},parseOpera11:function(we){return we.stack.split("\n").filter((function(je){return!!je.match(xe)&&!je.match(/^Error created at/)}),this||je).map((function(je){var xe,we=je.split("@"),Se=this.extractLocation(we.pop());we=we.shift()||"";return{functionName:we.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(xe=we.match(/\(([^)]*)\)/)?we.replace(/^[^(]+\(([^)]*)\)$/,"$1"):xe)||"[arguments not available]"===xe?void 0:xe.split(","),fileName:Se[0],lineNumber:Se[1],columnNumber:Se[2],source:je}}),this||je)}}}xe.default._getErrorStackParser=function(){return new o};xe=xe.default;Se.default=xe},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(je,xe,we){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.concat"),je("core-js/modules/es.array.for-each"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.index-of"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.array.join"),je("core-js/modules/es.array.last-index-of"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.function.name"),je("core-js/modules/es.map"),je("core-js/modules/es.number.constructor"),je("core-js/modules/es.object.get-own-property-descriptor"),je("core-js/modules/es.object.get-prototype-of"),je("core-js/modules/es.object.keys"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.reflect.construct"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.set"),je("core-js/modules/es.string.includes"),je("core-js/modules/es.string.iterator"),je("core-js/modules/es.string.split"),je("core-js/modules/es.weak-map"),je("core-js/modules/web.dom-collections.for-each"),je("core-js/modules/web.dom-collections.iterator"),je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.concat"),je("core-js/modules/es.array.for-each"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.array.join"),je("core-js/modules/es.array.last-index-of"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.function.name"),je("core-js/modules/es.number.constructor"),je("core-js/modules/es.object.keys"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.exec"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.set"),je("core-js/modules/es.string.includes"),je("core-js/modules/es.string.iterator"),je("core-js/modules/es.string.split"),je("core-js/modules/web.dom-collections.for-each"),je("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(Se=je("../main"))&&Se.__esModule?Se:{default:Se};(function(je){if((!je||!je.__esModule)&&null!==je&&("object"===a(je)||"function"==typeof je)){var xe=i();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se)}})(je("../constants")),je("../internationalization");function i(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,i=function(){return je},je)}function a(je){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}Se.default._validateParameters=Se.default._clearValidateParamsCache=function(){};je=Se.default;we.default=je},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(je,xe,we){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.object.get-own-property-descriptor"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.string.iterator"),je("core-js/modules/es.weak-map"),je("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(je("./constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}we.default={modeAdjust:function(je,xe,we,Te,Ee){return Ee===Se.CORNER?{x:je,y:xe,w:we,h:Te}:Ee===Se.CORNERS?{x:je,y:xe,w:we-je,h:Te-xe}:Ee===Se.RADIUS?{x:je-we,y:xe-Te,w:2*we,h:2*Te}:Ee===Se.CENTER?{x:je-.5*we,y:xe-.5*Te,w:we,h:Te}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(je,xe,we){je("core-js/modules/es.array.iterator"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.promise"),je("core-js/modules/es.string.iterator"),je("core-js/modules/web.dom-collections.iterator"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.promise"),je("core-js/modules/es.string.iterator"),je("core-js/modules/web.dom-collections.iterator");var Se=(Te=je("../core/main"))&&Te.__esModule?Te:{default:Te};je("./internationalization");var Te=Promise.resolve();Promise.all([new Promise((function(je,xe){"complete"===document.readyState?je():window.addEventListener("load",je,!1)})),Te]).then((function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!Se.default.instance&&new Se.default}))},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(xe,we,Se){xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.setTranslatorLanguage=Se.currentTranslatorLanguage=Se.availableTranslatorLanguages=Se.initialize=Se.translator=void 0;var Te,Ee,Ye=a(xe("i18next")),Ze=a(xe("i18next-browser-languagedetector"));function a(je){return je&&je.__esModule?je:{default:je}}function l(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}var Qe=function(){function r(xe,we){if(!((this||je)instanceof r))throw new TypeError("Cannot call a class as a function");this.init(xe,we)}var xe,we,Se;return xe=r,(we=[{key:"fetchWithTimeout",value:function(je,xe){var we=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(je,xe),new Promise((function(je,xe){return setTimeout((function(){return xe(new Error("timeout"))}),we)}))])}},{key:"init",value:function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(this||je).services=xe,(this||je).options=we}},{key:"read",value:function(xe,we,Se){var Ye=(this||je).options.loadPath;xe===(this||je).options.fallback?Se(null,Te[xe][we]):Ee.includes(xe)?(Ye=(this||je).services.interpolator.interpolate(Ye,{lng:xe,ns:we}),this.loadUrl(Ye,Se)):Se("Not found",!1)}},{key:"loadUrl",value:function(je,xe){this.fetchWithTimeout(je).then((function(xe){if(xe.ok)return xe.json();throw new Error("failed loading ".concat(je))}),(function(){throw new Error("failed loading ".concat(je))})).then((function(je){return xe(null,je)})).catch(xe)}}])&&l(xe.prototype,we),Se&&l(xe,Se),r}();Qe.type="backend",Se.translator=function(je,xe){console.debug("p5.js translator called before translations were loaded"),Ye.default.t(je,xe)},Se.initialize=function(){return Ye.default.use(Ze.default).use(Qe).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:Te}).then((function(je){Se.translator=je}),(function(je){return console.debug("Translations failed to load (".concat(je,")"))}))},Se.availableTranslatorLanguages=function(){return Ye.default.languages},Se.currentTranslatorLanguage=function(je){return Ye.default.language};Se.setTranslatorLanguage=function(je){return Ye.default.changeLanguage(je||void 0,(function(je){return console.debug("Translations failed to load (".concat(je,")"))}))}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(je,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;je=(je=je("./main"))&&je.__esModule?je:{default:je};je.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},je.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},je.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},je.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};je=je.default;we.default=je},{"./main":280}],280:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-own-property-names"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-own-property-names"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0,xe("./shim");var Te=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("./constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}var Ee,Ye=function(){function g(xe,we){var Se=this||je;if(!((this||je)instanceof g))throw new TypeError("Cannot call a class as a function");(this||je)._setupDone=!1,(this||je)._preloadDone=!1,(this||je)._pixelDensity=Math.ceil(window.devicePixelRatio)||1,(this||je)._userNode=we,(this||je)._curElement=null,(this||je)._elements=[],(this||je)._glAttributes=null,(this||je)._requestAnimId=0,(this||je)._preloadCount=0,(this||je)._isGlobal=!1,(this||je)._loop=!0,(this||je)._startListener=null,this._initializeInstanceVariables(),(this||je)._defaultCanvasSize={width:100,height:100},(this||je)._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},(this||je)._millisStart=-1,(this||je)._recording=!1,(this||je).touchstart=!1,(this||je).touchend=!1,(this||je)._lcg_random_state=null,(this||je)._gaussian_previous=!1,(this||je)._events.wheel=null,(this||je)._loadingScreenId="p5_loading",(this||je)._registeredMethods={};we=Object.getOwnPropertyNames(g.prototype._registeredMethods);var Te=!0,Ee=!1,Ye=void 0;try{for(var Ze,Qe=we[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;(this||je)._registeredMethods[Ke]=g.prototype._registeredMethods[Ke].slice()}}catch(xe){Ee=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Ee)throw Ye}}window.DeviceOrientationEvent&&((this||je)._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&((this||je)._events.devicemotion=null),g.prototype.callRegisteredHooksFor=function(xe){var we=this||je||g.prototype,Se=(this||je)._isGlobal?window:this||je;if(we._registeredMethods.hasOwnProperty(xe)){we=we._registeredMethods[xe];var Te=!0,Ee=(xe=!1,void 0);try{for(var Ye,Ze=we[Symbol.iterator]();!(Te=(Ye=Ze.next()).done);Te=!0){var Qe=Ye.value;"function"==typeof Qe&&Qe.call(Se)}}catch(we){xe=!0,Ee=we}finally{try{Te||null==Ze.return||Ze.return()}finally{if(xe)throw Ee}}}},(this||je)._start=function(){Se._userNode&&"string"==typeof Se._userNode&&(Se._userNode=document.getElementById(Se._userNode));var je=Se._isGlobal?window:Se;if(je.preload){Se.callRegisteredHooksFor("beforePreload");var xe,we=document.getElementById(Se._loadingScreenId),Te=(we||((we=document.createElement("div")).innerHTML="Loading...",we.style.position="absolute",we.id=Se._loadingScreenId,(Se._userNode||document.body).appendChild(we)),Se._preloadMethods);for(xe in Te){Te[xe]=Te[xe]||g;var Ee=Te[xe];Ee!==g.prototype&&Ee!==g||(Se._isGlobal&&(window[xe]=Se._wrapPreload(Se,xe)),Ee=Se),Se._registeredPreloadMethods[xe]=Ee[xe],Ee[xe]=Se._wrapPreload(Ee,xe)}je.preload(),Se._runIfPreloadsAreDone()}else Se._setup(),Se._recording||Se._draw()},(this||je)._runIfPreloadsAreDone=function(){var xe,we=(this||je)._isGlobal?window:this||je;0===we._preloadCount&&((xe=document.getElementById(we._loadingScreenId))&&xe.parentNode.removeChild(xe),this.callRegisteredHooksFor("afterPreload"),(this||je)._setupDone||((this||je)._lastTargetFrameTime=window.performance.now(),(this||je)._lastRealFrameTime=window.performance.now(),we._setup(),(this||je)._recording||we._draw()))},(this||je)._decrementPreload=function(){var xe=(this||je)._isGlobal?window:this||je;xe._preloadDone||"function"!=typeof xe.preload||(xe._setProperty("_preloadCount",xe._preloadCount-1),xe._runIfPreloadsAreDone())},(this||je)._wrapPreload=function(xe,we){var Se=this||je;return function(){Se._incrementPreload();for(var je=arguments.length,Te=new Array(je),Ee=0;Ee<je;Ee++)Te[Ee]=arguments[Ee];return Se._registeredPreloadMethods[we].apply(xe,Te)}},(this||je)._incrementPreload=function(){var xe=(this||je)._isGlobal?window:this||je;xe._preloadDone||xe._setProperty("_preloadCount",xe._preloadCount+1)},(this||je)._setup=function(){Se.callRegisteredHooksFor("beforeSetup"),Se.createCanvas(Se._defaultCanvasSize.width,Se._defaultCanvasSize.height,"p2d");var je=Se._isGlobal?window:Se;if("function"==typeof je.preload)for(var xe in Se._preloadMethods)je[xe]=Se._preloadMethods[xe][xe],je[xe]&&Se&&(je[xe]=je[xe].bind(Se));Se._millisStart=window.performance.now(),je._preloadDone=!0,"function"==typeof je.setup&&je.setup();var we=document.getElementsByTagName("canvas"),Te=!0,Ee=!1,Ye=void 0;try{for(var Ze,Qe=we[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;"true"===Ke.dataset.hidden&&(Ke.style.visibility="",delete Ke.dataset.hidden)}}catch(je){Ee=!0,Ye=je}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Ee)throw Ye}}Se._lastTargetFrameTime=window.performance.now(),Se._lastRealFrameTime=window.performance.now(),Se._setupDone=!0,(Se._accessibleOutputs.grid||Se._accessibleOutputs.text)&&Se._updateAccsOutput(),Se.callRegisteredHooksFor("afterSetup")},(this||je)._draw=function(){var je=window.performance.now(),xe=je-Se._lastTargetFrameTime,we=1e3/Se._targetFrameRate;(!Se._loop||we-5<=xe)&&(Se.deltaTime=je-Se._lastRealFrameTime,Se._setProperty("deltaTime",Se.deltaTime),Se._frameRate=1e3/Se.deltaTime,Se.redraw(),Se._lastTargetFrameTime=Math.max(Se._lastTargetFrameTime+we,je),Se._lastRealFrameTime=je,void 0!==Se._updateMouseCoords&&(Se._updateMouseCoords(),Se._setProperty("movedX",0),Se._setProperty("movedY",0))),Se._loop&&(Se._requestAnimId=window.requestAnimationFrame(Se._draw))},(this||je)._setProperty=function(je,xe){Se[je]=xe,Se._isGlobal&&(window[je]=xe)},(this||je).remove=function(){Se._startListener&&window.removeEventListener("load",Se._startListener,!1);var je=document.getElementById(Se._loadingScreenId);if(je&&(je.parentNode.removeChild(je),Se._incrementPreload()),Se._curElement){for(var xe in Se._loop=!1,Se._requestAnimId&&window.cancelAnimationFrame(Se._requestAnimId),Se._events)window.removeEventListener(xe,Se._events[xe]);var we=!0,Te=(je=!1,void 0);try{for(var Ee,Ye=Se._elements[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0){var Ze,Qe=Ee.value;for(Ze in Qe.elt&&Qe.elt.parentNode&&Qe.elt.parentNode.removeChild(Qe.elt),Qe._events)Qe.elt.removeEventListener(Ze,Qe._events[Ze])}}catch(xe){je=!0,Te=xe}finally{try{we||null==Ye.return||Ye.return()}finally{if(je)throw Te}}var Ke=Se;Se._registeredMethods.remove.forEach((function(je){void 0!==je&&je.call(Ke)}))}if(Se._isGlobal){for(var Je in g.prototype)try{delete window[Je]}catch(xe){window[Je]=void 0}for(var $e in Se)if(Se.hasOwnProperty($e))try{delete window[$e]}catch(xe){window[$e]=void 0}g.instance=null}},(this||je)._registeredMethods.init.forEach((function(xe){void 0!==xe&&xe.call(this||je)}),this||je),this._setupPromisePreloads();var Je,$e,et=this._createFriendlyGlobalFunctionBinder();if(xe)xe(this||je),g._checkForUserDefinedFunctions(this||je);else{for(var tt in(this||je)._isGlobal=!0,g.instance=this||je,g.prototype)"function"==typeof g.prototype[tt]?(Je=tt.substring(2),(this||je)._events.hasOwnProperty(Je)||(Math.hasOwnProperty(tt)&&Math[tt]===g.prototype[tt]?et(tt,g.prototype[tt]):et(tt,g.prototype[tt].bind(this||je)))):et(tt,g.prototype[tt]);for(var rt in this||je)this.hasOwnProperty(rt)&&et(rt,(this||je)[rt])}for($e in(this||je)._events){var ot=(this||je)["_on".concat($e)];ot&&(ot=ot.bind(this||je),window.addEventListener($e,ot,{passive:!1}),(this||je)._events[$e]=ot)}function m(){Se._setProperty("focused",!0)}function y(){Se._setProperty("focused",!1)}window.addEventListener("focus",m),window.addEventListener("blur",y),this.registerMethod("remove",(function(){window.removeEventListener("focus",m),window.removeEventListener("blur",y)})),"complete"===document.readyState?this._start():((this||je)._startListener=(this||je)._start.bind(this||je),window.addEventListener("load",(this||je)._startListener,!1))}var xe,we,Se;return xe=g,(we=[{key:"_initializeInstanceVariables",value:function(){(this||je)._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},(this||je)._styles=[],(this||je)._bezierDetail=20,(this||je)._curveDetail=20,(this||je)._colorMode=Te.RGB,(this||je)._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},(this||je)._downKeys={}}},{key:"registerPreloadMethod",value:function(je,xe){g.prototype._preloadMethods.hasOwnProperty(je)||(g.prototype._preloadMethods[je]=xe)}},{key:"registerMethod",value:function(xe,we){var Se=this||je||g.prototype;Se._registeredMethods.hasOwnProperty(xe)||(Se._registeredMethods[xe]=[]),Se._registeredMethods[xe].push(we)}},{key:"unregisterMethod",value:function(xe,we){var Se=this||je||g.prototype;if(Se._registeredMethods.hasOwnProperty(xe)){for(var Te=Se._registeredMethods[xe],Ee=[],Ye=0;Ye<Te.length;Ye++)Te[Ye]===we&&Ee.push(Ye);for(var Ze=Ee.length-1;0<=Ze;Ze--)Te.splice(Ee[Ze],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var je=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},xe=je.globalObject||window;je.log||console.log.bind(console);return function(je,we){g.disableFriendlyErrors,xe[je]=we}}}])&&s(xe.prototype,we),Se&&s(xe,Se),g}();for(Ee in Ye.instance=null,Ye.disableFriendlyErrors=!1,Te)Ye.prototype[Ee]=Te[Ee];Ye.VERSION=Te.VERSION,Ye.prototype._preloadMethods={loadJSON:Ye.prototype,loadImage:Ye.prototype,loadStrings:Ye.prototype,loadXML:Ye.prototype,loadBytes:Ye.prototype,loadTable:Ye.prototype,loadFont:Ye.prototype,loadModel:Ye.prototype,loadShader:Ye.prototype},Ye.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},Ye.prototype._registeredPreloadMethods={},Se.default=Ye},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.Element=function(){function r(xe,we){if(!((this||je)instanceof r))throw new TypeError("Cannot call a class as a function");(this||je).elt=xe,(this||je)._pInst=(this||je)._pixelsState=we,(this||je)._events={},(this||je).width=(this||je).elt.offsetWidth,(this||je).height=(this||je).elt.offsetHeight}var xe,we,Se;return xe=r,Se=[{key:"_adjustListener",value:function(xe,we,Se){return!1===we?Te.default.Element._detachListener(xe,Se):Te.default.Element._attachListener(xe,we,Se),this||je}},{key:"_attachListener",value:function(je,xe,we){we._events[je]&&Te.default.Element._detachListener(je,we);xe=xe.bind(we);we.elt.addEventListener(je,xe,!1),we._events[je]=xe}},{key:"_detachListener",value:function(je,xe){var we=xe._events[je];xe.elt.removeEventListener(je,we,!1),xe._events[je]=null}}],(we=[{key:"parent",value:function(xe){return void 0===xe?(this||je).elt.parentNode:("string"==typeof xe?("#"===xe[0]&&(xe=xe.substring(1)),xe=document.getElementById(xe)):xe instanceof Te.default.Element&&(xe=xe.elt),xe.appendChild((this||je).elt),this||je)}},{key:"id",value:function(xe){return void 0===xe?(this||je).elt.id:((this||je).elt.id=xe,(this||je).width=(this||je).elt.offsetWidth,(this||je).height=(this||je).elt.offsetHeight,this||je)}},{key:"class",value:function(xe){return void 0===xe?(this||je).elt.className:((this||je).elt.className=xe,this||je)}},{key:"mousePressed",value:function(xe){return Te.default.Element._adjustListener("mousedown",(function(we){return(this||je)._pInst._setProperty("mouseIsPressed",!0),(this||je)._pInst._setMouseButton(we),xe.call(this||je,we)}),this||je),this||je}},{key:"doubleClicked",value:function(xe){return Te.default.Element._adjustListener("dblclick",xe,this||je),this||je}},{key:"mouseWheel",value:function(xe){return Te.default.Element._adjustListener("wheel",xe,this||je),this||je}},{key:"mouseReleased",value:function(xe){return Te.default.Element._adjustListener("mouseup",xe,this||je),this||je}},{key:"mouseClicked",value:function(xe){return Te.default.Element._adjustListener("click",xe,this||je),this||je}},{key:"mouseMoved",value:function(xe){return Te.default.Element._adjustListener("mousemove",xe,this||je),this||je}},{key:"mouseOver",value:function(xe){return Te.default.Element._adjustListener("mouseover",xe,this||je),this||je}},{key:"mouseOut",value:function(xe){return Te.default.Element._adjustListener("mouseout",xe,this||je),this||je}},{key:"touchStarted",value:function(xe){return Te.default.Element._adjustListener("touchstart",xe,this||je),this||je}},{key:"touchMoved",value:function(xe){return Te.default.Element._adjustListener("touchmove",xe,this||je),this||je}},{key:"touchEnded",value:function(xe){return Te.default.Element._adjustListener("touchend",xe,this||je),this||je}},{key:"dragOver",value:function(xe){return Te.default.Element._adjustListener("dragover",xe,this||je),this||je}},{key:"dragLeave",value:function(xe){return Te.default.Element._adjustListener("dragleave",xe,this||je),this||je}},{key:"_setProperty",value:function(xe,we){(this||je)[xe]=we}}])&&s(xe.prototype,we),Se&&s(xe,Se),r}();xe=Te.default.Element;Se.default=xe},{"./main":280}],282:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("./main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("./constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function s(je,xe){return(s=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function h(xe){return function(){var we,Se=l(xe);return f(this||je,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=l(this||je).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||je,arguments))}}function f(je,xe){return!xe||"object"!==i(xe)&&"function"!=typeof xe?p(je):xe}function p(je){if(void 0===je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}function l(je){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}Te.default.Graphics=function(xe){var we=u;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&s(we,xe);var Se,Ye=h(u);function u(xe,we,Se,Ze,Qe){var Ke;if(!((this||je)instanceof u))throw new TypeError("Cannot call a class as a function");$e=Qe||document.createElement("canvas"),(Ke=Ye.call(this||je,$e,Ze)).canvas=$e;var Je,$e=Se||Ee.P2D;Se=Ze._userNode||document.body;for(Je in Qe||Se.appendChild(Ke.canvas),Te.default.prototype)Ke[Je]||("function"==typeof Te.default.prototype[Je]?Ke[Je]=Te.default.prototype[Je].bind(p(Ke)):Ke[Je]=Te.default.prototype[Je]);return Te.default.prototype._initializeInstanceVariables.apply(p(Ke)),Ke.width=xe,Ke.height=we,Ke._pixelDensity=Ze._pixelDensity,$e===Ee.WEBGL?Ke._renderer=new Te.default.RendererGL(Ke.canvas,p(Ke),!1):Ke._renderer=new Te.default.Renderer2D(Ke.canvas,p(Ke),!1),Ze._elements.push(p(Ke)),Object.defineProperty(p(Ke),"deltaTime",{get:function(){return(this||je)._pInst.deltaTime}}),Ke._renderer.resize(xe,we),Ke._renderer._applyDefaults(),f(Ke,p(Ke))}return we=u,(xe=[{key:"reset",value:function(){(this||je)._renderer.resetMatrix(),(this||je)._renderer.isP3D&&(this||je)._renderer._update()}},{key:"remove",value:function(){(this||je).elt.parentNode&&(this||je).elt.parentNode.removeChild((this||je).elt);var xe,we=(this||je)._pInst._elements.indexOf(this||je);for(xe in-1!==we&&(this||je)._pInst._elements.splice(we,1),(this||je)._events)(this||je).elt.removeEventListener(xe,(this||je)._events[xe])}},{key:"createFramebuffer",value:function(xe){return new Te.default.Framebuffer(this||je,xe)}}])&&n(we.prototype,xe),Se&&n(we,Se),u}(Te.default.Element);var Ye=Te.default.Graphics;Se.default=Ye},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("./main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==l(je)&&"function"!=typeof je)return{default:je};var xe=i();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function i(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,i=function(){return je},je)}function l(je){return(l="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}function u(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function c(je,xe){return(c=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function d(xe){return function(){var we,Se,Te=n(xe);return we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=n(this||je).constructor,Reflect.construct(Te,arguments,we)):Te.apply(this||je,arguments),Te=this||je,!(Se=we)||"object"!==l(Se)&&"function"!=typeof Se?h(Te):Se}}function h(je){if(void 0===je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}function n(je){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}var Ye=function(xe){var we=s;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&c(we,xe);var Se,Ye=d(s);function s(xe,we,Se){var Te;if((this||je)instanceof s)return(Te=Ye.call(this||je,xe,we)).canvas=xe,Te._pixelsState=we,Se?(Te._isMainCanvas=!0,Te._pInst._setProperty("_curElement",h(Te)),Te._pInst._setProperty("canvas",Te.canvas),Te._pInst._setProperty("width",Te.width),Te._pInst._setProperty("height",Te.height)):(Te.canvas.style.display="none",Te._styles=[]),Te._clipping=!1,Te._clipInvert=!1,Te._textSize=12,Te._textLeading=15,Te._textFont="sans-serif",Te._textStyle=Ee.NORMAL,Te._textAscent=null,Te._textDescent=null,Te._textAlign=Ee.LEFT,Te._textBaseline=Ee.BASELINE,Te._textWrap=Ee.WORD,Te._rectMode=Ee.CORNER,Te._ellipseMode=Ee.CENTER,Te._curveTightness=0,Te._imageMode=Ee.CORNER,Te._tint=null,Te._doStroke=!0,Te._doFill=!0,Te._strokeSet=!1,Te._fillSet=!1,Te._leadingSet=!1,Te._pushPopDepth=0,Te;throw new TypeError("Cannot call a class as a function")}return we=s,(xe=[{key:"push",value:function(){return(this||je)._pushPopDepth++,{properties:{_doStroke:(this||je)._doStroke,_strokeSet:(this||je)._strokeSet,_doFill:(this||je)._doFill,_fillSet:(this||je)._fillSet,_tint:(this||je)._tint,_imageMode:(this||je)._imageMode,_rectMode:(this||je)._rectMode,_ellipseMode:(this||je)._ellipseMode,_textFont:(this||je)._textFont,_textLeading:(this||je)._textLeading,_leadingSet:(this||je)._leadingSet,_textSize:(this||je)._textSize,_textAlign:(this||je)._textAlign,_textBaseline:(this||je)._textBaseline,_textStyle:(this||je)._textStyle,_textWrap:(this||je)._textWrap}}}},{key:"pop",value:function(xe){(this||je)._pushPopDepth--,xe.properties&&Object.assign(this||je,xe.properties)}},{key:"beginClip",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if((this||je)._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");(this||je)._clipping=!0,(this||je)._clipInvert=xe.invert}},{key:"endClip",value:function(){if(!(this||je)._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");(this||je)._clipping=!1}},{key:"resize",value:function(xe,we){(this||je).width=xe,(this||je).height=we,(this||je).elt.width=xe*(this||je)._pInst._pixelDensity,(this||je).elt.height=we*(this||je)._pInst._pixelDensity,(this||je).elt.style.width="".concat(xe,"px"),(this||je).elt.style.height="".concat(we,"px"),(this||je)._isMainCanvas&&((this||je)._pInst._setProperty("width",(this||je).width),(this||je)._pInst._setProperty("height",(this||je).height))}},{key:"get",value:function(xe,we,Se,Ee){var Ye=(this||je)._pixelsState,Ze=Ye._pixelDensity,Qe=(this||je).canvas;if(void 0===xe&&void 0===we)xe=we=0,Se=Ye.width,Ee=Ye.height;else if(xe*=Ze,we*=Ze,void 0===Se&&void 0===Ee)return xe<0||we<0||xe>=Qe.width||we>=Qe.height?[0,0,0,0]:this._getPixel(xe,we);Ye=new Te.default.Image(Se*Ze,Ee*Ze);return Ye.pixelDensity(Ze),Ye.canvas.getContext("2d").drawImage(Qe,xe,we,Se*Ze,Ee*Ze,0,0,Se*Ze,Ee*Ze),Ye}},{key:"textLeading",value:function(xe){return"number"==typeof xe?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",xe),(this||je)._pInst):(this||je)._textLeading}},{key:"textStyle",value:function(xe){return xe?(xe!==Ee.NORMAL&&xe!==Ee.ITALIC&&xe!==Ee.BOLD&&xe!==Ee.BOLDITALIC||this._setProperty("_textStyle",xe),this._applyTextProperties()):(this||je)._textStyle}},{key:"textAscent",value:function(){return null===(this||je)._textAscent&&this._updateTextMetrics(),(this||je)._textAscent}},{key:"textDescent",value:function(){return null===(this||je)._textDescent&&this._updateTextMetrics(),(this||je)._textDescent}},{key:"textAlign",value:function(xe,we){return void 0!==xe?(this._setProperty("_textAlign",xe),void 0!==we&&this._setProperty("_textBaseline",we),this._applyTextProperties()):{horizontal:(this||je)._textAlign,vertical:(this||je)._textBaseline}}},{key:"textWrap",value:function(xe){return this._setProperty("_textWrap",xe),(this||je)._textWrap}},{key:"text",value:function(xe,we,Se,Te,Ye){var Ze,Qe,Ke,Je,$e=(this||je)._pInst,et=(this||je)._textWrap,tt=Number.MAX_VALUE,rt=Se;if(((this||je)._doFill||(this||je)._doStroke)&&void 0!==xe){if(Ze=(xe=(xe="string"!=typeof xe?xe.toString():xe).replace(/(\t)/g,"  ")).split("\n"),void 0!==Te){switch((this||je)._rectMode===Ee.CENTER&&(we-=Te/2),(this||je)._textAlign){case Ee.CENTER:we+=Te/2;break;case Ee.RIGHT:we+=Te}if(void 0!==Ye){(this||je)._rectMode===Ee.CENTER&&(Se-=Ye/2,rt-=Ye/2);xe=Se;var ot=$e.textAscent();switch((this||je)._textBaseline){case Ee.BOTTOM:Je=Se+Ye,Se=Math.max(Je,Se),rt+=ot;break;case Ee.CENTER:Je=Se+Ye/2,Se=Math.max(Je,Se),rt+=ot/2}tt=Se+Ye-ot,(this||je)._textBaseline===Ee.CENTER&&(tt=xe+Ye-ot/2)}else(this||je)._textBaseline!==Ee.BOTTOM&&(this||je)._textBaseline!==Ee.CENTER||(rt=Se-(xe=$e.textSize()*(this||je)._textLeading)/2,tt=Se+xe/2);if(et===Ee.WORD){for(var nt=[],st=0;st<Ze.length;st++){for(var it="",dt=Ze[st].split(" "),ht=0;ht<dt.length;ht++)Qe="".concat(it+dt[ht])+" ",it=Te<(Ke=this.textWidth(Qe))&&0<it.length?(nt.push(it),"".concat(dt[ht])+" "):Qe;nt.push(it)}var ft=0;(this||je)._textBaseline===Ee.CENTER?ft=(nt.length-1)*$e.textLeading()/2:(this||je)._textBaseline===Ee.BOTTOM&&(ft=(nt.length-1)*$e.textLeading());for(var pt=0;pt<Ze.length;pt++){it="",dt=Ze[pt].split(" ");for(var mt=0;mt<dt.length;mt++)Qe="".concat(it+dt[mt])+" ",Te<(Ke=this.textWidth(Qe))&&0<it.length?(this._renderText($e,it.trim(),we,Se-ft,tt,rt),it="".concat(dt[mt])+" ",Se+=$e.textLeading()):it=Qe;this._renderText($e,it.trim(),we,Se-ft,tt,rt),Se+=$e.textLeading()}}else{for(var yt=[],gt=0;gt<Ze.length;gt++)for(var wt=Ze[gt].split(it=""),Dt=0;Dt<wt.length;Dt++)Qe="".concat(it+wt[Dt]),(Ke=this.textWidth(Qe))<=Te?it+=wt[Dt]:Te<Ke&&0<it.length&&(yt.push(it),it="".concat(wt[Dt]));yt.push(it);var Xt=0;(this||je)._textBaseline===Ee.CENTER?Xt=(yt.length-1)*$e.textLeading()/2:(this||je)._textBaseline===Ee.BOTTOM&&(Xt=(yt.length-1)*$e.textLeading());for(var Yt=0;Yt<Ze.length;Yt++){wt=Ze[Yt].split(it="");for(var br=0;br<wt.length;br++)Qe="".concat(it+wt[br]),(Ke=this.textWidth(Qe))<=Te?it+=wt[br]:Te<Ke&&0<it.length&&(this._renderText($e,it.trim(),we,Se-Xt,tt,rt),Se+=$e.textLeading(),it="".concat(wt[br]))}this._renderText($e,it.trim(),we,Se-Xt,tt,rt),Se+=$e.textLeading()}}else{var _r=0;(this||je)._textBaseline===Ee.CENTER?_r=(Ze.length-1)*$e.textLeading()/2:(this||je)._textBaseline===Ee.BOTTOM&&(_r=(Ze.length-1)*$e.textLeading());for(var xr=0;xr<Ze.length;xr++)this._renderText($e,Ze[xr],we,Se-_r,tt,rt-_r),Se+=$e.textLeading()}return $e}}},{key:"_applyDefaults",value:function(){return this||je}},{key:"_isOpenType",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:(this||je)._textFont;return"object"===l(xe)&&xe.font&&xe.font.supported}},{key:"_updateTextMetrics",value:function(){var xe,we,Se,Te,Ee,Ye;return this._isOpenType()?(this._setProperty("_textAscent",(this||je)._textFont._textAscent()),this._setProperty("_textDescent",(this||je)._textFont._textDescent())):((xe=document.createElement("span")).style.fontFamily=(this||je)._textFont,xe.style.fontSize="".concat((this||je)._textSize,"px"),xe.innerHTML="ABCjgq|",(Ye=document.createElement("div")).style.display="inline-block",Ye.style.width="1px",Ye.style.height="0px",Te=((we=document.createElement("div")).appendChild(xe),we.appendChild(Ye),we.style.height="0px",we.style.overflow="hidden",document.body.appendChild(we),Ye.style.verticalAlign="baseline",f(Ye)),Ee=f(xe),Se=Te[1]-Ee[1],Te=(Ye.style.verticalAlign="bottom",f(Ye)),Ee=f(xe),Ye=Te[1]-Ee[1]-Se,document.body.removeChild(we),this._setProperty("_textAscent",Se),this._setProperty("_textDescent",Ye)),this||je}}])&&u(we.prototype,xe),Se&&u(we,Se),s}(Te.default.Element);function f(je){var xe=0,we=0;if(je.offsetParent)for(;xe+=je.offsetLeft,we+=je.offsetTop,je=je.offsetParent;);else xe+=je.offsetLeft,we+=je.offsetTop;return[xe,we]}Ye.prototype.textSize=function(xe){return"number"==typeof xe?(this._setProperty("_textSize",xe),(this||je)._leadingSet||this._setProperty("_textLeading",xe*Ee._DEFAULT_LEADMULT),this._applyTextProperties()):(this||je)._textSize},Te.default.Renderer=Ye;xe=Te.default.Renderer;Se.default=xe},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.reflect.get"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("./main"))&&Ze.__esModule?Ze:{default:Ze},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("./constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function l(je,xe,we){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(je,xe,we){je=function(je,xe){for(;!Object.prototype.hasOwnProperty.call(je,xe)&&null!==(je=h(je)););return je}(je,xe);if(je)return(je=Object.getOwnPropertyDescriptor(je,xe)).get?je.get.call(we):je.value})(je,xe,we||je)}function u(je,xe){return(u=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function c(xe){return function(){var we,Se=h(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=h(this||je).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||je,arguments),this||je);if(!we||"object"!==i(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function h(je){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}xe("./p5.Renderer");var Ye="rgba(0,0,0,0)",Ze=function(xe){var we=n;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&u(we,xe);var Se,Ze=c(n);function n(xe,we,Se){if((this||je)instanceof n)return(xe=Ze.call(this||je,xe,we,Se)).drawingContext=xe.canvas.getContext("2d"),xe._pInst._setProperty("drawingContext",xe.drawingContext),xe;throw new TypeError("Cannot call a class as a function")}return we=n,(xe=[{key:"getFilterGraphicsLayer",value:function(){var xe;return(this||je).filterGraphicsLayer||(xe=((this||je)._pInst instanceof Te.default.Graphics?(this||je)._pInst:this||je)._pInst,(this||je).filterGraphicsLayer=new Te.default.Graphics((this||je).width,(this||je).height,Ee.WEBGL,xe)),(this||je).filterGraphicsLayer.width===(this||je).width&&(this||je).filterGraphicsLayer.height===(this||je).height||(this||je).filterGraphicsLayer.resizeCanvas((this||je).width,(this||je).height),(this||je).filterGraphicsLayer.pixelDensity()!==(this||je)._pInst.pixelDensity()&&(this||je).filterGraphicsLayer.pixelDensity((this||je)._pInst.pixelDensity()),(this||je).filterGraphicsLayer}},{key:"_applyDefaults",value:function(){(this||je)._cachedFillStyle=(this||je)._cachedStrokeStyle=void 0,(this||je)._cachedBlendMode=Ee.BLEND,this._setFill(Ee._DEFAULT_FILL),this._setStroke(Ee._DEFAULT_STROKE),(this||je).drawingContext.lineCap=Ee.ROUND,(this||je).drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(xe,we){l(h(n.prototype),"resize",this||je).call(this||je,xe,we),(this||je).drawingContext.scale((this||je)._pInst._pixelDensity,(this||je)._pInst._pixelDensity)}},{key:"background",value:function(){var xe,we;(this||je).drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof Te.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(xe=arguments.length<=0?void 0:arguments[0],(this||je).drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,(this||je)._pInst.image(xe,0,0,(this||je).width,(this||je).height)):(this||je)._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,(this||je).width,(this||je).height):(xe=this._getFill(),we=(we=(this||je)._pInst).color.apply(we,arguments),(this||je)._pInst._addAccsOutput()&&(this||je)._pInst._accsBackground(we.levels),we=we.toString(),this._setFill(we),(this||je)._isErasing&&this.blendMode((this||je)._cachedBlendMode),(this||je).drawingContext.fillRect(0,0,(this||je).width,(this||je).height),this._setFill(xe),(this||je)._isErasing&&(this||je)._pInst.erase()),(this||je).drawingContext.restore()}},{key:"clear",value:function(){(this||je).drawingContext.save(),this.resetMatrix(),(this||je).drawingContext.clearRect(0,0,(this||je).width,(this||je).height),(this||je).drawingContext.restore()}},{key:"fill",value:function(){var xe=(xe=(this||je)._pInst).color.apply(xe,arguments);this._setFill(xe.toString()),(this||je)._pInst._addAccsOutput()&&(this||je)._pInst._accsCanvasColors("fill",xe.levels)}},{key:"stroke",value:function(){var xe=(xe=(this||je)._pInst).color.apply(xe,arguments);this._setStroke(xe.toString()),(this||je)._pInst._addAccsOutput()&&(this||je)._pInst._accsCanvasColors("stroke",xe.levels)}},{key:"erase",value:function(xe,we){(this||je)._isErasing||((this||je)._cachedFillStyle=(this||je).drawingContext.fillStyle,xe=(this||je)._pInst.color(255,xe).toString(),(this||je).drawingContext.fillStyle=xe,(this||je)._cachedStrokeStyle=(this||je).drawingContext.strokeStyle,xe=(this||je)._pInst.color(255,we).toString(),(this||je).drawingContext.strokeStyle=xe,we=(this||je)._cachedBlendMode,this.blendMode(Ee.REMOVE),(this||je)._cachedBlendMode=we,(this||je)._isErasing=!0)}},{key:"noErase",value:function(){(this||je)._isErasing&&((this||je).drawingContext.fillStyle=(this||je)._cachedFillStyle,(this||je).drawingContext.strokeStyle=(this||je)._cachedStrokeStyle,this.blendMode((this||je)._cachedBlendMode),(this||je)._isErasing=!1)}},{key:"beginClip",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};xe=(l(h(n.prototype),"beginClip",this||je).call(this||je,xe),(this||je)._cachedFillStyle=(this||je).drawingContext.fillStyle,(this||je)._pInst.color(255,0).toString()),xe=((this||je).drawingContext.fillStyle=xe,(this||je)._cachedStrokeStyle=(this||je).drawingContext.strokeStyle,(this||je)._pInst.color(255,0).toString()),xe=((this||je).drawingContext.strokeStyle=xe,(this||je)._cachedBlendMode);this.blendMode(Ee.BLEND),(this||je)._cachedBlendMode=xe,(this||je).drawingContext.beginPath(),(this||je)._clipInvert&&((this||je).drawingContext.moveTo(-2*(this||je).width,-2*(this||je).height),(this||je).drawingContext.lineTo(-2*(this||je).width,2*(this||je).height),(this||je).drawingContext.lineTo(2*(this||je).width,2*(this||je).height),(this||je).drawingContext.lineTo(2*(this||je).width,-2*(this||je).height),(this||je).drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),(this||je).drawingContext.clip(),l(h(n.prototype),"endClip",this||je).call(this||je),(this||je).drawingContext.fillStyle=(this||je)._cachedFillStyle,(this||je).drawingContext.strokeStyle=(this||je)._cachedStrokeStyle,this.blendMode((this||je)._cachedBlendMode)}},{key:"image",value:function(xe,we,Se,Ee,Ye,Ze,Qe,Ke,Je){xe.gifProperties&&xe._animateGif((this||je)._pInst);try{Te.default.MediaElement&&xe instanceof Te.default.MediaElement&&xe._ensureCanvas();var $e=($e=(this||je)._tint&&xe.canvas?this._getTintedImageCanvas(xe):$e)||xe.canvas||xe.elt,et=1;xe.width&&0<xe.width&&(et=$e.width/xe.width),(this||je)._isErasing&&this.blendMode((this||je)._cachedBlendMode),(this||je).drawingContext.drawImage($e,et*we,et*Se,et*Ee,et*Ye,Ze,Qe,Ke,Je),(this||je)._isErasing&&(this||je)._pInst.erase()}catch(xe){if("NS_ERROR_NOT_AVAILABLE"!==xe.name)throw xe}}},{key:"_getTintedImageCanvas",value:function(xe){if(!xe.canvas)return xe;xe.tintCanvas||(xe.tintCanvas=document.createElement("canvas")),xe.tintCanvas.width!==xe.canvas.width&&(xe.tintCanvas.width=xe.canvas.width),xe.tintCanvas.height!==xe.canvas.height&&(xe.tintCanvas.height=xe.canvas.height);var we=xe.tintCanvas.getContext("2d");return we.save(),we.clearRect(0,0,xe.canvas.width,xe.canvas.height),((this||je)._tint[0]<255||(this||je)._tint[1]<255||(this||je)._tint[2]<255)&&(we.drawImage(xe.canvas,0,0),we.globalCompositeOperation="luminosity",we.drawImage(xe.canvas,0,0),we.globalCompositeOperation="color",we.drawImage(xe.canvas,0,0),we.globalCompositeOperation="multiply",we.fillStyle="rgb(".concat((this||je)._tint.slice(0,3).join(", "),")"),we.fillRect(0,0,xe.canvas.width,xe.canvas.height),we.globalCompositeOperation="destination-in"),we.globalAlpha=(this||je)._tint[3]/255,we.drawImage(xe.canvas,0,0),we.restore(),xe.tintCanvas}},{key:"blendMode",value:function(xe){if(xe===Ee.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(xe!==Ee.BLEND&&xe!==Ee.REMOVE&&xe!==Ee.DARKEST&&xe!==Ee.LIGHTEST&&xe!==Ee.DIFFERENCE&&xe!==Ee.MULTIPLY&&xe!==Ee.EXCLUSION&&xe!==Ee.SCREEN&&xe!==Ee.REPLACE&&xe!==Ee.OVERLAY&&xe!==Ee.HARD_LIGHT&&xe!==Ee.SOFT_LIGHT&&xe!==Ee.DODGE&&xe!==Ee.BURN&&xe!==Ee.ADD)throw new Error("Mode ".concat(xe," not recognized."));(this||je)._cachedBlendMode=xe,(this||je).drawingContext.globalCompositeOperation=xe}}},{key:"blend",value:function(){for(var xe=(this||je).drawingContext.globalCompositeOperation,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];var Ye=Se[Se.length-1],Ze=Array.prototype.slice.call(Se,0,Se.length-1);(this||je).drawingContext.globalCompositeOperation=Ye,Te.default.prototype.copy.apply(this||je,Ze),(this||je).drawingContext.globalCompositeOperation=xe}},{key:"_getPixel",value:function(xe,we){xe=(this||je).drawingContext.getImageData(xe,we,1,1).data;return[xe[0],xe[1],xe[2],xe[3]]}},{key:"loadPixels",value:function(){var xe=(this||je)._pixelsState,we=xe._pixelDensity,Se=(this||je).width*we;we=(this||je).height*we,Se=(this||je).drawingContext.getImageData(0,0,Se,we);xe._setProperty("imageData",Se),xe._setProperty("pixels",Se.data)}},{key:"set",value:function(xe,we,Se){xe=Math.floor(xe),we=Math.floor(we);var Ee=(this||je)._pixelsState;if(Se instanceof Te.default.Image)(this||je).drawingContext.save(),(this||je).drawingContext.setTransform(1,0,0,1,0,0),(this||je).drawingContext.scale(Ee._pixelDensity,Ee._pixelDensity),(this||je).drawingContext.clearRect(xe,we,Se.width,Se.height),(this||je).drawingContext.drawImage(Se.canvas,xe,we),(this||je).drawingContext.restore();else{var Ye=0,Ze=0,Qe=0,Ke=0,Je=4*(we*Ee._pixelDensity*((this||je).width*Ee._pixelDensity)+xe*Ee._pixelDensity);if(Ee.imageData||Ee.loadPixels(),"number"==typeof Se)Je<Ee.pixels.length&&(Qe=Ze=Ye=Se,Ke=255);else if(Array.isArray(Se)){if(Se.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");Je<Ee.pixels.length&&(Ye=Se[0],Ze=Se[1],Qe=Se[2],Ke=Se[3])}else Se instanceof Te.default.Color&&Je<Ee.pixels.length&&(Ye=Se.levels[0],Ze=Se.levels[1],Qe=Se.levels[2],Ke=Se.levels[3]);for(var $e=0;$e<Ee._pixelDensity;$e++)for(var et=0;et<Ee._pixelDensity;et++)Je=4*((we*Ee._pixelDensity+et)*(this||je).width*Ee._pixelDensity+(xe*Ee._pixelDensity+$e)),Ee.pixels[Je]=Ye,Ee.pixels[Je+1]=Ze,Ee.pixels[Je+2]=Qe,Ee.pixels[Je+3]=Ke}}},{key:"updatePixels",value:function(xe,we,Se,Te){var Ee=(this||je)._pixelsState,Ye=Ee._pixelDensity;void 0===xe&&void 0===we&&void 0===Se&&void 0===Te&&(we=xe=0,Se=(this||je).width,Te=(this||je).height),xe*=Ye,we*=Ye,Se*=Ye,Te*=Ye,(this||je).gifProperties&&((this||je).gifProperties.frames[(this||je).gifProperties.displayIndex].image=Ee.imageData),(this||je).drawingContext.putImageData(Ee.imageData,xe,we,0,0,Se,Te)}},{key:"_acuteArcToBezier",value:function(je,xe){var we=xe/2,Se=Math.cos(we),Te=Math.sin(we),Ee=1/Math.tan(we),Ye=(we=je+we,Math.cos(we)),Ze=(we=Math.sin(we),(4-Se)/3);Te+=(Se-Ze)*Ee;return{ax:Math.cos(je).toFixed(7),ay:Math.sin(je).toFixed(7),bx:(Ze*Ye+Te*we).toFixed(7),by:(Ze*we-Te*Ye).toFixed(7),cx:(Ze*Ye-Te*we).toFixed(7),cy:(Ze*we+Te*Ye).toFixed(7),dx:Math.cos(je+xe).toFixed(7),dy:Math.sin(je+xe).toFixed(7)}}},{key:"arc",value:function(xe,we,Se,Te,Ye,Ze,Qe){var Ke,Je=(this||je).drawingContext,$e=Se/2,et=Te/2,tt=[];for(xe+=$e,we+=et;1e-5<=Ze-Ye;)Ke=Math.min(Ze-Ye,Ee.HALF_PI),tt.push(this._acuteArcToBezier(Ye,Ke)),Ye+=Ke;return(this||je)._doFill&&((this||je)._clipping||Je.beginPath(),tt.forEach((function(je,Se){0===Se&&Je.moveTo(xe+je.ax*$e,we+je.ay*et),Je.bezierCurveTo(xe+je.bx*$e,we+je.by*et,xe+je.cx*$e,we+je.cy*et,xe+je.dx*$e,we+je.dy*et)})),Qe!==Ee.PIE&&null!=Qe||Je.lineTo(xe,we),Je.closePath(),(this||je)._clipping||Je.fill()),(this||je)._doStroke&&((this||je)._clipping||Je.beginPath(),tt.forEach((function(je,Se){0===Se&&Je.moveTo(xe+je.ax*$e,we+je.ay*et),Je.bezierCurveTo(xe+je.bx*$e,we+je.by*et,xe+je.cx*$e,we+je.cy*et,xe+je.dx*$e,we+je.dy*et)})),Qe===Ee.PIE?(Je.lineTo(xe,we),Je.closePath()):Qe===Ee.CHORD&&Je.closePath(),(this||je)._clipping||Je.stroke()),this||je}},{key:"ellipse",value:function(xe){var we=(this||je).drawingContext,Se=(this||je)._doFill,Te=(this||je)._doStroke,Ee=parseFloat(xe[0]),Ze=parseFloat(xe[1]),Qe=parseFloat(xe[2]);xe=parseFloat(xe[3]);if(Se&&!Te){if(this._getFill()===Ye)return this||je}else if(!Se&&Te&&this._getStroke()===Ye)return this||je;Ee+=Qe/2,Ze+=xe/2,Qe/=2,xe/=2;(this||je)._clipping||we.beginPath(),we.ellipse(Ee,Ze,Qe,xe,0,0,2*Math.PI),!(this||je)._clipping&&Se&&we.fill(),!(this||je)._clipping&&Te&&we.stroke()}},{key:"line",value:function(xe,we,Se,Te){var Ee=(this||je).drawingContext;return(this||je)._doStroke&&this._getStroke()!==Ye&&((this||je)._clipping||Ee.beginPath(),Ee.moveTo(xe,we),Ee.lineTo(Se,Te),Ee.stroke()),this||je}},{key:"point",value:function(xe,we){var Se,Te,Ze=(this||je).drawingContext;return(this||je)._doStroke&&this._getStroke()!==Ye?(Se=this._getStroke(),Te=this._getFill(),(this||je)._clipping||this._setFill(Se),(this||je)._clipping||Ze.beginPath(),Ze.arc(xe,we,Ze.lineWidth/2,0,Ee.TWO_PI,!1),void((this||je)._clipping||(Ze.fill(),this._setFill(Te)))):this||je}},{key:"quad",value:function(xe,we,Se,Te,Ee,Ze,Qe,Ke){var Je=(this||je).drawingContext,$e=(this||je)._doFill,et=(this||je)._doStroke;if($e&&!et){if(this._getFill()===Ye)return this||je}else if(!$e&&et&&this._getStroke()===Ye)return this||je;return(this||je)._clipping||Je.beginPath(),Je.moveTo(xe,we),Je.lineTo(Se,Te),Je.lineTo(Ee,Ze),Je.lineTo(Qe,Ke),Je.closePath(),!(this||je)._clipping&&$e&&Je.fill(),!(this||je)._clipping&&et&&Je.stroke(),this||je}},{key:"rect",value:function(xe){var we,Se,Te=xe[0],Ee=xe[1],Ze=xe[2],Qe=xe[3],Ke=xe[4],Je=xe[5],$e=xe[6],et=(xe=xe[7],(this||je).drawingContext),tt=(this||je)._doFill,rt=(this||je)._doStroke;if(tt&&!rt){if(this._getFill()===Ye)return this||je}else if(!tt&&rt&&this._getStroke()===Ye)return this||je;return(this||je)._clipping||et.beginPath(),void 0===Ke?et.rect(Te,Ee,Ze,Qe):(void 0===Je&&(Je=Ke),void 0===$e&&($e=Je),void 0===xe&&(xe=$e),rt=(tt=Math.abs(Ze))/2,Se=(we=Math.abs(Qe))/2,we<2*(Ke=tt<2*Ke?rt:Ke)&&(Ke=Se),we<2*(Je=tt<2*Je?rt:Je)&&(Je=Se),we<2*($e=tt<2*$e?rt:$e)&&($e=Se),we<2*(xe=tt<2*xe?rt:xe)&&(xe=Se),(this||je)._clipping||et.beginPath(),et.moveTo(Te+Ke,Ee),et.arcTo(Te+Ze,Ee,Te+Ze,Ee+Qe,Je),et.arcTo(Te+Ze,Ee+Qe,Te,Ee+Qe,$e),et.arcTo(Te,Ee+Qe,Te,Ee,xe),et.arcTo(Te,Ee,Te+Ze,Ee,Ke),et.closePath()),!(this||je)._clipping&&(this||je)._doFill&&et.fill(),!(this||je)._clipping&&(this||je)._doStroke&&et.stroke(),this||je}},{key:"triangle",value:function(xe){var we=(this||je).drawingContext,Se=(this||je)._doFill,Te=(this||je)._doStroke,Ee=xe[0],Ze=xe[1],Qe=xe[2],Ke=xe[3],Je=xe[4];xe=xe[5];if(Se&&!Te){if(this._getFill()===Ye)return this||je}else if(!Se&&Te&&this._getStroke()===Ye)return this||je;(this||je)._clipping||we.beginPath(),we.moveTo(Ee,Ze),we.lineTo(Qe,Ke),we.lineTo(Je,xe),we.closePath(),!(this||je)._clipping&&Se&&we.fill(),!(this||je)._clipping&&Te&&we.stroke()}},{key:"endShape",value:function(xe,we,Se,Te,Ye,Ze,Qe){if(0!==we.length&&((this||je)._doStroke||(this||je)._doFill)){var Ke,Je,$e,et=xe===Ee.CLOSE,tt=(et&&!Ze&&we.push(we[0]),we.length);if(Se&&null===Qe){if(3<tt){var rt=[],ot=1-(this||je)._curveTightness;for((this||je)._clipping||(this||je).drawingContext.beginPath(),(this||je).drawingContext.moveTo(we[1][0],we[1][1]),Je=1;Je+2<tt;Je++)Ke=we[Je],rt[0]=[Ke[0],Ke[1]],rt[1]=[Ke[0]+(ot*we[Je+1][0]-ot*we[Je-1][0])/6,Ke[1]+(ot*we[Je+1][1]-ot*we[Je-1][1])/6],rt[2]=[we[Je+1][0]+(ot*we[Je][0]-ot*we[Je+2][0])/6,we[Je+1][1]+(ot*we[Je][1]-ot*we[Je+2][1])/6],rt[3]=[we[Je+1][0],we[Je+1][1]],(this||je).drawingContext.bezierCurveTo(rt[1][0],rt[1][1],rt[2][0],rt[2][1],rt[3][0],rt[3][1]);et&&(this||je).drawingContext.lineTo(we[Je+1][0],we[Je+1][1]),this._doFillStrokeClose(et)}}else if(Te&&null===Qe){for((this||je)._clipping||(this||je).drawingContext.beginPath(),Je=0;Je<tt;Je++)we[Je].isVert?we[Je].moveTo?(this||je).drawingContext.moveTo(we[Je][0],we[Je][1]):(this||je).drawingContext.lineTo(we[Je][0],we[Je][1]):(this||je).drawingContext.bezierCurveTo(we[Je][0],we[Je][1],we[Je][2],we[Je][3],we[Je][4],we[Je][5]);this._doFillStrokeClose(et)}else if(Ye&&null===Qe){for((this||je)._clipping||(this||je).drawingContext.beginPath(),Je=0;Je<tt;Je++)we[Je].isVert?we[Je].moveTo?(this||je).drawingContext.moveTo(we[Je][0],we[Je][1]):(this||je).drawingContext.lineTo(we[Je][0],we[Je][1]):(this||je).drawingContext.quadraticCurveTo(we[Je][0],we[Je][1],we[Je][2],we[Je][3]);this._doFillStrokeClose(et)}else if(Qe===Ee.POINTS)for(Je=0;Je<tt;Je++)Ke=we[Je],(this||je)._doStroke&&(this||je)._pInst.stroke(Ke[6]),(this||je)._pInst.point(Ke[0],Ke[1]);else if(Qe===Ee.LINES)for(Je=0;Je+1<tt;Je+=2)Ke=we[Je],(this||je)._doStroke&&(this||je)._pInst.stroke(we[Je+1][6]),(this||je)._pInst.line(Ke[0],Ke[1],we[Je+1][0],we[Je+1][1]);else if(Qe===Ee.TRIANGLES)for(Je=0;Je+2<tt;Je+=3)Ke=we[Je],(this||je)._clipping||(this||je).drawingContext.beginPath(),(this||je).drawingContext.moveTo(Ke[0],Ke[1]),(this||je).drawingContext.lineTo(we[Je+1][0],we[Je+1][1]),(this||je).drawingContext.lineTo(we[Je+2][0],we[Je+2][1]),(this||je).drawingContext.closePath(),!(this||je)._clipping&&(this||je)._doFill&&((this||je)._pInst.fill(we[Je+2][5]),(this||je).drawingContext.fill()),!(this||je)._clipping&&(this||je)._doStroke&&((this||je)._pInst.stroke(we[Je+2][6]),(this||je).drawingContext.stroke());else if(Qe===Ee.TRIANGLE_STRIP)for(Je=0;Je+1<tt;Je++)Ke=we[Je],(this||je)._clipping||(this||je).drawingContext.beginPath(),(this||je).drawingContext.moveTo(we[Je+1][0],we[Je+1][1]),(this||je).drawingContext.lineTo(Ke[0],Ke[1]),!(this||je)._clipping&&(this||je)._doStroke&&(this||je)._pInst.stroke(we[Je+1][6]),!(this||je)._clipping&&(this||je)._doFill&&(this||je)._pInst.fill(we[Je+1][5]),Je+2<tt&&((this||je).drawingContext.lineTo(we[Je+2][0],we[Je+2][1]),!(this||je)._clipping&&(this||je)._doStroke&&(this||je)._pInst.stroke(we[Je+2][6]),!(this||je)._clipping&&(this||je)._doFill&&(this||je)._pInst.fill(we[Je+2][5])),this._doFillStrokeClose(et);else if(Qe===Ee.TRIANGLE_FAN){if(2<tt){for((this||je)._clipping||(this||je).drawingContext.beginPath(),Je=2;Je<tt;Je++)Ke=we[Je],(this||je).drawingContext.moveTo(we[0][0],we[0][1]),(this||je).drawingContext.lineTo(we[Je-1][0],we[Je-1][1]),(this||je).drawingContext.lineTo(Ke[0],Ke[1]),(this||je).drawingContext.lineTo(we[0][0],we[0][1]),Je<tt-1&&((this||je)._doFill&&Ke[5]!==we[Je+1][5]||(this||je)._doStroke&&Ke[6]!==we[Je+1][6])&&(!(this||je)._clipping&&(this||je)._doFill&&((this||je)._pInst.fill(Ke[5]),(this||je).drawingContext.fill(),(this||je)._pInst.fill(we[Je+1][5])),!(this||je)._clipping&&(this||je)._doStroke&&((this||je)._pInst.stroke(Ke[6]),(this||je).drawingContext.stroke(),(this||je)._pInst.stroke(we[Je+1][6])),(this||je).drawingContext.closePath(),(this||je)._clipping||(this||je).drawingContext.beginPath());this._doFillStrokeClose(et)}}else if(Qe===Ee.QUADS)for(Je=0;Je+3<tt;Je+=4){for(Ke=we[Je],(this||je)._clipping||(this||je).drawingContext.beginPath(),(this||je).drawingContext.moveTo(Ke[0],Ke[1]),$e=1;$e<4;$e++)(this||je).drawingContext.lineTo(we[Je+$e][0],we[Je+$e][1]);(this||je).drawingContext.lineTo(Ke[0],Ke[1]),!(this||je)._clipping&&(this||je)._doFill&&(this||je)._pInst.fill(we[Je+3][5]),!(this||je)._clipping&&(this||je)._doStroke&&(this||je)._pInst.stroke(we[Je+3][6]),this._doFillStrokeClose(et)}else if(Qe===Ee.QUAD_STRIP){if(3<tt)for(Je=0;Je+1<tt;Je+=2)Ke=we[Je],(this||je)._clipping||(this||je).drawingContext.beginPath(),Je+3<tt?((this||je).drawingContext.moveTo(we[Je+2][0],we[Je+2][1]),(this||je).drawingContext.lineTo(Ke[0],Ke[1]),(this||je).drawingContext.lineTo(we[Je+1][0],we[Je+1][1]),(this||je).drawingContext.lineTo(we[Je+3][0],we[Je+3][1]),!(this||je)._clipping&&(this||je)._doFill&&(this||je)._pInst.fill(we[Je+3][5]),!(this||je)._clipping&&(this||je)._doStroke&&(this||je)._pInst.stroke(we[Je+3][6])):((this||je).drawingContext.moveTo(Ke[0],Ke[1]),(this||je).drawingContext.lineTo(we[Je+1][0],we[Je+1][1])),this._doFillStrokeClose(et)}else{for((this||je)._clipping||(this||je).drawingContext.beginPath(),(this||je).drawingContext.moveTo(we[0][0],we[0][1]),Je=1;Je<tt;Je++)(Ke=we[Je]).isVert&&(Ke.moveTo?(et&&(this||je).drawingContext.closePath(),(this||je).drawingContext.moveTo(Ke[0],Ke[1])):(this||je).drawingContext.lineTo(Ke[0],Ke[1]));this._doFillStrokeClose(et)}Ze=Ye=Te=Se=!1,et&&we.pop()}return this||je}},{key:"strokeCap",value:function(xe){return xe!==Ee.ROUND&&xe!==Ee.SQUARE&&xe!==Ee.PROJECT||((this||je).drawingContext.lineCap=xe),this||je}},{key:"strokeJoin",value:function(xe){return xe!==Ee.ROUND&&xe!==Ee.BEVEL&&xe!==Ee.MITER||((this||je).drawingContext.lineJoin=xe),this||je}},{key:"strokeWeight",value:function(xe){return(this||je).drawingContext.lineWidth=void 0===xe||0===xe?1e-4:xe,this||je}},{key:"_getFill",value:function(){return(this||je)._cachedFillStyle||((this||je)._cachedFillStyle=(this||je).drawingContext.fillStyle),(this||je)._cachedFillStyle}},{key:"_setFill",value:function(xe){xe!==(this||je)._cachedFillStyle&&((this||je).drawingContext.fillStyle=xe,(this||je)._cachedFillStyle=xe)}},{key:"_getStroke",value:function(){return(this||je)._cachedStrokeStyle||((this||je)._cachedStrokeStyle=(this||je).drawingContext.strokeStyle),(this||je)._cachedStrokeStyle}},{key:"_setStroke",value:function(xe){xe!==(this||je)._cachedStrokeStyle&&((this||je).drawingContext.strokeStyle=xe,(this||je)._cachedStrokeStyle=xe)}},{key:"bezier",value:function(xe,we,Se,Te,Ee,Ye,Ze,Qe){return(this||je)._pInst.beginShape(),(this||je)._pInst.vertex(xe,we),(this||je)._pInst.bezierVertex(Se,Te,Ee,Ye,Ze,Qe),(this||je)._pInst.endShape(),this||je}},{key:"curve",value:function(xe,we,Se,Te,Ee,Ye,Ze,Qe){return(this||je)._pInst.beginShape(),(this||je)._pInst.curveVertex(xe,we),(this||je)._pInst.curveVertex(Se,Te),(this||je)._pInst.curveVertex(Ee,Ye),(this||je)._pInst.curveVertex(Ze,Qe),(this||je)._pInst.endShape(),this||je}},{key:"_doFillStrokeClose",value:function(xe){xe&&(this||je).drawingContext.closePath(),!(this||je)._clipping&&(this||je)._doFill&&(this||je).drawingContext.fill(),!(this||je)._clipping&&(this||je)._doStroke&&(this||je).drawingContext.stroke()}},{key:"applyMatrix",value:function(xe,we,Se,Te,Ee,Ye){(this||je).drawingContext.transform(xe,we,Se,Te,Ee,Ye)}},{key:"resetMatrix",value:function(){return(this||je).drawingContext.setTransform(1,0,0,1,0,0),(this||je).drawingContext.scale((this||je)._pInst._pixelDensity,(this||je)._pInst._pixelDensity),this||je}},{key:"rotate",value:function(xe){(this||je).drawingContext.rotate(xe)}},{key:"scale",value:function(xe,we){return(this||je).drawingContext.scale(xe,we),this||je}},{key:"translate",value:function(xe,we){return xe instanceof Te.default.Vector&&(we=xe.y,xe=xe.x),(this||je).drawingContext.translate(xe,we),this||je}},{key:"_renderText",value:function(xe,we,Se,Te,Ye,Ze){if(!(Te<Ze||Ye<=Te))return xe.push(),this._isOpenType()?(this||je)._textFont._renderPath(we,Se,Te,{renderer:this||je}):((this||je)._doStroke&&(this||je)._strokeSet&&(this||je).drawingContext.strokeText(we,Se,Te),!(this||je)._clipping&&(this||je)._doFill&&((this||je)._fillSet||this._setFill(Ee._DEFAULT_TEXT_FILL),(this||je).drawingContext.fillText(we,Se,Te))),xe.pop(),xe}},{key:"textWidth",value:function(xe){return this._isOpenType()?(this||je)._textFont._textWidth(xe,(this||je)._textSize):(this||je).drawingContext.measureText(xe).width}},{key:"_applyTextProperties",value:function(){var xe,we=(this||je)._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),xe=(this||je)._textFont,this._isOpenType()&&(xe=(this||je)._textFont.font.familyName,this._setProperty("_textStyle",(this||je)._textFont.font.styleName)),(this||je).drawingContext.font="".concat((this||je)._textStyle||"normal"," ").concat((this||je)._textSize||12,'px "').concat(xe||"sans-serif",'"'),(this||je).drawingContext.textAlign=(this||je)._textAlign,(this||je)._textBaseline===Ee.CENTER?(this||je).drawingContext.textBaseline=Ee._CTX_MIDDLE:(this||je).drawingContext.textBaseline=(this||je)._textBaseline,we}},{key:"push",value:function(){return(this||je).drawingContext.save(),l(h(n.prototype),"push",this||je).call(this||je)}},{key:"pop",value:function(xe){(this||je).drawingContext.restore(),(this||je)._cachedFillStyle=(this||je).drawingContext.fillStyle,(this||je)._cachedStrokeStyle=(this||je).drawingContext.strokeStyle,l(h(n.prototype),"pop",this||je).call(this||je,xe)}}])&&s(we.prototype,xe),Se&&s(we,Se),n}(Te.default.Renderer);xe=(Ze.prototype.text=function(xe,we,Se,Ye,Ze){void 0!==Ye&&(this||je).drawingContext.textBaseline===Ee.BASELINE&&(Qe=!0,(this||je).drawingContext.textBaseline=Ee.TOP);var Qe;Ye=Te.default.Renderer.prototype.text.apply(this||je,arguments);return Qe&&((this||je).drawingContext.textBaseline=Ee.BASELINE),Ye},Te.default.Renderer2D=Ze,Te.default.Renderer2D);Se.default=xe},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator");var Te=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype._promisePreloads=[];function o(){return{}}var Ee=!(Te.default.prototype.registerPromisePreload=function(je){Te.default.prototype._promisePreloads.push(je)});Te.default.prototype._setupPromisePreloads=function(){var xe=!0,we=!1,Se=void 0;try{for(var Ye,Ze=(this||je)._promisePreloads[Symbol.iterator]();!(xe=(Ye=Ze.next()).done);xe=!0){var Qe=Ye.value,Ke=this||je,Je=Qe.method,$e=Qe.addCallbacks,et=Qe.legacyPreloadSetup,tt=Qe.target||this||je,rt=tt[Je].bind(tt);if(tt===Te.default.prototype){if(Ee)continue;Ke=null,rt=tt[Je]}tt[Je]=this._wrapPromisePreload(Ke,rt,$e),et&&(tt[et.method]=this._legacyPreloadGenerator(Ke,et,tt[Je]))}}catch(xe){we=!0,Se=xe}finally{try{xe||null==Ze.return||Ze.return()}finally{if(we)throw Se}}Ee=!0},Te.default.prototype._wrapPromisePreload=function(xe,we,Se){var t=function(){for(var xe=this||je,Te=(this._incrementPreload(),null),Ee=null,Ye=arguments.length,Ze=new Array(Ye),Qe=0;Qe<Ye;Qe++)Ze[Qe]=arguments[Qe];if(Se)for(var Ke=Ze.length-1;0<=Ke&&!Ee&&"function"==typeof Ze[Ke];Ke--)Ee=Te,Te=Ze.pop();var Je=Promise.resolve(we.apply(this||je,Ze));return Te&&Je.then(Te),Ee&&Je.catch(Ee),Je.then((function(){return xe._decrementPreload()})),Je};return xe?t.bind(xe):t};Te.default.prototype._legacyPreloadGenerator=function(xe,we,Se){var Te=we.createBaseObject||o;we=function(){var xe=this||je;this._incrementPreload();for(var we=arguments.length,Ee=new Array(we),Ye=0;Ye<we;Ye++)Ee[Ye]=arguments[Ye];var Ze=Te.apply(this||je,Ee);return Se.apply(this||je,Ee).then((function(je){Object.assign(Ze,je),xe._decrementPreload()})),Ze};return xe?we.bind(xe):we}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("./main"))&&Ze.__esModule?Ze:{default:Ze},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==a(je)&&"function"!=typeof je)return{default:je};var xe=i();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("./constants"));function i(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,i=function(){return je},je)}function a(je){return(a="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("./p5.Graphics"),xe("./p5.Renderer2D"),xe("../webgl/p5.RendererGL");var Ye="defaultCanvas0",Ze=(Te.default.prototype.createCanvas=function(xe,we,Se,Ze){var Qe,Ke,Je;if(Te.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(Se=Ee.P2D,Ze=arguments[2]):Qe=Se||Ee.P2D,Ze)(Je=document.getElementById(Ye))&&Je.parentNode.removeChild(Je),Je=Ze,(this||je)._defaultGraphicsCreated=!1;else{if(Qe===Ee.WEBGL)(Je=document.getElementById(Ye))&&(Je.parentNode.removeChild(Je),Ke=(this||je)._renderer,(this||je)._elements=(this||je)._elements.filter((function(je){return je!==Ke}))),(Je=document.createElement("canvas")).id=Ye,Je.classList.add("p5Canvas");else if((this||je)._defaultGraphicsCreated)Je=(this||je).canvas;else{Je=Ze||document.createElement("canvas");for(var $e=0;document.getElementById("defaultCanvas".concat($e));)$e++;Ye="defaultCanvas".concat($e),Je.id=Ye,Je.classList.add("p5Canvas")}(this||je)._setupDone||(Je.dataset.hidden=!0,Je.style.visibility="hidden"),((this||je)._userNode||(0===document.getElementsByTagName("main").length&&(Se=document.createElement("main"),document.body.appendChild(Se)),document.getElementsByTagName("main")[0])).appendChild(Je)}return Qe===Ee.WEBGL?(this._setProperty("_renderer",new Te.default.RendererGL(Je,this||je,!0)),(this||je)._elements.push((this||je)._renderer)):(this||je)._defaultGraphicsCreated||(this._setProperty("_renderer",new Te.default.Renderer2D(Je,this||je,!0)),(this||je)._defaultGraphicsCreated=!0,(this||je)._elements.push((this||je)._renderer)),(this||je)._renderer.resize(xe,we),(this||je)._renderer._applyDefaults(),(this||je)._renderer},Te.default.prototype.resizeCanvas=function(xe,we,Se){if(Te.default._validateParameters("resizeCanvas",arguments),(this||je)._renderer){var Ee,Ye,Ze={};for(Ee in(this||je).drawingContext){var Qe=(this||je).drawingContext[Ee];"object"!==a(Qe)&&"function"!=typeof Qe&&(Ze[Ee]=Qe)}for(Ye in(this||je).width=xe,(this||je).height=we,(this||je)._renderer.resize(xe,we),Ze)try{(this||je).drawingContext[Ye]=Ze[Ye]}catch(xe){}Se||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},Te.default.prototype.noCanvas=function(){(this||je).canvas&&(this||je).canvas.parentNode.removeChild((this||je).canvas)},Te.default.prototype.createGraphics=function(xe,we){for(var Se=arguments.length,Ye=new Array(2<Se?Se-2:0),Ze=2;Ze<Se;Ze++)Ye[Ze-2]=arguments[Ze];return Ye[0]instanceof HTMLCanvasElement&&(Ye[1]=Ye[0],Ye[0]=Ee.P2D),Te.default._validateParameters("createGraphics",arguments),new Te.default.Graphics(xe,we,Ye[0],this||je,Ye[1])},Te.default.prototype.createFramebuffer=function(xe){return new Te.default.Framebuffer(this||je,xe)},Te.default.prototype.clearDepth=function(xe){this._assert3d("clearDepth"),(this||je)._renderer.clearDepth(xe)},Te.default.prototype.blendMode=function(xe){Te.default._validateParameters("blendMode",arguments),xe===Ee.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),xe=Ee.BLEND),(this||je)._renderer.blendMode(xe)},Te.default);Se.default=Ze},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.slice"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=n(xe("../main")),Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=c();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../constants")),Ye=n(xe("../helpers"));function c(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,c=function(){return je},je)}function n(je){return je&&je.__esModule?je:{default:je}}function s(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}xe("../friendly_errors/fes_core"),xe("../friendly_errors/file_errors"),xe("../friendly_errors/validate_params"),Te.default.prototype._normalizeArcAngles=function(je,xe,we,Se,Te){var Ye;return je-=Ee.TWO_PI*Math.floor(je/Ee.TWO_PI),xe-=Ee.TWO_PI*Math.floor(xe/Ee.TWO_PI),Ye=Math.min(Math.abs(je-xe),Ee.TWO_PI-Math.abs(je-xe)),Te&&(je=je<=Ee.HALF_PI?Math.atan(we/Se*Math.tan(je)):je>Ee.HALF_PI&&je<=3*Ee.HALF_PI?Math.atan(we/Se*Math.tan(je))+Ee.PI:Math.atan(we/Se*Math.tan(je))+Ee.TWO_PI,xe=xe<=Ee.HALF_PI?Math.atan(we/Se*Math.tan(xe)):xe>Ee.HALF_PI&&xe<=3*Ee.HALF_PI?Math.atan(we/Se*Math.tan(xe))+Ee.PI:Math.atan(we/Se*Math.tan(xe))+Ee.TWO_PI),xe<je&&(xe+=Ee.TWO_PI),{start:je,stop:xe,correspondToSamePoint:Ye<1e-5}},Te.default.prototype.arc=function(xe,we,Se,Ee,Ze,Qe,Ke,Je){return Te.default._validateParameters("arc",arguments),((this||je)._renderer._doStroke||(this||je)._renderer._doFill)&&Ze!==Qe&&(Ze=this._toRadians(Ze),Qe=this._toRadians(Qe),Se=Math.abs(Se),Ee=Math.abs(Ee),xe=Ye.default.modeAdjust(xe,we,Se,Ee,(this||je)._renderer._ellipseMode),(we=this._normalizeArcAngles(Ze,Qe,xe.w,xe.h,!0)).correspondToSamePoint?(this||je)._renderer.ellipse([xe.x,xe.y,xe.w,xe.h,Je]):((this||je)._renderer.arc(xe.x,xe.y,xe.w,xe.h,we.start,we.stop,Ke,Je),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("arc",[xe.x,xe.y,xe.w,xe.h,we.start,we.stop,Ke]))),this||je},Te.default.prototype.ellipse=function(xe,we,Se,Ee,Ye){return Te.default._validateParameters("ellipse",arguments),(this||je)._renderEllipse.apply(this||je,arguments)},Te.default.prototype.circle=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("circle",we);var Ee=we.slice(0,2);return Ee.push(we[2],we[2]),(this||je)._renderEllipse.apply(this||je,s(Ee))},Te.default.prototype._renderEllipse=function(xe,we,Se,Te,Ee){return((this||je)._renderer._doStroke||(this||je)._renderer._doFill)&&(Se<0&&(Se=Math.abs(Se)),void 0===Te?Te=Se:Te<0&&(Te=Math.abs(Te)),xe=Ye.default.modeAdjust(xe,we,Se,Te,(this||je)._renderer._ellipseMode),(this||je)._renderer.ellipse([xe.x,xe.y,xe.w,xe.h,Ee]),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("ellipse",[xe.x,xe.y,xe.w,xe.h])),this||je},Te.default.prototype.line=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("line",Se),(this||je)._renderer._doStroke&&(xe=(this||je)._renderer).line.apply(xe,Se),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("line",Se),this||je},Te.default.prototype.point=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("point",Se),(this||je)._renderer._doStroke&&(1===Se.length&&Se[0]instanceof Te.default.Vector?(this||je)._renderer.point.call((this||je)._renderer,Se[0].x,Se[0].y,Se[0].z):((xe=(this||je)._renderer).point.apply(xe,Se),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("point",Se))),this||je},Te.default.prototype.quad=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("quad",Se),((this||je)._renderer._doStroke||(this||je)._renderer._doFill)&&((this||je)._renderer.isP3D&&Se.length<12?(this||je)._renderer.quad.call((this||je)._renderer,Se[0],Se[1],0,Se[2],Se[3],0,Se[4],Se[5],0,Se[6],Se[7],0,Se[8],Se[9]):((xe=(this||je)._renderer).quad.apply(xe,Se),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("quadrilateral",Se))),this||je},Te.default.prototype.rect=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("rect",we),(this||je)._renderRect.apply(this||je,we)},Te.default.prototype.square=function(xe,we,Se,Ee,Ye,Ze,Qe){return Te.default._validateParameters("square",arguments),(this||je)._renderRect.call(this||je,xe,we,Se,Se,Ee,Ye,Ze,Qe)},Te.default.prototype._renderRect=function(){if((this||je)._renderer._doStroke||(this||je)._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var xe=Ye.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],(this||je)._renderer._rectMode),we=[xe.x,xe.y,xe.w,xe.h],Se=4;Se<arguments.length;Se++)we[Se]=arguments[Se];(this||je)._renderer.rect(we),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("rectangle",[xe.x,xe.y,xe.w,xe.h])}return this||je},Te.default.prototype.triangle=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("triangle",we),((this||je)._renderer._doStroke||(this||je)._renderer._doFill)&&(this||je)._renderer.triangle(we),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._accsOutput("triangle",we),this||je};xe=Te.default;Se.default=xe},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}Te.default.prototype.ellipseMode=function(xe){return Te.default._validateParameters("ellipseMode",arguments),xe!==Ee.CORNER&&xe!==Ee.CORNERS&&xe!==Ee.RADIUS&&xe!==Ee.CENTER||((this||je)._renderer._ellipseMode=xe),this||je},Te.default.prototype.noSmooth=function(){return(this||je)._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in(this||je).drawingContext&&((this||je).drawingContext.imageSmoothingEnabled=!1),this||je},Te.default.prototype.rectMode=function(xe){return Te.default._validateParameters("rectMode",arguments),xe!==Ee.CORNER&&xe!==Ee.CORNERS&&xe!==Ee.RADIUS&&xe!==Ee.CENTER||((this||je)._renderer._rectMode=xe),this||je},Te.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),(this||je)._renderer.isP3D||"imageSmoothingEnabled"in(this||je).drawingContext&&((this||je).drawingContext.imageSmoothingEnabled=!0),this||je},Te.default.prototype.strokeCap=function(xe){return Te.default._validateParameters("strokeCap",arguments),xe!==Ee.ROUND&&xe!==Ee.SQUARE&&xe!==Ee.PROJECT||(this||je)._renderer.strokeCap(xe),this||je},Te.default.prototype.strokeJoin=function(xe){return Te.default._validateParameters("strokeJoin",arguments),xe!==Ee.ROUND&&xe!==Ee.BEVEL&&xe!==Ee.MITER||(this||je)._renderer.strokeJoin(xe),this||je},Te.default.prototype.strokeWeight=function(xe){return Te.default._validateParameters("strokeWeight",arguments),(this||je)._renderer.strokeWeight(xe),this||je};var Ye=Te.default;Se.default=Ye},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ee=xe("../main"))&&Ee.__esModule?Ee:{default:Ee};xe("../friendly_errors/fes_core"),xe("../friendly_errors/file_errors"),xe("../friendly_errors/validate_params"),Te.default.prototype.bezier=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("bezier",Se),((this||je)._renderer._doStroke||(this||je)._renderer._doFill)&&(xe=(this||je)._renderer).bezier.apply(xe,Se),this||je},Te.default.prototype.bezierDetail=function(xe){return Te.default._validateParameters("bezierDetail",arguments),(this||je)._bezierDetail=xe,this||je},Te.default.prototype.bezierPoint=function(je,xe,we,Se,Ee){Te.default._validateParameters("bezierPoint",arguments);var Ye=1-Ee;return Math.pow(Ye,3)*je+3*Math.pow(Ye,2)*Ee*xe+3*Ye*Math.pow(Ee,2)*we+Math.pow(Ee,3)*Se},Te.default.prototype.bezierTangent=function(je,xe,we,Se,Ee){Te.default._validateParameters("bezierTangent",arguments);var Ye=1-Ee;return 3*Se*Math.pow(Ee,2)-3*we*Math.pow(Ee,2)+6*we*Ye*Ee-6*xe*Ye*Ee+3*xe*Math.pow(Ye,2)-3*je*Math.pow(Ye,2)},Te.default.prototype.curve=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("curve",Se),(this||je)._renderer._doStroke&&(xe=(this||je)._renderer).curve.apply(xe,Se),this||je},Te.default.prototype.curveDetail=function(xe){return Te.default._validateParameters("curveDetail",arguments),(this||je)._curveDetail=xe<3?3:xe,this||je},Te.default.prototype.curveTightness=function(xe){return Te.default._validateParameters("curveTightness",arguments),(this||je)._renderer._curveTightness=xe,this||je},Te.default.prototype.curvePoint=function(xe,we,Se,Ee,Ye){Te.default._validateParameters("curvePoint",arguments);var Ze=(this||je)._renderer._curveTightness,Qe=Ye*Ye*Ye,Ke=Ye*Ye;return xe*((Ze-1)/2*Qe+(1-Ze)*Ke+(Ze-1)/2*Ye)+we*((Ze+3)/2*Qe+(-5-Ze)/2*Ke+1)+Se*((-3-Ze)/2*Qe+(Ze+2)*Ke+(1-Ze)/2*Ye)+Ee*((1-Ze)/2*Qe+(Ze-1)/2*Ke)},Te.default.prototype.curveTangent=function(xe,we,Se,Ee,Ye){Te.default._validateParameters("curveTangent",arguments);var Ze=(this||je)._renderer._curveTightness,Qe=Ye*Ye*3;Ye*=2;return xe*((Ze-1)/2*Qe+(1-Ze)*Ye+(Ze-1)/2)+we*((Ze+3)/2*Qe+(-5-Ze)/2*Ye)+Se*((-3-Ze)/2*Qe+(Ze+2)*Ye+(1-Ze)/2)+Ee*((1-Ze)/2*Qe+(Ze-1)/2*Ye)};var Ee=Te.default;Se.default=Ee},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.slice"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(rt=xe("../main"))&&rt.__esModule?rt:{default:rt},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=u();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../constants"));function u(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,u=function(){return je},je)}var Ye=null,Ze=[],Qe=[],Ke=!1,Je=!1,$e=!1,et=!1,tt=!0,rt=(Te.default.prototype.beginContour=function(){return(this||je)._renderer.isP3D?(this||je)._renderer.beginContour():(Qe=[],et=!0),this||je},Te.default.prototype.beginShape=function(xe){var we;return Te.default._validateParameters("beginShape",arguments),(this||je)._renderer.isP3D?(we=(this||je)._renderer).beginShape.apply(we,arguments):(Ye=xe===Ee.POINTS||xe===Ee.LINES||xe===Ee.TRIANGLES||xe===Ee.TRIANGLE_FAN||xe===Ee.TRIANGLE_STRIP||xe===Ee.QUADS||xe===Ee.QUAD_STRIP?xe:null,Ze=[],Qe=[]),this||je},Te.default.prototype.bezierVertex=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];if(Te.default._validateParameters("bezierVertex",Se),(this||je)._renderer.isP3D)(xe=(this||je)._renderer).bezierVertex.apply(xe,Se);else if(0===Ze.length)Te.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{Ke=!0;for(var Ye=[],Je=0;Je<Se.length;Je++)Ye[Je]=Se[Je];Ye.isVert=!1,(et?Qe:Ze).push(Ye)}return this||je},Te.default.prototype.curveVertex=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("curveVertex",Se),(this||je)._renderer.isP3D?(xe=(this||je)._renderer).curveVertex.apply(xe,Se):(Je=!0,this.vertex(Se[0],Se[1])),this||je},Te.default.prototype.endContour=function(){if(!(this||je)._renderer.isP3D){var xe=Qe[0].slice();xe.isVert=Qe[0].isVert,xe.moveTo=!1,Qe.push(xe),tt&&(Ze.push(Ze[0]),tt=!1);for(var we=0;we<Qe.length;we++)Ze.push(Qe[we])}return this||je},Te.default.prototype.endShape=function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(Te.default._validateParameters("endShape",arguments),we<1&&(console.log(" p5.js says: You can not have less than one instance"),we=1),(this||je)._renderer.isP3D)(this||je)._renderer.endShape(xe,Je,Ke,$e,et,Ye,we);else{if(1!==we&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),0===Ze.length)return this||je;if(!(this||je)._renderer._doStroke&&!(this||je)._renderer._doFill)return this||je;we=xe===Ee.CLOSE;we&&!et&&Ze.push(Ze[0]),(this||je)._renderer.endShape(xe,Ze,Je,Ke,$e,et,Ye),tt=!(et=$e=Ke=Je=!1),we&&Ze.pop()}return this||je},Te.default.prototype.quadraticVertex=function(){for(var xe,we=arguments.length,Se=new Array(we),Ye=0;Ye<we;Ye++)Se[Ye]=arguments[Ye];if(Te.default._validateParameters("quadraticVertex",Se),(this||je)._renderer.isP3D)(xe=(this||je)._renderer).quadraticVertex.apply(xe,Se);else{if((this||je)._contourInited)return(xe={}).x=Se[0],xe.y=Se[1],xe.x3=Se[2],xe.y3=Se[3],xe.type=Ee.QUADRATIC,(this||je)._contourVertices.push(xe),this||je;if(0<Ze.length){$e=!0;for(var Ke=[],Je=0;Je<Se.length;Je++)Ke[Je]=Se[Je];Ke.isVert=!1,(et?Qe:Ze).push(Ke)}else Te.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this||je},Te.default.prototype.vertex=function(xe,we,Se,Te,Ee){var Ye;return(this||je)._renderer.isP3D?(Ye=(this||je)._renderer).vertex.apply(Ye,arguments):((Ye=[]).isVert=!0,Ye[0]=xe,Ye[1]=we,Ye[2]=0,Ye[3]=0,Ye[4]=0,Ye[5]=(this||je)._renderer._getFill(),Ye[6]=(this||je)._renderer._getStroke(),Se&&(Ye.moveTo=Se),(et?(0===Qe.length&&(Ye.moveTo=!0),Qe):Ze).push(Ye)),this||je},Te.default.prototype.normal=function(xe,we,Se){var Ee;return this._assert3d("normal"),Te.default._validateParameters("normal",arguments),(Ee=(this||je)._renderer).normal.apply(Ee,arguments),this||je},Te.default);Se.default=rt},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(je,xe,we){},{}],292:[function(xe,we,Se){xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.assign"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype.noLoop=function(){(this||je)._loop=!1},xe.default.prototype.loop=function(){(this||je)._loop||((this||je)._loop=!0,(this||je)._setupDone&&this._draw())},xe.default.prototype.isLooping=function(){return(this||je)._loop},xe.default.prototype.push=function(){(this||je)._styles.push({props:{_colorMode:(this||je)._colorMode},renderer:(this||je)._renderer.push()})},xe.default.prototype.pop=function(){var xe=(this||je)._styles.pop();xe?((this||je)._renderer.pop(xe.renderer),Object.assign(this||je,xe.props)):console.warn("pop() was called without matching push()")},xe.default.prototype.redraw=function(xe){if(!(this||je)._inUserDraw&&(this||je)._setupDone){var we=parseInt(xe),Se=((isNaN(we)||we<1)&&(we=1),(this||je)._isGlobal?window:this||je);if("function"==typeof Se.draw){void 0===Se.setup&&Se.scale(Se._pixelDensity,Se._pixelDensity);for(var Te=0;Te<we;Te++){Se.resetMatrix(),((this||je)._accessibleOutputs.grid||(this||je)._accessibleOutputs.text)&&this._updateAccsOutput(),Se._renderer.isP3D&&Se._renderer._update(),Se._setProperty("frameCount",Se.frameCount+1),this.callRegisteredHooksFor("pre"),(this||je)._inUserDraw=!0;try{Se.draw()}finally{(this||je)._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}};xe=xe.default;Se.default=xe},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("./main"))&&xe.__esModule?xe:{default:xe};function o(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Te.default.prototype.applyMatrix=function(){var xe=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||xe?(xe=(this||je)._renderer).applyMatrix.apply(xe,o(arguments.length<=0?void 0:arguments[0])):(xe=(this||je)._renderer).applyMatrix.apply(xe,arguments),this||je},Te.default.prototype.resetMatrix=function(){return(this||je)._renderer.resetMatrix(),this||je},Te.default.prototype.rotate=function(xe,we){return Te.default._validateParameters("rotate",arguments),(this||je)._renderer.rotate(this._toRadians(xe),we),this||je},Te.default.prototype.rotateX=function(xe){return this._assert3d("rotateX"),Te.default._validateParameters("rotateX",arguments),(this||je)._renderer.rotateX(this._toRadians(xe)),this||je},Te.default.prototype.rotateY=function(xe){return this._assert3d("rotateY"),Te.default._validateParameters("rotateY",arguments),(this||je)._renderer.rotateY(this._toRadians(xe)),this||je},Te.default.prototype.rotateZ=function(xe){return this._assert3d("rotateZ"),Te.default._validateParameters("rotateZ",arguments),(this||je)._renderer.rotateZ(this._toRadians(xe)),this||je},Te.default.prototype.scale=function(xe,we,Se){var Ee;return Te.default._validateParameters("scale",arguments),xe instanceof Te.default.Vector?(xe=(Ee=xe).x,we=Ee.y,Se=Ee.z):Array.isArray(xe)&&(xe=(Ee=xe)[0],we=Ee[1],Se=Ee[2]||1),isNaN(we)?we=Se=xe:isNaN(Se)&&(Se=1),(this||je)._renderer.scale(xe,we,Se),this||je},Te.default.prototype.shearX=function(xe){Te.default._validateParameters("shearX",arguments);xe=this._toRadians(xe);return(this||je)._renderer.applyMatrix(1,0,Math.tan(xe),1,0,0),this||je},Te.default.prototype.shearY=function(xe){Te.default._validateParameters("shearY",arguments);xe=this._toRadians(xe);return(this||je)._renderer.applyMatrix(1,Math.tan(xe),0,1,0,0),this||je},Te.default.prototype.translate=function(xe,we,Se){return Te.default._validateParameters("translate",arguments),(this||je)._renderer.isP3D?(this||je)._renderer.translate(xe,we,Se):(this||je)._renderer.translate(xe,we),this||je};xe=Te.default;Se.default=xe},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.ends-with"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator");var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function s(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}Te.default.prototype.storeItem=function(je,xe){"string"!=typeof je&&console.log("The argument that you passed to storeItem() - ".concat(je," is not a string.")),je.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(je," must not end with 'p5TypeID'.")),void 0===xe&&console.log("You cannot store undefined variables using storeItem().");var we=i(xe);switch(we){case"number":case"boolean":xe=xe.toString();break;case"object":xe instanceof Te.default.Color?we="p5.Color":xe instanceof Te.default.Vector&&(we="p5.Vector",xe=[xe.x,xe.y,xe.z]),xe=JSON.stringify(xe)}localStorage.setItem(je,xe);je="".concat(je,"p5TypeID");localStorage.setItem(je,we)},Te.default.prototype.getItem=function(xe){var we=localStorage.getItem(xe),Se=localStorage.getItem("".concat(xe,"p5TypeID"));if(void 0===Se)console.log("Unable to determine type of item stored under ".concat(xe,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==we)switch(Se){case"number":we=parseFloat(we);break;case"boolean":we="true"===we;break;case"object":we=JSON.parse(we);break;case"p5.Color":we=JSON.parse(we),we=(this||je).color.apply(this||je,s(we.levels));break;case"p5.Vector":we=JSON.parse(we),we=(this||je).createVector.apply(this||je,s(we))}return we},Te.default.prototype.clearStorage=function(){localStorage.clear()},Te.default.prototype.removeItem=function(je){"string"!=typeof je&&console.log("The argument that you passed to removeItem() - ".concat(je," is not a string.")),localStorage.removeItem(je),localStorage.removeItem("".concat(je,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],295:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function n(je){return(n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.object.keys"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function i(je,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(xe&&xe.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),xe&&a(je,xe)}function a(je,xe){return(a=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function l(xe){return function(){var we,Se=u(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=u(this||je).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||je,arguments),this||je);if(!we||"object"!==n(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function u(je){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}function c(je,xe){if(!(je instanceof xe))throw new TypeError("Cannot call a class as a function")}function d(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function h(je,xe,we){xe&&d(je.prototype,xe),we&&d(je,we)}Te.default.prototype.createStringDict=function(je,xe){return Te.default._validateParameters("createStringDict",arguments),new Te.default.StringDict(je,xe)},Te.default.prototype.createNumberDict=function(je,xe){return Te.default._validateParameters("createNumberDict",arguments),new Te.default.NumberDict(je,xe)},Te.default.TypedDict=function(){function r(xe,we){return c(this||je,r),xe instanceof Object?(this||je).data=xe:((this||je).data={},(this||je).data[xe]=we),this||je}return h(r,[{key:"size",value:function(){return Object.keys((this||je).data).length}},{key:"hasKey",value:function(xe){return(this||je).data.hasOwnProperty(xe)}},{key:"get",value:function(xe){if((this||je).data.hasOwnProperty(xe))return(this||je).data[xe];console.log("".concat(xe," does not exist in this Dictionary"))}},{key:"set",value:function(xe,we){this._validate(we)?(this||je).data[xe]=we:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(je){for(var xe in je)this.set(xe,je[xe])}},{key:"create",value:function(je,xe){je instanceof Object&&void 0===xe?this._addObj(je):void 0!==je?this.set(je,xe):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){(this||je).data={}}},{key:"remove",value:function(xe){if(!(this||je).data.hasOwnProperty(xe))throw new Error("".concat(xe," does not exist in this Dictionary"));delete(this||je).data[xe]}},{key:"print",value:function(){for(var xe in(this||je).data)console.log("key:".concat(xe," value:").concat((this||je).data[xe]))}},{key:"saveTable",value:function(xe){var we,Se="";for(we in(this||je).data)Se+="".concat(we,",").concat((this||je).data[we],"\n");var Ee=new Blob([Se],{type:"text/csv"});Te.default.prototype.downloadFile(Ee,xe||"mycsv","csv")}},{key:"saveJSON",value:function(xe,we){Te.default.prototype.saveJSON((this||je).data,xe,we)}},{key:"_validate",value:function(je){return!0}}]),r}(),Te.default.StringDict=function(){i(n,Te.default.TypedDict);var xe=l(n);function n(){c(this||je,n);for(var we=arguments.length,Se=new Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te];return xe.call.apply(xe,[this||je].concat(Se))}return h(n,[{key:"_validate",value:function(je){return"string"==typeof je}}]),n}(),Te.default.NumberDict=function(){i(n,Te.default.TypedDict);var xe=l(n);function n(){c(this||je,n);for(var we=arguments.length,Se=new Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te];return xe.call.apply(xe,[this||je].concat(Se))}return h(n,[{key:"_validate",value:function(je){return"number"==typeof je}},{key:"add",value:function(xe,we){(this||je).data.hasOwnProperty(xe)?(this||je).data[xe]+=we:console.log("The key - ".concat(xe," does not exist in this dictionary."))}},{key:"sub",value:function(je,xe){this.add(je,-xe)}},{key:"mult",value:function(xe,we){(this||je).data.hasOwnProperty(xe)?(this||je).data[xe]*=we:console.log("The key - ".concat(xe," does not exist in this dictionary."))}},{key:"div",value:function(xe,we){(this||je).data.hasOwnProperty(xe)?(this||je).data[xe]/=we:console.log("The key - ".concat(xe," does not exist in this dictionary."))}},{key:"_valueTest",value:function(xe){if(0===Object.keys((this||je).data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys((this||je).data).length)return(this||je).data[Object.keys((this||je).data)[0]];var we,Se=(this||je).data[Object.keys((this||je).data)[0]];for(we in(this||je).data)(this||je).data[we]*xe<Se*xe&&(Se=(this||je).data[we]);return Se}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(xe){if(0===Object.keys((this||je).data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys((this||je).data).length)return Object.keys((this||je).data)[0];for(var we=Object.keys((this||je).data)[0],Se=1;Se<Object.keys((this||je).data).length;Se++)Object.keys((this||je).data)[Se]*xe<we*xe&&(we=Object.keys((this||je).data)[Se]);return we}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),n}();xe=Te.default.TypedDict;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(xe,we,Se){function n(je){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function a(je,xe,we){xe&&s(je.prototype,xe),we&&s(je,we)}function l(je,xe){return(l=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function u(xe){return function(){var we,Se,Te=i(xe);return we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=i(this||je).constructor,Reflect.construct(Te,arguments,we)):Te.apply(this||je,arguments),Te=this||je,!(Se=we)||"object"!==p(Se)&&"function"!=typeof Se?c(Te):Se}}function c(je){if(void 0===je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}function i(je){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}function d(je,xe){if(!(je instanceof xe))throw new TypeError("Cannot call a class as a function")}function p(je){return(p="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(je){return n(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":n(je)})(je)}function m(je,xe,we){(xe._userNode||document.body).appendChild(je);we=new(we?Te.default.MediaElement:Te.default.Element)(je,xe);return xe._elements.push(we),we}function h(je,xe,we,Se){var Te=document.createElement(xe),Ee=("string"==typeof(we=we||"")&&(we=[we]),!0),Ye=(xe=!1,void 0);try{for(var Ze,Qe=we[Symbol.iterator]();!(Ee=(Ze=Qe.next()).done);Ee=!0){var Ke=Ze.value,Je=document.createElement("source");Je.setAttribute("src",Ke),Te.appendChild(Je)}}catch(je){xe=!0,Ye=je}finally{try{Ee||null==Qe.return||Qe.return()}finally{if(xe)throw Ye}}"function"==typeof Se&&Te.addEventListener("canplaythrough",(function e(){Se(),Te.removeEventListener("canplaythrough",e)}));var $e=m(Te,je,!0);return $e.loadedmetadata=!1,Te.addEventListener("loadedmetadata",(function(){$e.width=Te.videoWidth,$e.height=Te.videoHeight,0===$e.elt.width&&($e.elt.width=Te.videoWidth),0===$e.elt.height&&($e.elt.height=Te.videoHeight),$e.presetPlaybackRate&&($e.elt.playbackRate=$e.presetPlaybackRate,delete $e.presetPlaybackRate),$e.loadedmetadata=!0})),$e}Te.default.prototype.select=function(je,xe){Te.default._validateParameters("select",arguments);xe=this._getContainer(xe).querySelector(je);return xe?this._wrapElement(xe):null},Te.default.prototype.selectAll=function(je,xe){Te.default._validateParameters("selectAll",arguments);var we=[],Se=this._getContainer(xe).querySelectorAll(je);if(Se)for(var Ee=0;Ee<Se.length;Ee++){var Ye=this._wrapElement(Se[Ee]);we.push(Ye)}return we},Te.default.prototype._getContainer=function(je){var xe=document;return"string"==typeof je?xe=document.querySelector(je)||document:je instanceof Te.default.Element?xe=je.elt:je instanceof HTMLElement&&(xe=je),xe},Te.default.prototype._wrapElement=function(xe){var we,Se=Array.prototype.slice.call(xe.children);return"INPUT"===xe.tagName&&"checkbox"===xe.type?((we=new Te.default.Element(xe,this||je)).checked=function(){return 0===arguments.length?(this||je).elt.checked:((this||je).elt.checked=!(arguments.length<=0||!arguments[0]),this||je)},we):"VIDEO"===xe.tagName||"AUDIO"===xe.tagName?new Te.default.MediaElement(xe,this||je):"SELECT"===xe.tagName?this.createSelect(new Te.default.Element(xe,this||je)):0<Se.length&&Se.every((function(je){return"INPUT"===je.tagName||"LABEL"===je.tagName}))?this.createRadio(new Te.default.Element(xe,this||je)):new Te.default.Element(xe,this||je)},Te.default.prototype.removeElements=function(xe){Te.default._validateParameters("removeElements",arguments);(this||je)._elements.filter((function(je){return!(je.elt instanceof HTMLCanvasElement)})).map((function(je){return je.remove()}))},Te.default.Element.prototype.changed=function(xe){return Te.default.Element._adjustListener("change",xe,this||je),this||je},Te.default.Element.prototype.input=function(xe){return Te.default.Element._adjustListener("input",xe,this||je),this||je},Te.default.prototype.createDiv=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=document.createElement("div");return we.innerHTML=xe,m(we,this||je)},Te.default.prototype.createP=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=document.createElement("p");return we.innerHTML=xe,m(we,this||je)},Te.default.prototype.createSpan=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=document.createElement("span");return we.innerHTML=xe,m(we,this||je)},Te.default.prototype.createImg=function(){Te.default._validateParameters("createImg",arguments);var xe,we=document.createElement("img"),Se=arguments;return 1<Se.length&&"string"==typeof Se[1]&&(we.alt=Se[1]),2<Se.length&&"string"==typeof Se[2]&&(we.crossOrigin=Se[2]),we.src=Se[0],xe=m(we,this||je),we.addEventListener("load",(function(){xe.width=we.offsetWidth||we.width,xe.height=we.offsetHeight||we.height;var je=Se[Se.length-1];"function"==typeof je&&je(xe)})),xe},Te.default.prototype.createA=function(xe,we,Se){Te.default._validateParameters("createA",arguments);var Ee=document.createElement("a");return Ee.href=xe,Ee.innerHTML=we,Se&&(Ee.target=Se),m(Ee,this||je)},Te.default.prototype.createSlider=function(xe,we,Se,Ee){Te.default._validateParameters("createSlider",arguments);var Ye=document.createElement("input");return Ye.type="range",Ye.min=xe,Ye.max=we,0===Ee?Ye.step=1e-18:Ee&&(Ye.step=Ee),"number"==typeof Se&&(Ye.value=Se),m(Ye,this||je)},Te.default.prototype.createButton=function(xe,we){Te.default._validateParameters("createButton",arguments);var Se=document.createElement("button");return Se.innerHTML=xe,we&&(Se.value=we),m(Se,this||je)},Te.default.prototype.createCheckbox=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("createCheckbox",we);var Ee=document.createElement("div"),Ye=document.createElement("input"),Ze=(Ye.type="checkbox",document.createElement("label")),Qe=(Ze.appendChild(Ye),Ee.appendChild(Ze),m(Ee,this||je));return Qe.checked=function(){var je=Qe.elt.firstElementChild.getElementsByTagName("input")[0];if(je){if(0===arguments.length)return je.checked;je.checked=!(arguments.length<=0||!arguments[0])}return Qe},(this||je).value=function(xe){return Qe.value=xe,this||je},we[0]&&(Qe.value(we[0]),(Ee=document.createElement("span")).innerHTML=we[0],Ze.appendChild(Ee)),we[1]&&(Ye.checked=!0),Qe},Te.default.prototype.createSelect=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];Te.default._validateParameters("createSelect",Se);var Ye,Ze=Se[0];return Ze instanceof Te.default.Element&&Ze.elt instanceof HTMLSelectElement?(this||je).elt=(xe=Ze).elt:Ze instanceof HTMLSelectElement?(xe=m(Ze,this||je),(this||je).elt=Ze):(Ye=document.createElement("select"),Ze&&"boolean"==typeof Ze&&Ye.setAttribute("multiple","true"),xe=m(Ye,this||je),(this||je).elt=Ye),xe.option=function(xe,we){var Se;if(void 0!==xe){for(var Te,Ee=0;Ee<(this||je).elt.length;Ee+=1)if((this||je).elt[Ee].textContent===xe){Se=Ee;break}void 0!==Se?!1===we?(this||je).elt.remove(Se):(this||je).elt[Se].value=we:((Te=document.createElement("option")).textContent=xe,Te.value=void 0===we?xe:we,(this||je).elt.appendChild(Te),(this||je)._pInst._elements.push(Te))}},xe.selected=function(xe){if(void 0!==xe){for(var we=0;we<(this||je).elt.length;we+=1)(this||je).elt[we].value.toString()===xe.toString()&&((this||je).elt.selectedIndex=we);return this||je}if((this||je).elt.getAttribute("multiple")){var Se=[],Te=!0,Ee=!1,Ye=void 0;try{for(var Ze,Qe=(this||je).elt.selectedOptions[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;Se.push(Ke.value)}}catch(xe){Ee=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Ee)throw Ye}}return Se}return(this||je).elt.value},xe.disable=function(xe){if("string"==typeof xe)for(var we=0;we<(this||je).elt.length;we++)(this||je).elt[we].value.toString()===xe&&((this||je).elt[we].disabled=!0,(this||je).elt[we].selected=!1);else(this||je).elt.disabled=!0;return this||je},xe.enable=function(xe){if("string"==typeof xe)for(var we=0;we<(this||je).elt.length;we++)(this||je).elt[we].value.toString()===xe&&((this||je).elt[we].disabled=!1,(this||je).elt[we].selected=!1);else{(this||je).elt.disabled=!1;for(var Se=0;Se<(this||je).elt.length;Se++)(this||je).elt[Se].disabled=!1,(this||je).elt[Se].selected=!1}return this||je},xe},Te.default.prototype.createRadio=function(){function t(je){return je instanceof HTMLInputElement&&"radio"===je.type}function d(je){return je instanceof HTMLLabelElement}var xe,we,Se,Ee=arguments.length<=0?void 0:arguments[0];Ee instanceof Te.default.Element&&(Ee.elt instanceof HTMLDivElement||Ee.elt instanceof HTMLSpanElement)?(xe=Ee,(this||je).elt=Ee.elt):Ee instanceof HTMLDivElement||Ee instanceof HTMLSpanElement?(xe=m(Ee,this||je),we=(this||je).elt=Ee,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(Se=arguments.length<=1?void 0:arguments[1])):("string"==typeof Ee&&(Se=Ee),we=document.createElement("div"),xe=m(we,this||je),(this||je).elt=we),xe._name=Se||"radioOption";return xe._getOptionsArray=function(){return Array.from((this||je).elt.children).filter((function(je){return t(je)||d(je)&&t(je.firstElementChild)})).map((function(je){return t(je)?je:je.firstElementChild}))},xe.option=function(we,Se){var Te,Ee,Ye,Ze=!0,Qe=!1,Ke=void 0;try{for(var Je,$e=xe._getOptionsArray()[Symbol.iterator]();!(Ze=(Je=$e.next()).done);Ze=!0){var et=Je.value;if(et.value===we){Te=et;break}}}catch(we){Qe=!0,Ke=we}finally{try{Ze||null==$e.return||$e.return()}finally{if(Qe)throw Ke}}return void 0===Te&&((Te=document.createElement("input")).setAttribute("type","radio"),Te.setAttribute("value",we)),Te.setAttribute("name",xe._name),d(Te.parentElement)?Ee=Te.parentElement:(Ee=document.createElement("label")).insertAdjacentElement("afterbegin",Te),Ee.lastElementChild instanceof HTMLSpanElement?Ye=Ee.lastElementChild:(Ye=document.createElement("span"),Te.insertAdjacentElement("afterend",Ye)),Ye.innerHTML=void 0===Se?we:Se,(this||je).elt.appendChild(Ee),Te},xe.remove=function(je){var we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=xe._getOptionsArray()[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0){var Ze=Ee.value;if(Ze.value===je)return void(d(Ze.parentElement)?Ze.parentElement:Ze).remove()}}catch(je){Se=!0,Te=je}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}},xe.value=function(){var je="",we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=xe._getOptionsArray()[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0){var Ze=Ee.value;if(Ze.checked){je=Ze.value;break}}}catch(je){Se=!0,Te=je}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return je},xe.selected=function(je){var we=null;if(void 0===je){var Se=!0,Te=!1,Ee=void 0;try{for(var Ye,Ze=xe._getOptionsArray()[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0){var Qe=Ye.value;if(Qe.checked){we=Qe;break}}}catch(je){Te=!0,Ee=je}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}}else{xe._getOptionsArray().forEach((function(je){je.checked=!1,je.removeAttribute("checked")}));var Ke=!0;Te=!1,Ee=void 0;try{for(var Je,$e=xe._getOptionsArray()[Symbol.iterator]();!(Ke=(Je=$e.next()).done);Ke=!0){var et=Je.value;et.value===je&&(et.setAttribute("checked",!0),et.checked=!0,we=et)}}catch(je){Te=!0,Ee=je}finally{try{Ke||null==$e.return||$e.return()}finally{if(Te)throw Ee}}}return we},xe.disable=function(){var je=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=xe._getOptionsArray()[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0)Ee.value.setAttribute("disabled",je)}catch(je){Se=!0,Te=je}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}},xe},Te.default.prototype.createColorPicker=function(xe){Te.default._validateParameters("createColorPicker",arguments);var we=document.createElement("input");return we.type="color",xe?xe instanceof Te.default.Color?we.value=xe.toString("#rrggbb"):(Te.default.prototype._colorMode="rgb",Te.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},we.value=Te.default.prototype.color(xe).toString("#rrggbb")):we.value="#000000",(we=m(we,this||je)).color=function(){return xe&&(xe.mode&&(Te.default.prototype._colorMode=xe.mode),xe.maxes&&(Te.default.prototype._colorMaxes=xe.maxes)),Te.default.prototype.color((this||je).elt.value)},we},Te.default.prototype.createInput=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",Se=(Te.default._validateParameters("createInput",arguments),document.createElement("input"));return Se.setAttribute("value",xe),Se.setAttribute("type",we),m(Se,this||je)},Te.default.prototype.createFileInput=function(xe){var we,Se=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Te.default._validateParameters("createFileInput",arguments);if(window.File&&window.FileReader&&window.FileList&&window.Blob)return(we=document.createElement("input")).setAttribute("type","file"),Se&&we.setAttribute("multiple",!0),we.addEventListener("change",(function(je){var we=!0,Se=!1,Ee=void 0;try{for(var Ye,Ze=je.target.files[Symbol.iterator]();!(we=(Ye=Ze.next()).done);we=!0){var Qe=Ye.value;Te.default.File._load(Qe,xe)}}catch(je){Se=!0,Ee=je}finally{try{we||null==Ze.return||Ze.return()}finally{if(Se)throw Ee}}}),!1),m(we,this||je);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},Te.default.prototype.createVideo=function(xe,we){return Te.default._validateParameters("createVideo",arguments),h(this||je,"video",xe,we)},Te.default.prototype.createAudio=function(xe,we){return Te.default._validateParameters("createAudio",arguments),h(this||je,"audio",xe,we)},Te.default.prototype.VIDEO="video",Te.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(je){var xe=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return xe?new Promise((function(we,Se){xe.call(navigator,je,we,Se)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),Te.default.prototype.createCapture=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];if(Te.default._validateParameters("createCapture",we),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var Ee,Ye=!0,Ze=!0,Qe=!1,Ke=0,Je=we;Ke<Je.length;Ke++){var $e=Je[Ke];$e===Te.default.prototype.VIDEO?Ze=!1:$e===Te.default.prototype.AUDIO?Ye=!1:"object"===p($e)?(void 0!==$e.flipped&&(Qe=$e.flipped,delete $e.flipped),et=Object.assign({},et,$e)):"function"==typeof $e&&(Ee=$e)}var et=Object.assign({},{video:Ye,audio:Ze},et),tt=document.createElement("video"),rt=(tt.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(et).then((function(je){try{"srcObject"in tt?tt.srcObject=je:tt.src=window.URL.createObjectURL(je)}catch(xe){tt.src=je}}),console.error),m(tt,this||je,!0));return rt.loadedmetadata=!1,tt.addEventListener("loadedmetadata",(function(){tt.play(),tt.width?(rt.width=tt.width,rt.height=tt.height,Qe&&(rt.elt.style.transform="scaleX(-1)")):(rt.width=rt.elt.width=tt.videoWidth,rt.height=rt.elt.height=tt.videoHeight),rt.loadedmetadata=!0,Ee&&Ee(tt.srcObject)})),rt.flipped=Qe,rt},Te.default.prototype.createElement=function(xe,we){Te.default._validateParameters("createElement",arguments);xe=document.createElement(xe);return void 0!==we&&(xe.innerHTML=we),m(xe,this||je)},Te.default.Element.prototype.addClass=function(xe){return(this||je).elt.className?this.hasClass(xe)||((this||je).elt.className=(this||je).elt.className+" "+xe):(this||je).elt.className=xe,this||je},Te.default.Element.prototype.removeClass=function(xe){return(this||je).elt.classList.remove(xe),this||je},Te.default.Element.prototype.hasClass=function(xe){return(this||je).elt.classList.contains(xe)},Te.default.Element.prototype.toggleClass=function(xe){return(this||je).elt.classList.contains(xe)?(this||je).elt.classList.remove(xe):(this||je).elt.classList.add(xe),this||je},Te.default.Element.prototype.child=function(xe){return void 0===xe?(this||je).elt.childNodes:("string"==typeof xe?("#"===xe[0]&&(xe=xe.substring(1)),xe=document.getElementById(xe)):xe instanceof Te.default.Element&&(xe=xe.elt),xe instanceof HTMLElement&&(this||je).elt.appendChild(xe),this||je)},Te.default.Element.prototype.center=function(xe){var we=(this||je).elt.style.display,Se="none"===(this||je).elt.style.display,Te="none"===this.parent().style.display,Ee={x:(this||je).elt.offsetLeft,y:(this||je).elt.offsetTop},Ye=(Se&&this.show(),Te&&this.parent().show(),(this||je).elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-(this||je).elt.offsetWidth)),Ze=Math.abs(this.parent().offsetHeight-(this||je).elt.offsetHeight);return"both"===xe||void 0===xe?this.position(Ye/2+this.parent().offsetLeft,Ze/2+this.parent().offsetTop):"horizontal"===xe?this.position(Ye/2+this.parent().offsetLeft,Ee.y):"vertical"===xe&&this.position(Ee.x,Ze/2+this.parent().offsetTop),this.style("display",we),Se&&this.hide(),Te&&this.parent().hide(),this||je},Te.default.Element.prototype.html=function(){return 0===arguments.length?(this||je).elt.innerHTML:(arguments.length<=1||!arguments[1]?(this||je).elt.innerHTML=arguments.length<=0?void 0:arguments[0]:(this||je).elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this||je)},Te.default.Element.prototype.position=function(){return 0===arguments.length?{x:(this||je).elt.offsetLeft,y:(this||je).elt.offsetTop}:((this||je).elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],(this||je).elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",(this||je).elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",(this||je).x=arguments.length<=0?void 0:arguments[0],(this||je).y=arguments.length<=1?void 0:arguments[1],this||je)},Te.default.Element.prototype._translate=function(){(this||je).elt.style.position="absolute";var xe="";return(this||je).elt.style.transform&&(xe=(xe=(this||je).elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?(this||je).elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&((this||je).elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",(this||je).elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),(this||je).elt.style.transform+=xe,this||je},Te.default.Element.prototype._rotate=function(){var xe="";return(this||je).elt.style.transform&&(xe=(xe=(this||je).elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?(this||je).elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?(this||je).elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&((this||je).elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",(this||je).elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",(this||je).elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),(this||je).elt.style.transform+=xe,this||je},Te.default.Element.prototype.style=function(xe,we){if(void 0===(we=we instanceof Te.default.Color?"rgba("+we.levels[0]+","+we.levels[1]+","+we.levels[2]+","+we.levels[3]/255+")":we)){if(-1===xe.indexOf(":"))return window.getComputedStyle((this||je).elt).getPropertyValue(xe);for(var Se=xe.split(";"),Ee=0;Ee<Se.length;Ee++){var Ye=Se[Ee].split(":");Ye[0]&&Ye[1]&&((this||je).elt.style[Ye[0].trim()]=Ye[1].trim())}}else(this||je).elt.style[xe]=we,"width"!==xe&&"height"!==xe&&"left"!==xe&&"top"!==xe||(we=window.getComputedStyle((this||je).elt).getPropertyValue(xe).replace(/[^\d.]/g,""),(this||je)[xe]=Math.round(parseFloat(we,10)));return this||je},Te.default.Element.prototype.attribute=function(xe,we){if(null==(this||je).elt.firstChild||"checkbox"!==(this||je).elt.firstChild.type&&"radio"!==(this||je).elt.firstChild.type)return void 0===we?(this||je).elt.getAttribute(xe):((this||je).elt.setAttribute(xe,we),this||je);if(void 0===we)return(this||je).elt.firstChild.getAttribute(xe);for(var Se=0;Se<(this||je).elt.childNodes.length;Se++)(this||je).elt.childNodes[Se].setAttribute(xe,we)},Te.default.Element.prototype.removeAttribute=function(xe){if(null!=(this||je).elt.firstChild&&("checkbox"===(this||je).elt.firstChild.type||"radio"===(this||je).elt.firstChild.type))for(var we=0;we<(this||je).elt.childNodes.length;we++)(this||je).elt.childNodes[we].removeAttribute(xe);return(this||je).elt.removeAttribute(xe),this||je},Te.default.Element.prototype.value=function(){return 0<arguments.length?((this||je).elt.value=arguments.length<=0?void 0:arguments[0],this||je):"range"===(this||je).elt.type?parseFloat((this||je).elt.value):(this||je).elt.value},Te.default.Element.prototype.show=function(){return(this||je).elt.style.display="block",this||je},Te.default.Element.prototype.hide=function(){return(this||je).elt.style.display="none",this||je},Te.default.Element.prototype.size=function(xe,we){if(0===arguments.length)return{width:(this||je).elt.offsetWidth,height:(this||je).elt.offsetHeight};var Se=xe,Ee=we,Ye=Te.default.prototype.AUTO;if(Se!==Ye||Ee!==Ye){if(Se===Ye?Se=we*(this||je).width/(this||je).height:Ee===Ye&&(Ee=xe*(this||je).height/(this||je).width),(this||je).elt instanceof HTMLCanvasElement){var Ze,Qe={},Ke=(this||je).elt.getContext("2d");for(Ze in Ke)Qe[Ze]=Ke[Ze];for(Ze in(this||je).elt.setAttribute("width",Se*(this||je)._pInst._pixelDensity),(this||je).elt.setAttribute("height",Ee*(this||je)._pInst._pixelDensity),(this||je).elt.style.width=Se+"px",(this||je).elt.style.height=Ee+"px",(this||je)._pInst.scale((this||je)._pInst._pixelDensity,(this||je)._pInst._pixelDensity),Qe)(this||je).elt.getContext("2d")[Ze]=Qe[Ze]}else(this||je).elt.style.width=Se+"px",(this||je).elt.style.height=Ee+"px",(this||je).elt.width=Se,(this||je).elt.height=Ee;(this||je).width=Se,(this||je).height=Ee,(this||je)._pInst&&(this||je)._pInst._curElement&&(this||je)._pInst._curElement.elt===(this||je).elt&&((this||je)._pInst._setProperty("width",Se),(this||je)._pInst._setProperty("height",Ee))}return this||je},Te.default.Element.prototype.remove=function(){(this||je)instanceof Te.default.MediaElement&&(this.stop(),null!==(we=(this||je).elt.srcObject)&&we.getTracks().forEach((function(je){je.stop()})));var xe,we=(this||je)._pInst._elements.indexOf(this||je);for(xe in-1!==we&&(this||je)._pInst._elements.splice(we,1),(this||je)._events)(this||je).elt.removeEventListener(xe,(this||je)._events[xe]);(this||je).elt&&(this||je).elt.parentNode&&(this||je).elt.parentNode.removeChild((this||je).elt)},Te.default.Element.prototype.drop=function(xe,we){var Se;return window.File&&window.FileReader&&window.FileList&&window.Blob?((this||je)._dragDisabled||((this||je)._dragDisabled=!0,(this||je).elt.addEventListener("dragover",Se=function(je){je.preventDefault()}),(this||je).elt.addEventListener("dragleave",Se)),Te.default.Element._attachListener("drop",(function(Se){Se.preventDefault(),"function"==typeof we&&we.call(this||je,Se);Se=Se.dataTransfer.files;var Ee=!0,Ye=!1,Ze=void 0;try{for(var Qe,Ke=Se[Symbol.iterator]();!(Ee=(Qe=Ke.next()).done);Ee=!0){var Je=Qe.value;Te.default.File._load(Je,xe)}}catch(Se){Ye=!0,Ze=Se}finally{try{Ee||null==Ke.return||Ke.return()}finally{if(Ye)throw Ze}}}),this||je)):console.log("The File APIs are not fully supported in this browser."),this||je},Te.default.Element.prototype.draggable=function(xe){var we,Se="ontouchstart"in window,Te=0,Ee=0,Ye=0,Ze=0,Qe=Se?"touchend":"mouseup",Ke=Se?"touchmove":"mousemove";function c(je){var we;je=je||window.event,Ze=Se?(we=je.changedTouches,Te=Ye-parseInt(we[0].clientX),Ee=Ze-parseInt(we[0].clientY),Ye=parseInt(we[0].clientX),parseInt(we[0].clientY)):(Te=Ye-parseInt(je.clientX),Ee=Ze-parseInt(je.clientY),Ye=parseInt(je.clientX),parseInt(je.clientY)),xe.style.left=xe.offsetLeft-Te+"px",xe.style.top=xe.offsetTop-Ee+"px"}function d(){document.removeEventListener(Qe,d,!1),document.removeEventListener(Ke,c,!1)}return void 0===xe?we=xe=(this||je).elt:xe!==(this||je).elt&&xe.elt!==(this||je).elt&&(xe=xe.elt,we=(this||je).elt),we.addEventListener(Se?"touchstart":"mousedown",(function(je){var xe;je=je||window.event,Ze=Se?(xe=je.changedTouches,Ye=parseInt(xe[0].clientX),parseInt(xe[0].clientY)):(Ye=parseInt(je.clientX),parseInt(je.clientY));return document.addEventListener(Qe,d,!1),document.addEventListener(Ke,c,!1),!1}),!1),we.style.cursor="move",this||je};function y(xe,we,Se,Te){d(this||je,y),(this||je).callback=xe,(this||je).time=we,(this||je).id=Se,(this||je).val=Te}xe=function(xe){var we=i;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&l(we,xe);var Se=u(i);function i(xe,we){d(this||je,i);var Te=c(we=Se.call(this||je,xe,we));return we.elt.crossOrigin="anonymous",we._prevTime=0,we._cueIDCounter=0,we._cues=[],we.pixels=[],we._pixelsState=c(we),we._pixelDensity=1,we._modified=!1,we._frameOnCanvas=-1,Object.defineProperty(Te,"src",{get:function(){var je=Te.elt.children[0].src,xe=Te.elt.src===window.location.href?"":Te.elt.src;return je===window.location.href?xe:je},set:function(je){for(var we=0;we<Te.elt.children.length;we++)Te.elt.removeChild(Te.elt.children[we]);var Se=document.createElement("source");Se.src=je,xe.appendChild(Se),Te.elt.src=je,Te.modified=!0}}),Te._onended=function(){},Te.elt.onended=function(){Te._onended(Te)},we}return a(i,[{key:"play",value:function(){var xe;return(this||je).elt.currentTime===(this||je).elt.duration&&((this||je).elt.currentTime=0),1<(this||je).elt.readyState||(this||je).elt.load(),(xe=(this||je).elt.play())&&xe.catch&&xe.catch((function(je){"NotAllowedError"===je.name?console.error(je):console.error("Media play method encountered an unexpected error",je)})),this||je}},{key:"stop",value:function(){return(this||je).elt.pause(),(this||je).elt.currentTime=0,this||je}},{key:"pause",value:function(){return(this||je).elt.pause(),this||je}},{key:"loop",value:function(){return(this||je).elt.setAttribute("loop",!0),this.play(),this||je}},{key:"noLoop",value:function(){return(this||je).elt.removeAttribute("loop"),this||je}},{key:"_setupAutoplayFailDetection",value:function(){var xe=setTimeout((function(){console.error(e)}),500);(this||je).elt.addEventListener("play",(function(){return clearTimeout(xe)}),{passive:!0,once:!0})}},{key:"autoplay",value:function(xe){var we=this||je,Se=(this||je).elt.getAttribute("autoplay");return(this||je).elt.setAttribute("autoplay",xe),xe&&!Se&&(xe=function(){return we._setupAutoplayFailDetection()},4===(this||je).elt.readyState?xe():(this||je).elt.addEventListener("canplay",xe,{passive:!0,once:!0})),this||je}},{key:"volume",value:function(xe){if(void 0===xe)return(this||je).elt.volume;(this||je).elt.volume=xe}},{key:"speed",value:function(xe){if(void 0===xe)return(this||je).presetPlaybackRate||(this||je).elt.playbackRate;(this||je).loadedmetadata?(this||je).elt.playbackRate=xe:(this||je).presetPlaybackRate=xe}},{key:"time",value:function(xe){return void 0===xe?(this||je).elt.currentTime:((this||je).elt.currentTime=xe,this||je)}},{key:"duration",value:function(){return(this||je).elt.duration}},{key:"_ensureCanvas",value:function(){(this||je).canvas||((this||je).canvas=document.createElement("canvas"),(this||je).drawingContext=(this||je).canvas.getContext("2d"),this.setModified(!0));var xe=(this||je)._frameOnCanvas!==(this||je)._pInst.frameCount;(this||je).loadedmetadata&&xe&&((this||je).canvas.width!==(this||je).elt.width&&((this||je).canvas.width=(this||je).elt.width,(this||je).canvas.height=(this||je).elt.height,(this||je).width=(this||je).canvas.width,(this||je).height=(this||je).canvas.height),(this||je).drawingContext.clearRect(0,0,(this||je).canvas.width,(this||je).canvas.height),!0===(this||je).flipped&&((this||je).drawingContext.save(),(this||je).drawingContext.scale(-1,1),(this||je).drawingContext.translate(-(this||je).canvas.width,0)),(this||je).drawingContext.drawImage((this||je).elt,0,0,(this||je).canvas.width,(this||je).canvas.height),!0===(this||je).flipped&&(this||je).drawingContext.restore(),this.setModified(!0),(this||je)._frameOnCanvas=(this||je)._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype.loadPixels.apply(this||je,we)}},{key:"updatePixels",value:function(xe,we,Se,Ee){return(this||je).loadedmetadata&&(this._ensureCanvas(),Te.default.Renderer2D.prototype.updatePixels.call(this||je,xe,we,Se,Ee)),this.setModified(!0),this||je}},{key:"get",value:function(){this._ensureCanvas();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype.get.apply(this||je,we)}},{key:"_getPixel",value:function(){this.loadPixels();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype._getPixel.apply(this||je,we)}},{key:"set",value:function(xe,we,Se){(this||je).loadedmetadata&&(this._ensureCanvas(),Te.default.Renderer2D.prototype.set.call(this||je,xe,we,Se),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default.prototype.copy.apply(this||je,we)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default.Image.prototype.mask.apply(this||je,we)}},{key:"isModified",value:function(){return(this||je)._modified}},{key:"setModified",value:function(xe){(this||je)._modified=xe}},{key:"onended",value:function(xe){return(this||je)._onended=xe,this||je}},{key:"connect",value:function(xe){var we,Se;if("function"==typeof Te.default.prototype.getAudioContext)we=Te.default.prototype.getAudioContext(),Se=Te.default.soundOut.input;else try{Se=(we=xe.context).destination}catch(xe){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}(this||je).audioSourceNode||((this||je).audioSourceNode=we.createMediaElementSource((this||je).elt),(this||je).audioSourceNode.connect(Se)),xe?xe.input?(this||je).audioSourceNode.connect(xe.input):(this||je).audioSourceNode.connect(xe):(this||je).audioSourceNode.connect(Se)}},{key:"disconnect",value:function(){if(!(this||je).audioSourceNode)throw"nothing to disconnect";(this||je).audioSourceNode.disconnect()}},{key:"showControls",value:function(){(this||je).elt.style["text-align"]="inherit",(this||je).elt.controls=!0}},{key:"hideControls",value:function(){(this||je).elt.controls=!1}},{key:"addCue",value:function(xe,we,Se){var Te=(this||je)._cueIDCounter++;we=new y(we,xe,Te,Se);return(this||je)._cues.push(we),(this||je).elt.ontimeupdate||((this||je).elt.ontimeupdate=(this||je)._onTimeUpdate.bind(this||je)),Te}},{key:"removeCue",value:function(xe){for(var we=0;we<(this||je)._cues.length;we++)(this||je)._cues[we].id===xe&&(console.log(xe),(this||je)._cues.splice(we,1));0===(this||je)._cues.length&&((this||je).elt.ontimeupdate=null)}},{key:"clearCues",value:function(){(this||je)._cues=[],(this||je).elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var xe=this.time(),we=0;we<(this||je)._cues.length;we++){var Se=(this||je)._cues[we].time,Te=(this||je)._cues[we].val;(this||je)._prevTime<Se&&Se<=xe&&(this||je)._cues[we].callback(Te)}(this||je)._prevTime=xe}}]),i}(Te.default.Element),Te.default.MediaElement=xe,xe=function(){function r(xe,we){d(this||je,r),(this||je).file=xe,(this||je)._pInst=we;we=xe.type.split("/");(this||je).type=we[0],(this||je).subtype=we[1],(this||je).name=xe.name,(this||je).size=xe.size,(this||je).data=void 0}return a(r,null,[{key:"_createLoader",value:function(je,xe){var we=new FileReader;return we.onload=function(we){var Se,Ee=new Te.default.File(je);"application/json"===Ee.file.type?Ee.data=JSON.parse(we.target.result):"text/xml"===Ee.file.type?(Se=(new DOMParser).parseFromString(we.target.result,"text/xml"),Ee.data=new Te.default.XML(Se.documentElement)):Ee.data=we.target.result,xe(Ee)},we}},{key:"_load",value:function(je,xe){var we;/^text\//.test(je.type)||"application/json"===je.type?Te.default.File._createLoader(je,xe).readAsText(je):/^(video|audio)\//.test(je.type)?((we=new Te.default.File(je)).data=URL.createObjectURL(je),xe(we)):Te.default.File._createLoader(je,xe).readAsDataURL(je)}}]),r}(),Te.default.File=xe,xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",Te.default.prototype.accelerationX=0,Te.default.prototype.accelerationY=0,Te.default.prototype.accelerationZ=0,Te.default.prototype.pAccelerationX=0,Te.default.prototype.pAccelerationY=0,Te.default.prototype.pAccelerationZ=0,Te.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",(this||je).accelerationX),this._setProperty("pAccelerationY",(this||je).accelerationY),this._setProperty("pAccelerationZ",(this||je).accelerationZ)},Te.default.prototype.rotationX=0,Te.default.prototype.rotationY=0,Te.default.prototype.rotationZ=0,Te.default.prototype.pRotationX=0,Te.default.prototype.pRotationY=0;var Ee=Te.default.prototype.pRotationZ=0,Ye=0,Ze=0,Qe="clockwise",Ke="clockwise",Je="clockwise",$e=(Te.default.prototype.pRotateDirectionX=void 0,Te.default.prototype.pRotateDirectionY=void 0,Te.default.prototype.pRotateDirectionZ=void 0,Te.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",(this||je).rotationX),this._setProperty("pRotationY",(this||je).rotationY),this._setProperty("pRotationZ",(this||je).rotationZ)},Te.default.prototype.turnAxis=void 0,.5),et=30;xe=(Te.default.prototype.setMoveThreshold=function(je){Te.default._validateParameters("setMoveThreshold",arguments),$e=je},Te.default.prototype.setShakeThreshold=function(je){Te.default._validateParameters("setShakeThreshold",arguments),et=je},Te.default.prototype._ondeviceorientation=function(je){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(je.beta)),this._setProperty("rotationY",this._fromDegrees(je.gamma)),this._setProperty("rotationZ",this._fromDegrees(je.alpha)),this._handleMotion()},Te.default.prototype._ondevicemotion=function(je){this._updatePAccelerations(),this._setProperty("accelerationX",2*je.acceleration.x),this._setProperty("accelerationY",2*je.acceleration.y),this._setProperty("accelerationZ",2*je.acceleration.z),this._handleMotion()},Te.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var xe,we,Se,Te,tt,rt=(this||je)._isGlobal?window:this||je;"function"==typeof rt.deviceMoved&&(Math.abs((this||je).accelerationX-(this||je).pAccelerationX)>$e||Math.abs((this||je).accelerationY-(this||je).pAccelerationY)>$e||Math.abs((this||je).accelerationZ-(this||je).pAccelerationZ)>$e)&&rt.deviceMoved(),"function"==typeof rt.deviceTurned&&(we=this._toDegrees((this||je).rotationX)+180,Se=this._toDegrees((this||je).pRotationX)+180,xe=Ee+180,0<we-Se&&we-Se<270||we-Se<-270?Qe="clockwise":(we-Se<0||270<we-Se)&&(Qe="counter-clockwise"),Qe!==(this||je).pRotateDirectionX&&(xe=we),90<Math.abs(we-xe)&&Math.abs(we-xe)<270&&(xe=we,this._setProperty("turnAxis","X"),rt.deviceTurned()),(this||je).pRotateDirectionX=Qe,Ee=xe-180,Se=this._toDegrees((this||je).rotationY)+180,we=this._toDegrees((this||je).pRotationY)+180,xe=Ye+180,0<Se-we&&Se-we<270||Se-we<-270?Ke="clockwise":(Se-we<0||270<Se-(this||je).pRotationY)&&(Ke="counter-clockwise"),Ke!==(this||je).pRotateDirectionY&&(xe=Se),90<Math.abs(Se-xe)&&Math.abs(Se-xe)<270&&(xe=Se,this._setProperty("turnAxis","Y"),rt.deviceTurned()),(this||je).pRotateDirectionY=Ke,Ye=xe-180,0<(we=this._toDegrees((this||je).rotationZ))-(Se=this._toDegrees((this||je).pRotationZ))&&we-Se<270||we-Se<-270?Je="clockwise":(we-Se<0||270<we-Se)&&(Je="counter-clockwise"),Je!==(this||je).pRotateDirectionZ&&(Ze=we),90<Math.abs(we-Ze)&&Math.abs(we-Ze)<270&&(Ze=we,this._setProperty("turnAxis","Z"),rt.deviceTurned()),(this||je).pRotateDirectionZ=Je,this._setProperty("turnAxis",void 0)),"function"==typeof rt.deviceShaken&&(null!==(this||je).pAccelerationX&&(Te=Math.abs((this||je).accelerationX-(this||je).pAccelerationX),tt=Math.abs((this||je).accelerationY-(this||je).pAccelerationY)),et<Te+tt&&rt.deviceShaken())},Te.default);Se.default=xe},{"../core/main":280}],298:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.isKeyPressed=!1,Te.default.prototype.keyIsPressed=!1,Te.default.prototype.key="",Te.default.prototype.keyCode=0,Te.default.prototype._onkeydown=function(xe){var we;(this||je)._downKeys[xe.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",xe.which),(this||je)._downKeys[xe.which]=!0,this._setProperty("key",xe.key||String.fromCharCode(xe.which)||xe.which),"function"!=typeof(we=(this||je)._isGlobal?window:this||je).keyPressed||xe.charCode||!1===we.keyPressed(xe)&&xe.preventDefault())},Te.default.prototype._onkeyup=function(xe){(this||je)._downKeys[xe.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",xe.key||String.fromCharCode(xe.which)||xe.which),this._setProperty("keyCode",xe.which);var we=(this||je)._isGlobal?window:this||je;"function"==typeof we.keyReleased&&!1===we.keyReleased(xe)&&xe.preventDefault()},Te.default.prototype._onkeypress=function(xe){var we;xe.which!==(this||je)._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",xe.which),this._setProperty("key",xe.key||String.fromCharCode(xe.which)||xe.which),"function"==typeof(we=(this||je)._isGlobal?window:this||je).keyTyped&&!1===we.keyTyped(xe)&&xe.preventDefault())},Te.default.prototype._onblur=function(xe){(this||je)._downKeys={}},Te.default.prototype.keyIsDown=function(xe){return Te.default._validateParameters("keyIsDown",arguments),(this||je)._downKeys[xe]||!1},Te.default.prototype._areDownKeys=function(){for(var xe in(this||je)._downKeys)if((this||je)._downKeys.hasOwnProperty(xe)&&!0===(this||je)._downKeys[xe])return!0;return!1};xe=Te.default;Se.default=xe},{"../core/main":280}],299:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Te=xe("../core/main"))&&Te.__esModule?Te:{default:Te},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}Te.default.prototype.movedX=0,Te.default.prototype.movedY=0,Te.default.prototype._hasMouseInteracted=!1,Te.default.prototype.mouseX=0,Te.default.prototype.mouseY=0,Te.default.prototype.pmouseX=0,Te.default.prototype.pmouseY=0,Te.default.prototype.winMouseX=0,Te.default.prototype.winMouseY=0,Te.default.prototype.pwinMouseX=0,Te.default.prototype.pwinMouseY=0,Te.default.prototype.mouseButton=0,Te.default.prototype.mouseIsPressed=!1,Te.default.prototype._updateNextMouseCoords=function(xe){var we,Se,Te,Ee,Ye;null!==(this||je)._curElement&&(!xe.touches||0<xe.touches.length)&&(we=(this||je)._curElement.elt,Se=(this||je).width,Te=(this||je).height,(Ee=xe)&&!Ee.clientX&&(Ee.touches?Ee=Ee.touches[0]:Ee.changedTouches&&(Ee=Ee.changedTouches[0])),Ye=we.getBoundingClientRect(),Se=we.scrollWidth/Se||1,we=we.scrollHeight/Te||1,Te={x:(Ee.clientX-Ye.left)/Se,y:(Ee.clientY-Ye.top)/we,winX:Ee.clientX,winY:Ee.clientY,id:Ee.identifier},this._setProperty("movedX",xe.movementX),this._setProperty("movedY",xe.movementY),this._setProperty("mouseX",Te.x),this._setProperty("mouseY",Te.y),this._setProperty("winMouseX",Te.winX),this._setProperty("winMouseY",Te.winY)),(this||je)._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},Te.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",(this||je).mouseX),this._setProperty("pmouseY",(this||je).mouseY),this._setProperty("pwinMouseX",(this||je).winMouseX),this._setProperty("pwinMouseY",(this||je).winMouseY),this._setProperty("_pmouseWheelDeltaY",(this||je)._mouseWheelDeltaY)},Te.default.prototype._setMouseButton=function(je){1===je.button?this._setProperty("mouseButton",Ee.CENTER):2===je.button?this._setProperty("mouseButton",Ee.RIGHT):this._setProperty("mouseButton",Ee.LEFT)},Te.default.prototype._onmousemove=function(xe){var we=(this||je)._isGlobal?window:this||je;this._updateNextMouseCoords(xe),(this||je).mouseIsPressed?"function"==typeof we.mouseDragged?!1===we.mouseDragged(xe)&&xe.preventDefault():"function"==typeof we.touchMoved&&!1===we.touchMoved(xe)&&xe.preventDefault():"function"==typeof we.mouseMoved&&!1===we.mouseMoved(xe)&&xe.preventDefault()},Te.default.prototype._onmousedown=function(xe){var we=(this||je)._isGlobal?window:this||je;this._setProperty("mouseIsPressed",!0),this._setMouseButton(xe),this._updateNextMouseCoords(xe),(this||je).touchstart||("function"==typeof we.mousePressed?!1===we.mousePressed(xe)&&xe.preventDefault():"function"==typeof we.touchStarted&&!1===we.touchStarted(xe)&&xe.preventDefault(),(this||je).touchstart=!1)},Te.default.prototype._onmouseup=function(xe){var we=(this||je)._isGlobal?window:this||je;this._setProperty("mouseIsPressed",!1),(this||je).touchend||("function"==typeof we.mouseReleased?!1===we.mouseReleased(xe)&&xe.preventDefault():"function"==typeof we.touchEnded&&!1===we.touchEnded(xe)&&xe.preventDefault(),(this||je).touchend=!1)},Te.default.prototype._ondragend=Te.default.prototype._onmouseup,Te.default.prototype._ondragover=Te.default.prototype._onmousemove,Te.default.prototype._onclick=function(xe){var we=(this||je)._isGlobal?window:this||je;"function"==typeof we.mouseClicked&&!1===we.mouseClicked(xe)&&xe.preventDefault()},Te.default.prototype._ondblclick=function(xe){var we=(this||je)._isGlobal?window:this||je;"function"==typeof we.doubleClicked&&!1===we.doubleClicked(xe)&&xe.preventDefault()},Te.default.prototype._mouseWheelDeltaY=0,Te.default.prototype._pmouseWheelDeltaY=0,Te.default.prototype._onwheel=function(xe){var we=(this||je)._isGlobal?window:this||je;this._setProperty("_mouseWheelDeltaY",xe.deltaY),"function"==typeof we.mouseWheel&&(xe.delta=xe.deltaY,!1===we.mouseWheel(xe)&&xe.preventDefault())},Te.default.prototype.requestPointerLock=function(){var xe=(this||je)._curElement.elt;return xe.requestPointerLock=xe.requestPointerLock||xe.mozRequestPointerLock,xe.requestPointerLock?(xe.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},Te.default.prototype.exitPointerLock=function(){document.exitPointerLock()};xe=Te.default;Se.default=xe},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype.touches=[],xe.default.prototype._updateTouchCoords=function(xe){if(null!==(this||je)._curElement){for(var we=[],Se=0;Se<xe.touches.length;Se++)we[Se]=function(je,xe,we,Se){var Te=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Ee=je.getBoundingClientRect();xe=je.scrollWidth/xe||1,je=je.scrollHeight/we||1,we=Se.touches[Te]||Se.changedTouches[Te];return{x:(we.clientX-Ee.left)/xe,y:(we.clientY-Ee.top)/je,winX:we.clientX,winY:we.clientY,id:we.identifier}}((this||je)._curElement.elt,(this||je).width,(this||je).height,xe,Se);this._setProperty("touches",we)}},xe.default.prototype._ontouchstart=function(xe){var we=(this||je)._isGlobal?window:this||je;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(xe),this._updateNextMouseCoords(xe),this._updateMouseCoords(),"function"==typeof we.touchStarted&&(!1===we.touchStarted(xe)&&xe.preventDefault(),(this||je).touchstart=!0)},xe.default.prototype._ontouchmove=function(xe){var we=(this||je)._isGlobal?window:this||je;this._updateTouchCoords(xe),this._updateNextMouseCoords(xe),"function"==typeof we.touchMoved?!1===we.touchMoved(xe)&&xe.preventDefault():"function"==typeof we.mouseDragged&&!1===we.mouseDragged(xe)&&xe.preventDefault()},xe.default.prototype._ontouchend=function(xe){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(xe),this._updateNextMouseCoords(xe);var we=(this||je)._isGlobal?window:this||je;"function"==typeof we.touchEnded&&(!1===we.touchEnded(xe)&&xe.preventDefault(),(this||je).touchend=!0)};xe=xe.default;Se.default=xe},{"../core/main":280}],301:[function(xe,we,Se){xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.int32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.int32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te,Ee,Ye,Ze,Qe={_toPixels:function(je){var xe,we;return je instanceof ImageData?je.data:je.getContext("2d")?je.getContext("2d").getImageData(0,0,je.width,je.height).data:je.getContext("webgl")?(we=(xe=je.getContext("webgl")).drawingBufferWidth*xe.drawingBufferHeight*4,we=new Uint8Array(we),xe.readPixels(0,0,je.width,je.height,xe.RGBA,xe.UNSIGNED_BYTE,we),we):void 0},_getARGB:function(je,xe){xe*=4;return je[3+xe]<<24&4278190080|je[xe]<<16&16711680|je[1+xe]<<8&65280|255&je[2+xe]},_setPixels:function(je,xe){for(var we,Se=0,Te=je.length;Se<Te;Se++)je[0+(we=4*Se)]=(16711680&xe[Se])>>>16,je[1+we]=(65280&xe[Se])>>>8,je[2+we]=255&xe[Se],je[3+we]=(4278190080&xe[Se])>>>24},_toImageData:function(je){return je instanceof ImageData?je:je.getContext("2d").getImageData(0,0,je.width,je.height)},_createImageData:function(xe,we){return Qe._tmpCanvas=document.createElement("canvas"),Qe._tmpCtx=Qe._tmpCanvas.getContext("2d"),(this||je)._tmpCtx.createImageData(xe,we)},apply:function(je,xe,we){var Se=je.getContext("2d"),Te=Se.getImageData(0,0,je.width,je.height);xe=xe(Te,we);xe instanceof ImageData?Se.putImageData(xe,0,0,0,0,je.width,je.height):Se.putImageData(Te,0,0,0,0,je.width,je.height)},threshold:function(je){for(var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.5,we=Qe._toPixels(je),Se=Math.floor(255*xe),Te=0;Te<we.length;Te+=4){var Ee=void 0;Ee=Se<=.2126*we[Te]+.7152*we[Te+1]+.0722*we[Te+2]?255:0;we[Te]=we[Te+1]=we[Te+2]=Ee}},gray:function(je){for(var xe=Qe._toPixels(je),we=0;we<xe.length;we+=4){var Se=xe[we],Te=xe[we+1],Ee=xe[we+2];xe[we]=xe[we+1]=xe[we+2]=.2126*Se+.7152*Te+.0722*Ee}},opaque:function(je){for(var xe=Qe._toPixels(je),we=0;we<xe.length;we+=4)xe[we+3]=255;return xe},invert:function(je){for(var xe=Qe._toPixels(je),we=0;we<xe.length;we+=4)xe[we]=255-xe[we],xe[we+1]=255-xe[we+1],xe[we+2]=255-xe[we+2]},posterize:function(je){var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,we=Qe._toPixels(je);if(xe<2||255<xe)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var Se=xe-1,Te=0;Te<we.length;Te+=4){var Ee=we[Te],Ye=we[Te+1],Ze=we[Te+2];we[Te]=255*(Ee*xe>>8)/Se,we[Te+1]=255*(Ye*xe>>8)/Se,we[Te+2]=255*(Ze*xe>>8)/Se}},dilate:function(je){for(var xe,we,Se,Te,Ee,Ye,Ze,Ke,Je,$e=Qe._toPixels(je),et=0,tt=$e.length?$e.length/4:0,rt=new Int32Array(tt);et<tt;)for(we=(xe=et)+je.width;et<we;)Te=Se=Qe._getARGB($e,et),(Je=et-1)<xe&&(Je=et),we<=(Ke=et+1)&&(Ke=et),(Ee=et-je.width)<0&&(Ee=0),tt<=(Ye=et+je.width)&&(Ye=et),Ee=Qe._getARGB($e,Ee),Je=Qe._getARGB($e,Je),Ye=Qe._getARGB($e,Ye),(Te=77*(Te>>16&255)+151*(Te>>8&255)+28*(255&Te))<(Ze=77*(Je>>16&255)+151*(Je>>8&255)+28*(255&Je))&&(Se=Je,Te=Ze),Te<(Ze=77*((Je=Qe._getARGB($e,Ke))>>16&255)+151*(Je>>8&255)+28*(255&Je))&&(Se=Je,Te=Ze),Te<(Ke=77*(Ee>>16&255)+151*(Ee>>8&255)+28*(255&Ee))&&(Se=Ee,Te=Ke),Te<(Je=77*(Ye>>16&255)+151*(Ye>>8&255)+28*(255&Ye))&&(Se=Ye,Te=Je),rt[et++]=Se;Qe._setPixels($e,rt)},erode:function(je){for(var xe,we,Se,Te,Ee,Ye,Ze,Ke,Je,$e=Qe._toPixels(je),et=0,tt=$e.length?$e.length/4:0,rt=new Int32Array(tt);et<tt;)for(we=(xe=et)+je.width;et<we;)Te=Se=Qe._getARGB($e,et),(Je=et-1)<xe&&(Je=et),we<=(Ke=et+1)&&(Ke=et),(Ee=et-je.width)<0&&(Ee=0),tt<=(Ye=et+je.width)&&(Ye=et),Ee=Qe._getARGB($e,Ee),Je=Qe._getARGB($e,Je),Ye=Qe._getARGB($e,Ye),(Ze=77*(Je>>16&255)+151*(Je>>8&255)+28*(255&Je))<(Te=77*(Te>>16&255)+151*(Te>>8&255)+28*(255&Te))&&(Se=Je,Te=Ze),(Ze=77*((Je=Qe._getARGB($e,Ke))>>16&255)+151*(Je>>8&255)+28*(255&Je))<Te&&(Se=Je,Te=Ze),(Ke=77*(Ee>>16&255)+151*(Ee>>8&255)+28*(255&Ee))<Te&&(Se=Ee,Te=Ke),(Je=77*(Ye>>16&255)+151*(Ye>>8&255)+28*(255&Ye))<Te&&(Se=Ye,Te=Je),rt[et++]=Se;Qe._setPixels($e,rt)},blur:function(je,xe){for(var we,Se,Ke,Je,$e,et,tt,rt,ot,nt,st=Qe._toPixels(je),it=je.width,dt=je.height,ht=it*dt,ft=new Int32Array(ht),pt=0;pt<ht;pt++)ft[pt]=Qe._getARGB(st,pt);var mt,yt,gt,wt,Dt,Xt,Yt,br,_r=new Int32Array(ht),xr=new Int32Array(ht),wr=new Int32Array(ht),Sr=new Int32Array(ht),Tr=0,Er=3.5*xe|0;if(Te!==(Er=Er<1?1:Er<248?Er:248)){Ee=1+(Te=Er)<<1,Ye=new Int32Array(Ee),Ze=new Array(Ee);for(var Ar=0;Ar<Ee;Ar++)Ze[Ar]=new Int32Array(256);for(var Lr=1,Pr=Er-1;Lr<Er;Lr++){Ye[Er+Lr]=Ye[Pr]=Xt=Pr*Pr,Yt=Ze[Er+Lr],br=Ze[Pr--];for(var Rr=0;Rr<256;Rr++)Yt[Rr]=br[Rr]=Xt*Rr}Dt=Ye[Er]=Er*Er,Yt=Ze[Er];for(var Ir=0;Ir<256;Ir++)Yt[Ir]=Dt*Ir}for(yt=0;yt<dt;yt++){for(mt=0;mt<it;mt++){if(Je=Ke=Se=$e=we=0,(et=mt-Te)<0)nt=-et,et=0;else{if(it<=et)break;nt=0}for(gt=nt;gt<Ee&&!(it<=et);gt++){var Dr=ft[et+Tr];wt=Ze[gt],$e+=wt[(-16777216&Dr)>>>24],Se+=wt[(16711680&Dr)>>16],Ke+=wt[(65280&Dr)>>8],Je+=wt[255&Dr],we+=Ye[gt],et++}_r[tt=Tr+mt]=$e/we,xr[tt]=Se/we,wr[tt]=Ke/we,Sr[tt]=Je/we}Tr+=it}for(ot=(rt=-Te)*it,yt=Tr=0;yt<dt;yt++){for(mt=0;mt<it;mt++){if(Je=Ke=Se=$e=we=0,rt<0)nt=tt=-rt,et=mt;else{if(dt<=rt)break;nt=0,tt=rt,et=mt+ot}for(gt=nt;gt<Ee&&!(dt<=tt);gt++)wt=Ze[gt],$e+=wt[_r[et]],Se+=wt[xr[et]],Ke+=wt[wr[et]],Je+=wt[Sr[et]],we+=Ye[gt],tt++,et+=it;ft[mt+Tr]=$e/we<<24|Se/we<<16|Ke/we<<8|Je/we}Tr+=it,ot+=it,rt++}Qe._setPixels(st,ft)}};Se.default=Qe},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=o(xe("../core/main")),Ee=o(xe("omggif"));function o(je){return je&&je.__esModule?je:{default:je}}function A(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Te.default.prototype.createImage=function(je,xe){return Te.default._validateParameters("createImage",arguments),new Te.default.Image(je,xe)},Te.default.prototype.saveCanvas=function(){for(var xe,we,Se,Ee,Ye,Ze,Qe=arguments.length,Ke=new Array(Qe),Je=0;Je<Qe;Je++)Ke[Je]=arguments[Je];switch(Te.default._validateParameters("saveCanvas",Ke),Ke[0]instanceof HTMLCanvasElement?(xe=Ke[0],Ke.shift()):Ke[0]instanceof Te.default.Element?(xe=Ke[0].elt,Ke.shift()):Ke[0]instanceof Te.default.Framebuffer?(Ee=Ke[0],(Ye=this.createGraphics(Ee.width,Ee.height)).pixelDensity(pixelDensity()),Ee.loadPixels(),Ye.loadPixels(),Ye.pixels.set(Ee.pixels),Ye.updatePixels(),xe=Ye.elt,Ke.shift()):xe=(this||je)._curElement&&(this||je)._curElement.elt,1<=Ke.length&&(we=Ke[0]),Se=(Se=2<=Ke.length?Ke[1]:Se)||Te.default.prototype._checkFileExtension(we,Se)[1]||"png"){default:Ze="image/png";break;case"jpeg":case"jpg":Ze="image/jpeg"}xe.toBlob((function(je){Te.default.prototype.downloadFile(je,we,Se),Ye&&Ye.remove()}),Ze)},Te.default.prototype.encodeAndDownloadGif=function(je,xe){for(var we=je.gifProperties,Se=we.loopLimit,Ye=(1===Se?Se=null:null===Se&&(Se=0),new Uint8Array(je.width*je.height*we.numFrames)),Ze=[],Qe={},Ke=0;Ke<we.numFrames;Ke++){for(var Je=new Set,$e=we.frames[Ke].image.data,et=$e.length,tt=new Uint32Array(je.width*je.height),rt=0,ot=0;rt<et;rt+=4,ot++){var nt=$e[rt+0]<<16|$e[rt+1]<<8|$e[rt+2]<<0;Je.add(nt),tt[ot]=nt}var st=A(Je).sort().toString();void 0===Qe[st]?Qe[st]={freq:1,frames:[Ke]}:(Qe[st].freq+=1,Qe[st].frames.push(Ke)),Ze.push(tt)}for(var it=[],dt=Object.keys(Qe).sort((function(je,xe){return Qe[xe].freq-Qe[je].freq})),ht=dt[0].split(",").map((function(je){return parseInt(je)})),ft=(it=it.concat(Qe[ht].frames),new Set(ht)),pt=1;pt<dt.length;pt++){var mt=dt[pt].split(",").map((function(je){return parseInt(je)})).filter((function(je){return!ft.has(je)}));if(ht.length+mt.length<=256){for(var yt=0;yt<mt.length;yt++)ht.push(mt[yt]),ft.add(mt[yt]);it=it.concat(Qe[dt[pt]].frames)}}it=new Set(it);for(var gt={},wt=0;wt<ht.length;wt++)gt[ht[wt]]||(gt[ht[wt]]=wt);for(var Dt=1;Dt<ht.length;)Dt<<=1;ht.length=Dt;Se={loop:Se,palette:new Uint32Array(ht)};for(var Xt=new Ee.default.GifWriter(Ye,je.width,je.height,Se),Yt={},br=0;br<we.numFrames;br++)!function(xe){var Se=!it.has(xe),Te=Se?[]:ht,Ee=new Uint8Array(je.width*je.height),Ye={},Qe=new Set,Ke=(Ze[xe].forEach((function(je,we){Se?(void 0===Ye[je]&&(Ye[je]=Te.length,Te.push(je)),Ee[we]=Ye[je]):Ee[we]=gt[je],0<xe&&Ze[xe-1][we]!==je&&Qe.add(je)})),{}),Je=Te.filter((function(je){return!Qe.has(je)}));if(0<Je.length){Je=Je[0];var $e=(Se?Ye:gt)[Je];if(0<xe){for(var et=0;et<Ze[xe].length;et++)Ze[xe-1][et]===Ze[xe][et]&&(Ee[et]=$e);Ke.transparent=$e,Yt.frameOpts.disposal=1}}if(Ke.delay=we.frames[xe].delay/10,Se){for(var tt=1;tt<Te.length;)tt<<=1;Te.length=tt,Ke.palette=new Uint32Array(Te)}0<xe&&Xt.addFrame(0,0,je.width,je.height,Yt.pixelPaletteIndex,Yt.frameOpts),Yt={pixelPaletteIndex:Ee,frameOpts:Ke}}(br);Yt.frameOpts.disposal=1,Xt.addFrame(0,0,je.width,je.height,Yt.pixelPaletteIndex,Yt.frameOpts);Se=new Blob([Ye.slice(0,Xt.end())],{type:"image/gif"});Te.default.prototype.downloadFile(Se,xe,"gif")},Te.default.prototype.saveFrames=function(xe,we,Se,Ee,Ye){Te.default._validateParameters("saveFrames",arguments);Se=Te.default.prototype.constrain(Se=Se||3,0,15);Se*=1e3;Ee=Te.default.prototype.constrain(Ee||15,0,22);var Ze=0,Qe=Te.default.prototype._makeFrame,Ke=(this||je)._curElement.elt,Je=[],$e=setInterval((function(){Je.push(Qe(xe+Ze,we,Ke)),Ze++}),1e3/Ee);setTimeout((function(){if(clearInterval($e),Ye)Ye(Je);else for(var je=0,xe=Je;je<xe.length;je++){var we=xe[je];Te.default.prototype.downloadFile(we.imageData,we.filename,we.ext)}Je=[]}),.01+Se)},Te.default.prototype._makeFrame=function(xe,we,Se){var Te;Se=this||je?(this||je)._curElement.elt:Se;if(we)switch(we.toLowerCase()){case"png":Te="image/png";break;case"jpeg":case"jpg":Te="image/jpeg";break;default:Te="image/png"}else we="png",Te="image/png";Se=(Se=Se.toDataURL(Te)).replace(Te,"image/octet-stream");var Ee={};return Ee.imageData=Se,Ee.filename=xe,Ee.ext=we,Ee};xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0,xe("regenerator-runtime/runtime");var Te=n(xe("../core/main")),Ee=n(xe("../core/helpers")),Ye=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants")),Ze=n(xe("omggif")),Qe=xe("gifenc");function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function n(je){return je&&je.__esModule?je:{default:je}}function l(je,xe,we,Se,Te,Ee,Ye){try{var Ze=je[Ee](Ye),Qe=Ze.value}catch(je){return void we(je)}Ze.done?xe(Qe):Promise.resolve(Qe).then(Se,Te)}function y(je,xe,we,Se,Te,Ee,Ze,Qe,Ke,Je,$e){var et,tt,rt,ot,nt,st,it,dt,ht;return je===Ye.COVER&&(et=xe,rt=we,it=Ee,dt=Ze,st=Qe,ht=Ke,tt=Je,ot=$e,nt=Math.max(it/tt,dt/ot),it/=nt,dt/=nt,nt=st,st=ht,et===Ye.CENTER?nt+=(tt-it)/2:et===Ye.RIGHT&&(nt+=tt-it),rt===Ye.CENTER?st+=(ot-dt)/2:rt===Ye.BOTTOM&&(st+=ot-dt),Qe=(ht={x:nt,y:st,w:it,h:dt}).x,Ke=ht.y,Je=ht.w,$e=ht.h),je===Ye.CONTAIN&&(et=xe,tt=we,rt=Se,ot=Te,nt=Ee,st=Ze,it=Je,dt=$e,ht=Math.max(it/nt,dt/st),it/=ht,dt/=ht,ht=rt,rt=ot,et===Ye.CENTER?ht+=(nt-it)/2:et===Ye.RIGHT&&(ht+=nt-it),tt===Ye.CENTER?rt+=(st-dt)/2:tt===Ye.BOTTOM&&(rt+=st-dt),Se=(je={x:ht,y:rt,w:it,h:dt}).x,Te=je.y,Ee=je.w,Ze=je.h),{sx:Qe,sy:Ke,sw:Je,sh:$e,dx:Se,dy:Te,dw:Ee,dh:Ze}}function v(je,xe){return 0<je&&je<xe?je:xe}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.loadImage=function(xe,we,Se){Te.default._validateParameters("loadImage",arguments);var Ee=new Te.default.Image(1,1,this||je),Ye=this||je,Qe=new Request(xe,{method:"GET",mode:"cors"});return fetch(xe,Qe).then((function(je){var Qe,Ke=je.headers.get("content-type");null===Ke&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),Ke&&Ke.includes("image/gif")?je.arrayBuffer().then((function(je){if(je){je=new Uint8Array(je);for(var xe=Ee,Qe=we,Ke=Se,Je=function(je){Ye._decrementPreload()}.bind(Ye),$e=new Ze.default.GifReader(je),et=(xe.width=xe.canvas.width=$e.width,xe.height=xe.canvas.height=$e.height,[]),tt=$e.numFrames(),rt=new Uint8ClampedArray(xe.width*xe.height*4),ot=0;ot<tt;ot++){var nt=$e.frameInfo(ot),st=xe.drawingContext.getImageData(0,0,xe.width,xe.height),it=(rt=st.data.slice(),!function(je,we){try{we.decodeAndBlitFrameRGBA(je,rt)}catch(je){Te.default._friendlyFileLoadError(8,xe.src),"function"==typeof Ke?Ke(je):console.error(je)}}(ot,$e),new ImageData(rt,xe.width,xe.height));it=(xe.drawingContext.putImageData(it,0,0),nt.delay);0===it&&(it=10),et.push({image:xe.drawingContext.getImageData(0,0,xe.width,xe.height),delay:10*it}),2===nt.disposal?xe.drawingContext.clearRect(nt.x,nt.y,nt.width,nt.height):3===nt.disposal&&xe.drawingContext.putImageData(st,0,0,nt.x,nt.y,nt.width,nt.height)}null===(je=$e.loopCount())?je=1:0===je&&(je=null),xe.drawingContext.putImageData(et[0].image,0,0),1<et.length&&(xe.gifProperties={displayIndex:0,loopLimit:je,loopCount:0,frames:et,numFrames:tt,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof Qe&&Qe(xe),Je()}}),(function(je){"function"==typeof Se?(Se(je),Ye._decrementPreload()):console.error(je)})):((Qe=new Image).onload=function(){Ee.width=Ee.canvas.width=Qe.width,Ee.height=Ee.canvas.height=Qe.height,Ee.drawingContext.drawImage(Qe,0,0),Ee.modified=!0,"function"==typeof we&&we(Ee),Ye._decrementPreload()},Qe.onerror=function(je){Te.default._friendlyFileLoadError(0,Qe.src),"function"==typeof Se?(Se(je),Ye._decrementPreload()):console.error(je)},0!==xe.indexOf("data:image/")&&(Qe.crossOrigin="Anonymous"),Qe.src=xe),Ee.modified=!0})).catch((function(je){Te.default._friendlyFileLoadError(0,xe),"function"==typeof Se?(Se(je),Ye._decrementPreload()):console.error(je)})),Ee},Te.default.prototype.saveGif=function(){xe=regeneratorRuntime.mark((function e(xe,we){var Se,Ee,Ye,Ze,Ke,Je,$e,et,tt,rt,ot,nt,st,it,dt,ht,ft,pt,mt,yt,gt,wt,Dt,Xt,Yt,br,_r=arguments;return regeneratorRuntime.wrap((function(xr){for(;;)switch(xr.prev=xr.next){case 0:if(Se=2<_r.length&&void 0!==_r[2]?_r[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof xe)throw TypeError("fileName parameter must be a string");xr.next=3;break;case 3:if("number"!=typeof we)throw TypeError("Duration parameter must be a number");xr.next=5;break;case 5:if(Ee=Se&&Se.delay||0,Ye=Se&&Se.units||"seconds",Ze=Se&&Se.silent||!1,Ke=Se&&Se.notificationDuration||0,Je=Se&&Se.notificationID||"progressBar","number"!=typeof Ee)throw TypeError("Delay parameter must be a number");xr.next=12;break;case 12:if("seconds"!==Ye&&"frames"!==Ye)throw TypeError('Units parameter must be either "frames" or "seconds"');xr.next=14;break;case 14:if("boolean"!=typeof Ze)throw TypeError("Silent parameter must be a boolean");xr.next=16;break;case 16:if("number"!=typeof Ke)throw TypeError("Notification duration parameter must be a number");xr.next=18;break;case 18:if("string"!=typeof Je)throw TypeError("Notification ID parameter must be a string");xr.next=20;break;case 20:return(this||je)._recording=!0,rt=(this||je)._targetFrameRate,$e=($e=1/(rt=rt!==1/0&&void 0!==rt&&0!==rt?rt:60)*1e3)<20?20:$e,tt=(et="seconds"===Ye?we*rt:we)+(rt="seconds"===Ye?Ee*rt:Ee),rt,(this||je).frameCount=rt,ot=(this||je)._pixelDensity,this.pixelDensity(1),nt=[],null!==document.getElementById(Je)&&document.getElementById(Je).remove(),Ze||((st=this.createP("")).id(Je),st.style("font-size","16px"),st.style("font-family","Montserrat"),st.style("background-color","#ffffffa0"),st.style("padding","8px"),st.style("border-radius","10px"),st.position(0,0)),(this||je)._renderer instanceof Te.default.RendererGL&&(dt=(this||je).drawingContext,it=new Uint8Array(dt.drawingBufferWidth*dt.drawingBufferHeight*4)),this.noLoop(),xr.next=39,Promise.resolve();case 39:if(rt<tt)return this.redraw(),Xt=void 0,Xt=(this||je)._renderer instanceof Te.default.RendererGL?(it=new Uint8Array(dt.drawingBufferWidth*dt.drawingBufferHeight*4),dt.readPixels(0,0,dt.drawingBufferWidth,dt.drawingBufferHeight,dt.RGBA,dt.UNSIGNED_BYTE,it),function(je,xe,we){for(var Se=parseInt(we/2),Te=4*xe,Ee=new Uint8Array(4*xe),Ye=0;Ye<Se;++Ye){var Ze=Ye*Te,Qe=(we-Ye-1)*Te;Ee.set(je.subarray(Ze,Ze+Te)),je.copyWithin(Ze,Qe,Qe+Te),je.set(Ee,Qe)}return je}(it,(this||je).width,(this||je).height)):(this||je).drawingContext.getImageData(0,0,(this||je).width,(this||je).height).data,nt.push(Xt),rt++,Ze||st.html("Saved frame <b>"+nt.length.toString()+"</b> out of "+et.toString()),xr.next=48,new Promise((function(je){return setTimeout(je,0)}));xr.next=50;break;case 48:xr.next=39;break;case 50:Ze||st.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(ot),ht=(0,Qe.GIFEncoder)(),ft=function(je){for(var xe=new Uint8Array(je.length*je[0].length),we=0;we<je.length;we++)xe.set(je[we],we*je[0].length);var Se=(0,Qe.quantize)(xe,256,{format:"rgba4444",oneBitAlpha:!0});256===Se.length?Se[Se.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Se.push([255*Math.random(),255*Math.random(),255*Math.random(),0]);return Se}(nt),pt={},mt=function(je){for(var xe=je.length/4,we=new Uint8Array(xe),Se=0;Se<xe;Se++){var Te=je[4*Se]<<24|je[4*Se+1]<<16|je[4*Se+2]<<8|je[4*Se+3];void 0===pt[Te]&&(pt[Te]=(0,Qe.nearestColorIndex)(ft,je.slice(4*Se,4*(Se+1)))),we[Se]=pt[Te]}return we},yt=ft.length-1,gt=[],wt=0;case 60:if(!(wt<nt.length)){xr.next=71;break}if(Dt=mt(nt[wt]),Xt=Dt.slice(),0===wt)ht.writeFrame(Dt,(this||je).width,(this||je).height,{palette:ft,delay:$e,dispose:1});else{for(Yt=0;Yt<Dt.length;Yt++)Dt[Yt]===gt[Yt]&&(Dt[Yt]=yt);ht.writeFrame(Dt,(this||je).width,(this||je).height,{delay:$e,transparent:!0,transparentIndex:yt,dispose:1})}return gt=Xt,Ze||st.html("Rendered frame <b>"+wt.toString()+"</b> out of "+et.toString()),xr.next=68,new Promise((function(je){return setTimeout(je,0)}));case 68:wt++,xr.next=60;break;case 71:ht.finish(),br=ht.bytesView(),br=new Blob([br],{type:"image/gif"}),nt=[],(this||je)._recording=!1,this.loop(),Ze||(st.html("Done. Downloading your gif!"),0<Ke&&setTimeout((function(){return st.remove()}),1e3*Ke)),Te.default.prototype.downloadFile(br,xe,"gif");case 80:case"end":return xr.stop()}}),e,this||je)}));var xe,r=function(){var we=this||je,Se=arguments;return new Promise((function(je,Te){var Ee=xe.apply(we,Se);function n(xe){l(Ee,je,Te,n,s,"next",xe)}function s(xe){l(Ee,je,Te,n,s,"throw",xe)}n(void 0)}))};return function(xe,we){return r.apply(this||je,arguments)}}(),Te.default.prototype.image=function(xe,we,Se,Ze,Qe,Ke,Je,$e,et,tt,rt,ot){Te.default._validateParameters("image",arguments);var nt=xe.width,st=xe.height,it=(ot=ot||Ye.CENTER,rt=rt||Ye.CENTER,xe.elt&&(nt=void 0!==nt?nt:xe.elt.width,st=void 0!==st?st:xe.elt.height),xe.elt&&xe.elt.videoWidth&&!xe.canvas&&(nt=void 0!==nt?nt:xe.elt.videoWidth,st=void 0!==st?st:xe.elt.videoHeight),Ze||nt);Qe=Qe||st,Ke=Ke||0,Je=Je||0,$e=v(void 0!==$e?$e:nt,nt),nt=v(void 0!==et?et:st,st),et=1;xe.elt&&!xe.canvas&&xe.elt.style.width&&(et=xe.elt.videoWidth&&!Ze?xe.elt.videoWidth:xe.elt.width,et/=parseInt(xe.elt.style.width,10)),Ke*=et,Je*=et,nt*=et,$e*=et;st=y(tt,rt,ot,(st=Ee.default.modeAdjust(we,Se,it,Qe,(this||je)._renderer._imageMode)).x,st.y,st.w,st.h,Ke,Je,$e,nt);(this||je)._renderer.image(xe,st.sx,st.sy,st.sw,st.sh,st.dx,st.dy,st.dw,st.dh)},Te.default.prototype.tint=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("tint",we);var Ee=(this||je).color.apply(this||je,we);(this||je)._renderer._tint=Ee.levels},Te.default.prototype.noTint=function(){(this||je)._renderer._tint=null},Te.default.prototype._getTintedImageCanvas=Te.default.Renderer2D.prototype._getTintedImageCanvas,Te.default.prototype.imageMode=function(xe){Te.default._validateParameters("imageMode",arguments),xe!==Ye.CORNER&&xe!==Ye.CORNERS&&xe!==Ye.CENTER||((this||je)._renderer._imageMode=xe)};xe=Te.default;Se.default=xe},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=o(xe("../core/main")),Ee=o(xe("./filters"));function o(je){return je&&je.__esModule?je:{default:je}}function i(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.Image=function(){function r(xe,we){if(!((this||je)instanceof r))throw new TypeError("Cannot call a class as a function");(this||je).width=xe,(this||je).height=we,(this||je).canvas=document.createElement("canvas"),(this||je).canvas.width=(this||je).width,(this||je).canvas.height=(this||je).height,(this||je).drawingContext=(this||je).canvas.getContext("2d"),((this||je)._pixelsState=this||je)._pixelDensity=1,(this||je).gifProperties=null,(this||je)._modified=!1,(this||je).pixels=[]}var xe,we,Se;return xe=r,(we=[{key:"pixelDensity",value:function(xe){return void 0!==xe?(xe<=0&&(Te.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),xe=1),(this||je)._pixelDensity=xe,(this||je).width/=xe,(this||je).height/=xe,this||je):(this||je)._pixelDensity}},{key:"_animateGif",value:function(xe){var we,Se=(this||je).gifProperties;xe=xe._lastRealFrameTime;0===Se.lastChangeTime&&(Se.lastChangeTime=xe),Se.playing&&(Se.timeDisplayed=xe-Se.lastChangeTime,we=Se.frames[Se.displayIndex].delay,Se.timeDisplayed>=we&&(we=Math.floor(Se.timeDisplayed/we),Se.timeDisplayed=0,Se.lastChangeTime=xe,Se.displayIndex+=we,Se.loopCount=Math.floor(Se.displayIndex/Se.numFrames),null!==Se.loopLimit&&Se.loopCount>=Se.loopLimit?Se.playing=!1:(xe=Se.displayIndex%Se.numFrames,(this||je).drawingContext.putImageData(Se.frames[xe].image,0,0),Se.displayIndex=xe,this.setModified(!0))))}},{key:"_setProperty",value:function(xe,we){(this||je)[xe]=we,this.setModified(!0)}},{key:"loadPixels",value:function(){Te.default.Renderer2D.prototype.loadPixels.call(this||je),this.setModified(!0)}},{key:"updatePixels",value:function(xe,we,Se,Ee){Te.default.Renderer2D.prototype.updatePixels.call(this||je,xe,we,Se,Ee),this.setModified(!0)}},{key:"get",value:function(xe,we,Se,Ee){return Te.default._validateParameters("p5.Image.get",arguments),Te.default.Renderer2D.prototype.get.apply(this||je,arguments)}},{key:"_getPixel",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default.Renderer2D.prototype._getPixel.apply(this||je,we)}},{key:"set",value:function(xe,we,Se){Te.default.Renderer2D.prototype.set.call(this||je,xe,we,Se),this.setModified(!0)}},{key:"resize",value:function(xe,we){0===xe&&0===we?(xe=(this||je).canvas.width,we=(this||je).canvas.height):0===xe?xe=(this||je).canvas.width*we/(this||je).canvas.height:0===we&&(we=(this||je).canvas.height*xe/(this||je).canvas.width),xe=Math.floor(xe),we=Math.floor(we);var Se=document.createElement("canvas");if(Se.width=xe,Se.height=we,(this||je).gifProperties)for(var Te=(this||je).gifProperties,Ee=0;Ee<Te.numFrames;Ee++){for(var Ye=(this||je).drawingContext.createImageData(xe,we),Ze=(et=et=$e=Je=Ke=void 0,Te.frames[Ee].image),Qe=Ye,Ke=0,Je=0;Je<Qe.height;Je++)for(var $e=0;$e<Qe.width;$e++){var et=Math.floor($e*Ze.width/Qe.width);et=4*(Math.floor(Je*Ze.height/Qe.height)*Ze.width+et);Qe.data[Ke++]=Ze.data[et++],Qe.data[Ke++]=Ze.data[et++],Qe.data[Ke++]=Ze.data[et++],Qe.data[Ke++]=Ze.data[+et]}Te.frames[Ee].image=Ye}Se.getContext("2d").drawImage((this||je).canvas,0,0,(this||je).canvas.width,(this||je).canvas.height,0,0,Se.width,Se.height),(this||je).canvas.width=(this||je).width=xe,(this||je).canvas.height=(this||je).height=we,(this||je).drawingContext.drawImage(Se,0,0,xe,we,0,0,xe,we),0<(this||je).pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default.prototype.copy.apply(this||je,we)}},{key:"mask",value:function(xe){var we=(this||je).drawingContext.globalCompositeOperation,Se=1,Ee=[xe=void 0===xe?this||je:xe,0,0,(Se=xe instanceof Te.default.Renderer?xe._pInst._pixelDensity:Se)*xe.width,Se*xe.height,0,0,(this||je).width,(this||je).height];if((this||je).drawingContext.globalCompositeOperation="destination-in",(this||je).gifProperties){for(var Ye=0;Ye<(this||je).gifProperties.frames.length;Ye++)(this||je).drawingContext.putImageData((this||je).gifProperties.frames[Ye].image,0,0),(this||je).copy.apply(this||je,Ee),(this||je).gifProperties.frames[Ye].image=(this||je).drawingContext.getImageData(0,0,(this||je).width,(this||je).height);(this||je).drawingContext.putImageData((this||je).gifProperties.frames[(this||je).gifProperties.displayIndex].image,0,0)}else(this||je).copy.apply(this||je,Ee);(this||je).drawingContext.globalCompositeOperation=we,this.setModified(!0)}},{key:"filter",value:function(xe,we){Ee.default.apply((this||je).canvas,Ee.default[xe],we),this.setModified(!0)}},{key:"blend",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("p5.Image.blend",arguments),Te.default.prototype.blend.apply(this||je,we),this.setModified(!0)}},{key:"setModified",value:function(xe){(this||je)._modified=xe}},{key:"isModified",value:function(){return(this||je)._modified}},{key:"save",value:function(xe,we){(this||je).gifProperties?Te.default.prototype.encodeAndDownloadGif(this||je,xe):Te.default.prototype.saveCanvas((this||je).canvas,xe,we)}},{key:"reset",value:function(){var xe;(this||je).gifProperties&&((xe=(this||je).gifProperties).playing=!0,xe.timeSinceStart=0,xe.timeDisplayed=0,xe.lastChangeTime=0,xe.loopCount=0,xe.displayIndex=0,(this||je).drawingContext.putImageData(xe.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var xe;if((this||je).gifProperties)return(xe=(this||je).gifProperties).displayIndex%xe.numFrames}},{key:"setFrame",value:function(xe){var we;(this||je).gifProperties&&(xe<(we=(this||je).gifProperties).numFrames&&0<=xe?(we.timeDisplayed=0,we.lastChangeTime=0,we.displayIndex=xe,(this||je).drawingContext.putImageData(we.frames[xe].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if((this||je).gifProperties)return(this||je).gifProperties.numFrames}},{key:"play",value:function(){(this||je).gifProperties&&((this||je).gifProperties.playing=!0)}},{key:"pause",value:function(){(this||je).gifProperties&&((this||je).gifProperties.playing=!1)}},{key:"delay",value:function(xe,we){if((this||je).gifProperties){var Se=(this||je).gifProperties;if(we<Se.numFrames&&0<=we)Se.frames[we].delay=xe;else{var Te=!0,Ee=(we=!1,void 0);try{for(var Ye,Ze=Se.frames[Symbol.iterator]();!(Te=(Ye=Ze.next()).done);Te=!0)Ye.value.delay=xe}catch(xe){we=!0,Ee=xe}finally{try{Te||null==Ze.return||Ze.return()}finally{if(we)throw Ee}}}}}}])&&i(xe.prototype,we),Se&&i(xe,Se),r}();xe=Te.default.Image;Se.default=xe},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(xe,we,Se){xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.filter"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=o(xe("../core/main")),Ee=o(xe("./filters"));function o(je){return je&&je.__esModule?je:{default:je}}xe("../color/p5.Color"),Te.default.prototype.pixels=[],Te.default.prototype.blend=function(){for(var xe,we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];Te.default._validateParameters("blend",Se),(this||je)._renderer?(xe=(this||je)._renderer).blend.apply(xe,Se):Te.default.Renderer2D.prototype.blend.apply(this||je,Se)},Te.default.prototype.copy=function(){for(var xe,we,Se,Ee,Ye,Ze,Qe,Ke,Je,$e=arguments.length,et=new Array($e),tt=0;tt<$e;tt++)et[tt]=arguments[tt];if(Te.default._validateParameters("copy",et),9===et.length)xe=et[0],we=et[1],Se=et[2],Ee=et[3],Ye=et[4],Ze=et[5],Qe=et[6],Ke=et[7],Je=et[8];else{if(8!==et.length)throw new Error("Signature not supported");xe=this||je,we=et[0],Se=et[1],Ee=et[2],Ye=et[3],Ze=et[4],Qe=et[5],Ke=et[6],Je=et[7]}Te.default.prototype._copyHelper(this||je,xe,we,Se,Ee,Ye,Ze,Qe,Ke,Je)},Te.default.prototype._copyHelper=function(je,xe,we,Se,Ee,Ye,Ze,Qe,Ke,Je){var $e=xe.canvas.width/xe.width,et=0,tt=0;xe._renderer&&xe._renderer.isP3D&&(et=xe.width/2,tt=xe.height/2),je._renderer&&je._renderer.isP3D?(je.push(),je.resetMatrix(),je.noLights(),je.blendMode(je.BLEND),je.imageMode(je.CORNER),Te.default.RendererGL.prototype.image.call(je._renderer,xe,we+et,Se+tt,Ee,Ye,Ze,Qe,Ke,Je),je.pop()):je.drawingContext.drawImage(xe.canvas,$e*(we+et),$e*(Se+tt),$e*Ee,$e*Ye,Ze,Qe,Ke,Je)},Te.default.prototype.getFilterGraphicsLayer=function(){return(this||je)._renderer.getFilterGraphicsLayer()},Te.default.prototype.filter=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("filter",we);var Ye=function(){var je,xe={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof Te.default.Shader?xe.shader=arguments.length<=0?void 0:arguments[0]:(xe.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&"number"==typeof(arguments.length<=1?void 0:arguments[1])&&(xe.value=arguments.length<=1?void 0:arguments[1]),!1===((je=arguments.length-1)<0||arguments.length<=je?void 0:arguments[je])&&(xe.useWebGL=!1)),xe}.apply(void 0,we),Ze=Ye.shader,Qe=Ye.operation,Ke=Ye.value;Ye=Ye.useWebGL;(this||je)._renderer.isP3D&&Ze?Te.default.RendererGL.prototype.filter.call((this||je)._renderer,Ze):Ye||(this||je)._renderer.isP3D?(!Ye&&(this||je)._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),(this||je)._renderer.isP3D?Te.default.RendererGL.prototype.filter.call((this||je)._renderer,Qe,Ke):((Ze=this.getFilterGraphicsLayer()).copy((this||je)._renderer,0,0,(this||je).width,(this||je).height,-(this||je).width/2,-(this||je).height/2,(this||je).width,(this||je).height),(this||je)._renderer.clear(),(this||je)._renderer.resetMatrix(),Ze.filter.apply(Ze,we),this.copy(Ze._renderer,0,0,(this||je).width,(this||je).height,0,0,(this||je).width,(this||je).height),Ze.clear())):void 0!==(this||je).canvas?Ee.default.apply((this||je).canvas,Ee.default[Qe],Ke):Ee.default.apply((this||je).elt,Ee.default[Qe],Ke)},Te.default.prototype.get=function(xe,we,Se,Ee){var Ye;return Te.default._validateParameters("get",arguments),(Ye=(this||je)._renderer).get.apply(Ye,arguments)},Te.default.prototype.loadPixels=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("loadPixels",we),(this||je)._renderer.loadPixels()},Te.default.prototype.set=function(xe,we,Se){(this||je)._renderer.set(xe,we,Se)},Te.default.prototype.updatePixels=function(xe,we,Se,Ee){Te.default._validateParameters("updatePixels",arguments),0!==(this||je).pixels.length&&(this||je)._renderer.updatePixels(xe,we,Se,Ee)};xe=Te.default;Se.default=xe},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.promise"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/web.url"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=s(xe("../core/main")),Ee=(xe("whatwg-fetch"),xe("es6-promise/auto"),s(xe("fetch-jsonp"))),Ye=s(xe("file-saver"));function s(je){return je&&je.__esModule?je:{default:je}}function y(je){return(y="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}function g(je){return je.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function i(je,xe){xe&&!0!==xe&&"true"!==xe||(xe="");var we="";return(je=je||"untitled")&&je.includes(".")&&(we=je.split(".").pop()),xe&&we!==xe&&(we=xe,je="".concat(je,".").concat(we)),[je,we]}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.loadJSON=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("loadJSON",we);for(var Ee,Ye,Ze,Qe=we[0],Ke={},Je="json",$e=1;$e<we.length;$e++){var et=we[$e];"string"==typeof et?"jsonp"!==et&&"json"!==et||(Je=et):"function"==typeof et?Ee?Ye=et:Ee=et:"object"===y(et)&&(et.hasOwnProperty("jsonpCallback")||et.hasOwnProperty("jsonpCallbackFunction"))&&(Je="jsonp",Ze=et)}var tt=this||je;return this.httpDo(Qe,"GET",Ze,Je,(function(je){for(var xe in je)Ke[xe]=je[xe];void 0!==Ee&&Ee(je),tt._decrementPreload()}),(function(je){if(Te.default._friendlyFileLoadError(5,Qe),!Ye)throw je;Ye(je)})),Ke},Te.default.prototype.loadStrings=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("loadStrings",we);for(var Ee,Ye,Ze=[],Qe=1;Qe<we.length;Qe++){var Ke=we[Qe];"function"==typeof Ke&&(void 0===Ee?Ee=Ke:void 0===Ye&&(Ye=Ke))}var Je=this||je;return Te.default.prototype.httpDo.call(this||je,we[0],"GET","text",(function(je){for(var xe=je.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),we=0,Se=xe.length;we<Se;we+=32768)Array.prototype.push.apply(Ze,xe.slice(we,Math.min(we+32768,Se)));void 0!==Ee&&Ee(Ze),Je._decrementPreload()}),(function(je){if(Te.default._friendlyFileLoadError(3,je),!Ye)throw je;Ye(je)})),Ze},Te.default.prototype.loadTable=function(xe){var we,Se,Ee,Ye=[],Ze=!1,Qe=xe.substring(xe.lastIndexOf(".")+1,xe.length);"csv"===Qe?Ee=",":"ssv"===Qe?Ee=";":"tsv"===Qe&&(Ee="\t");for(var Ke=1;Ke<arguments.length;Ke++)"function"==typeof arguments[Ke]?void 0===we?we=arguments[Ke]:void 0===Se&&(Se=arguments[Ke]):"string"==typeof arguments[Ke]&&(Ye.push(arguments[Ke]),"header"===arguments[Ke]&&(Ze=!0),"csv"===arguments[Ke]?Ee=",":"ssv"===arguments[Ke]?Ee=";":"tsv"===arguments[Ke]&&(Ee="\t"));var Je=new Te.default.Table,$e=this||je;return this.httpDo(xe,"GET","table",(function(je){for(var xe,Se,Ye={},Qe=0,Ke=[],et=0,tt=null,l=function(){Ye.currentState=Qe,Ye.token=""},u=function(){tt.push(Ye.token),l()},c=function(){Ye.currentState=4,Ke.push(tt),tt=null};;){if(null==(xe=je[et++])){if(Ye.escaped)throw new Error("Unclosed quote in file.");if(tt){u(),c();break}}if(null===tt&&(Ye.escaped=!1,tt=[],l()),Ye.currentState===Qe){if('"'===xe){Ye.escaped=!0,Ye.currentState=1;continue}Ye.currentState=1}if(1===Ye.currentState&&Ye.escaped)if('"'===xe)'"'===je[et]?(Ye.token+='"',et++):(Ye.escaped=!1,Ye.currentState=2);else{if("\r"===xe)continue;Ye.token+=xe}else"\r"===xe?("\n"===je[et]&&et++,u(),c()):"\n"===xe?(u(),c()):xe===Ee?u():1===Ye.currentState&&(Ye.token+=xe)}if(Ze)Je.columns=Ke.shift();else for(var rt=0;rt<Ke[0].length;rt++)Je.columns[rt]="null";for(var ot=0;ot<Ke.length;ot++)(1!==Ke[ot].length||"undefined"!==Ke[ot][0]&&""!==Ke[ot][0])&&((Se=new Te.default.TableRow).arr=Ke[ot],Se.obj=function(je,xe){if(void 0===(xe=xe||[]))for(var we=0;we<je.length;we++)xe[we.toString()]=we;return Object.fromEntries(xe.map((function(xe,we){return[xe,je[we]]})))}(Ke[ot],Je.columns),Je.addRow(Se));"function"==typeof we&&we(Je),$e._decrementPreload()}),(function(je){Te.default._friendlyFileLoadError(2,xe),Se?Se(je):console.error(je)})),Je},Te.default.prototype.loadXML=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];for(var Ee,Ye,Ze=new Te.default.XML,Qe=1;Qe<we.length;Qe++){var Ke=we[Qe];"function"==typeof Ke&&(void 0===Ee?Ee=Ke:void 0===Ye&&(Ye=Ke))}var Je=this||je;return this.httpDo(we[0],"GET","xml",(function(je){for(var xe in je)Ze[xe]=je[xe];void 0!==Ee&&Ee(Ze),Je._decrementPreload()}),(function(je){if(Te.default._friendlyFileLoadError(1,je),!Ye)throw je;Ye(je)})),Ze},Te.default.prototype.loadBytes=function(xe,we,Se){var Ee={},Ye=this||je;return this.httpDo(xe,"GET","arrayBuffer",(function(je){Ee.bytes=new Uint8Array(je),"function"==typeof we&&we(Ee),Ye._decrementPreload()}),(function(je){if(Te.default._friendlyFileLoadError(6,xe),!Se)throw je;Se(je)})),Ee},Te.default.prototype.httpGet=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("httpGet",we),we.splice(1,0,"GET"),Te.default.prototype.httpDo.apply(this||je,we)},Te.default.prototype.httpPost=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("httpPost",we),we.splice(1,0,"POST"),Te.default.prototype.httpDo.apply(this||je,we)},Te.default.prototype.httpDo=function(){for(var je,xe,we,Se={},Ye=0,Ze="text/plain",Qe=arguments.length-1;0<Qe&&"function"==typeof(Qe<0||arguments.length<=Qe?void 0:arguments[Qe]);Qe--)Ye++;var Ke=arguments.length-Ye,Je=arguments.length<=0?void 0:arguments[0];if(2==Ke&&"string"==typeof Je&&"object"===y(arguments.length<=1?void 0:arguments[1]))nt=new Request(Je,arguments.length<=1?void 0:arguments[1]),xe=arguments.length<=2?void 0:arguments[2],we=arguments.length<=3?void 0:arguments[3];else{for(var $e,et="GET",tt=1;tt<arguments.length;tt++){var rt=tt<0||arguments.length<=tt?void 0:arguments[tt];if("string"==typeof rt)"GET"===rt||"POST"===rt||"PUT"===rt||"DELETE"===rt?et=rt:"json"===rt||"jsonp"===rt||"binary"===rt||"arrayBuffer"===rt||"xml"===rt||"text"===rt||"table"===rt?je=rt:$e=rt;else if("number"==typeof rt)$e=rt.toString();else if("object"===y(rt))if(rt.hasOwnProperty("jsonpCallback")||rt.hasOwnProperty("jsonpCallbackFunction"))for(var ot in rt)Se[ot]=rt[ot];else Ze=rt instanceof Te.default.XML?($e=rt.serialize(),"application/xml"):($e=JSON.stringify(rt),"application/json");else"function"==typeof rt&&(xe?we=rt:xe=rt)}Ke="GET"===et?new Headers:new Headers({"Content-Type":Ze});var nt=new Request(Je,{method:et,mode:"cors",body:$e,headers:Ke})}return(Ke=(Ke="jsonp"===(je=je||(Je.includes("json")?"json":Je.includes("xml")?"xml":"text"))?(0,Ee.default)(Je,Se):fetch(nt)).then((function(xe){if(!xe.ok)throw(we=new Error(xe.body)).status=xe.status,we.ok=!1,we;var we=0;switch((we="jsonp"!==je?xe.headers.get("content-length"):we)&&64e6<we&&Te.default._friendlyFileLoadError(7,Je),je){case"json":case"jsonp":return xe.json();case"binary":return xe.blob();case"arrayBuffer":return xe.arrayBuffer();case"xml":return xe.text().then((function(je){je=(new DOMParser).parseFromString(je,"text/xml");return new Te.default.XML(je.documentElement)}));default:return xe.text()}}))).then(xe||function(){}),Ke.catch(we||console.error),Ke},window.URL=window.URL||window.webkitURL,Te.default.prototype._pWriters=[],Te.default.prototype.createWriter=function(je,xe){var we,Se;for(Se in Te.default.prototype._pWriters)if(Te.default.prototype._pWriters[Se].name===je)return we=new Te.default.PrintWriter(je+this.millis(),xe),Te.default.prototype._pWriters.push(we),we;return we=new Te.default.PrintWriter(je,xe),Te.default.prototype._pWriters.push(we),we},Te.default.PrintWriter=function(xe,we){var Se=this||je;(this||je).name=xe,(this||je).content="",(this||je).write=function(xe){(this||je).content+=xe},(this||je).print=function(xe){(this||je).content+="".concat(xe,"\n")},(this||je).clear=function(){(this||je).content=""},(this||je).close=function(){var Ee,Ye=[];for(Ee in Ye.push((this||je).content),Te.default.prototype.writeFile(Ye,xe,we),Te.default.prototype._pWriters)Te.default.prototype._pWriters[Ee].name===(this||je).name&&Te.default.prototype._pWriters.splice(Ee,1);Se.clear(),Se={}}},Te.default.prototype.save=function(xe,we,Se){var Ee=arguments,Ye=((this||je)._curElement||this||je).elt;if(0===Ee.length)Te.default.prototype.saveCanvas(Ye);else if(Ee[0]instanceof Te.default.Renderer||Ee[0]instanceof Te.default.Graphics)Te.default.prototype.saveCanvas(Ee[0].elt,Ee[1],Ee[2]);else if(1===Ee.length&&"string"==typeof Ee[0])Te.default.prototype.saveCanvas(Ye,Ee[0]);else switch(i(Ee[1],Ee[2])[1]){case"json":return void Te.default.prototype.saveJSON(Ee[0],Ee[1],Ee[2]);case"txt":return void Te.default.prototype.saveStrings(Ee[0],Ee[1],Ee[2]);default:Ee[0]instanceof Array?Te.default.prototype.saveStrings(Ee[0],Ee[1],Ee[2]):Ee[0]instanceof Te.default.Table?Te.default.prototype.saveTable(Ee[0],Ee[1],Ee[2]):Ee[0]instanceof Te.default.Image?Te.default.prototype.saveCanvas(Ee[0].canvas,Ee[1]):Ee[0]instanceof Te.default.SoundFile&&Te.default.prototype.saveSound(Ee[0],Ee[1],Ee[2],Ee[3])}},Te.default.prototype.saveJSON=function(je,xe,we){Te.default._validateParameters("saveJSON",arguments),we=we?JSON.stringify(je):JSON.stringify(je,void 0,2),this.saveStrings(we.split("\n"),xe,"json")},Te.default.prototype.saveJSONObject=Te.default.prototype.saveJSON,Te.default.prototype.saveJSONArray=Te.default.prototype.saveJSON,Te.default.prototype.saveStrings=function(je,xe,we,Se){Te.default._validateParameters("saveStrings",arguments);for(var Ee=this.createWriter(xe,we||"txt"),Ye=0;Ye<je.length;Ye++)Se?Ee.write(je[Ye]+"\r\n"):Ee.write(je[Ye]+"\n");Ee.close(),Ee.clear()},Te.default.prototype.saveTable=function(je,xe,we){Te.default._validateParameters("saveTable",arguments),Se=void 0===we?xe.substring(xe.lastIndexOf(".")+1,xe.length):we;var Se,Ee=this.createWriter(xe,Se),Ye=je.columns,Ze="tsv"===Se?"\t":",";if("html"!==Se){if("0"!==Ye[0]){for(var Qe=0;Qe<Ye.length;Qe++)Qe<Ye.length-1?Ee.write(Ye[Qe]+Ze):Ee.write(Ye[Qe]);Ee.write("\n")}for(var Ke=0;Ke<je.rows.length;Ke++){var Je=void 0;for(Je=0;Je<je.rows[Ke].arr.length;Je++)Je<je.rows[Ke].arr.length-1?"csv"===Se&&String(je.rows[Ke].arr[Je]).includes(",")?Ee.write('"'+je.rows[Ke].arr[Je]+'"'+Ze):Ee.write(je.rows[Ke].arr[Je]+Ze):"csv"===Se&&String(je.rows[Ke].arr[Je]).includes(",")?Ee.write('"'+je.rows[Ke].arr[Je]+'"'):Ee.write(je.rows[Ke].arr[Je]);Ee.write("\n")}}else{Ee.print("<html>"),Ee.print("<head>");if(Ee.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),Ee.print("</head>"),Ee.print("<body>"),Ee.print("  <table>"),"0"!==Ye[0]){Ee.print("    <tr>");for(var $e=0;$e<Ye.length;$e++){var et=g(Ye[$e]);Ee.print("      <td>".concat(et)),Ee.print("      </td>")}Ee.print("    </tr>")}for(var tt=0;tt<je.rows.length;tt++){Ee.print("    <tr>");for(var rt=0;rt<je.columns.length;rt++){var ot=g(je.rows[tt].getString(rt));Ee.print("      <td>".concat(ot)),Ee.print("      </td>")}Ee.print("    </tr>")}Ee.print("  </table>"),Ee.print("</body>"),Ee.print("</html>")}Ee.close(),Ee.clear()},Te.default.prototype.writeFile=function(je,xe,we){var Se="application/octet-stream";je=(Te.default.prototype._isSafari()&&(Se="text/plain"),new Blob(je,{type:Se}));Te.default.prototype.downloadFile(je,xe,we)},Te.default.prototype.downloadFile=function(je,xe,we){var Se;xe=i(xe,we),we=xe[0];je instanceof Blob?Ye.default.saveAs(je,we):((Se=document.createElement("a")).href=je,Se.download=we,Se.onclick=function(je){document.body.removeChild(je.target),je.stopPropagation()},Se.style.display="none",document.body.appendChild(Se),Te.default.prototype._isSafari()&&(je=(je='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(xe[1],'"'),alert(je)),Se.click())},Te.default.prototype._checkFileExtension=i,Te.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")};xe=Te.default;Se.default=xe},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.replace"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.Table=function(){function t(xe){if(!((this||je)instanceof t))throw new TypeError("Cannot call a class as a function");(this||je).columns=[],(this||je).rows=[]}var xe,we,Se;return xe=t,(we=[{key:"addRow",value:function(xe){xe=xe||new Te.default.TableRow;if(void 0===xe.arr||void 0===xe.obj)throw new Error("invalid TableRow: ".concat(xe));return(xe.table=this||je).rows.push(xe),xe}},{key:"removeRow",value:function(xe){(this||je).rows[xe].table=null;xe=(this||je).rows.splice(xe+1,(this||je).rows.length);(this||je).rows.pop(),(this||je).rows=(this||je).rows.concat(xe)}},{key:"getRow",value:function(xe){return(this||je).rows[xe]}},{key:"getRows",value:function(){return(this||je).rows}},{key:"findRow",value:function(xe,we){if("string"==typeof we){for(var Se=0;Se<(this||je).rows.length;Se++)if((this||je).rows[Se].obj[we]===xe)return(this||je).rows[Se]}else for(var Te=0;Te<(this||je).rows.length;Te++)if((this||je).rows[Te].arr[we]===xe)return(this||je).rows[Te];return null}},{key:"findRows",value:function(xe,we){var Se=[];if("string"==typeof we)for(var Te=0;Te<(this||je).rows.length;Te++)(this||je).rows[Te].obj[we]===xe&&Se.push((this||je).rows[Te]);else for(var Ee=0;Ee<(this||je).rows.length;Ee++)(this||je).rows[Ee].arr[we]===xe&&Se.push((this||je).rows[Ee]);return Se}},{key:"matchRow",value:function(xe,we){if("number"==typeof we){for(var Se=0;Se<(this||je).rows.length;Se++)if((this||je).rows[Se].arr[we].match(xe))return(this||je).rows[Se]}else for(var Te=0;Te<(this||je).rows.length;Te++)if((this||je).rows[Te].obj[we].match(xe))return(this||je).rows[Te];return null}},{key:"matchRows",value:function(xe,we){var Se=[];if("number"==typeof we)for(var Te=0;Te<(this||je).rows.length;Te++)(this||je).rows[Te].arr[we].match(xe)&&Se.push((this||je).rows[Te]);else for(var Ee=0;Ee<(this||je).rows.length;Ee++)(this||je).rows[Ee].obj[we].match(xe)&&Se.push((this||je).rows[Ee]);return Se}},{key:"getColumn",value:function(xe){var we=[];if("string"==typeof xe)for(var Se=0;Se<(this||je).rows.length;Se++)we.push((this||je).rows[Se].obj[xe]);else for(var Te=0;Te<(this||je).rows.length;Te++)we.push((this||je).rows[Te].arr[xe]);return we}},{key:"clearRows",value:function(){delete(this||je).rows,(this||je).rows=[]}},{key:"addColumn",value:function(xe){(this||je).columns.push(xe||null)}},{key:"getColumnCount",value:function(){return(this||je).columns.length}},{key:"getRowCount",value:function(){return(this||je).rows.length}},{key:"removeTokens",value:function(xe,we){for(var Se=[],Te=0;Te<xe.length;Te++)Se.push(xe.charAt(Te).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var Ee=new RegExp(Se.join("|"),"g");if(void 0===we)for(var Ye=0;Ye<(this||je).columns.length;Ye++)for(var Ze=0;Ze<(this||je).rows.length;Ze++){var Qe=(Qe=(this||je).rows[Ze].arr[Ye]).replace(Ee,"");(this||je).rows[Ze].arr[Ye]=Qe,(this||je).rows[Ze].obj[(this||je).columns[Ye]]=Qe}else if("string"==typeof we)for(var Ke=0;Ke<(this||je).rows.length;Ke++){var Je=(Je=(this||je).rows[Ke].obj[we]).replace(Ee,""),$e=((this||je).rows[Ke].obj[we]=Je,(this||je).columns.indexOf(we));(this||je).rows[Ke].arr[$e]=Je}else for(var et=0;et<(this||je).rows.length;et++){var tt=(tt=(this||je).rows[et].arr[we]).replace(Ee,"");(this||je).rows[et].arr[we]=tt,(this||je).rows[et].obj[(this||je).columns[we]]=tt}}},{key:"trim",value:function(xe){var we=new RegExp(" ","g");if(void 0===xe)for(var Se=0;Se<(this||je).columns.length;Se++)for(var Te=0;Te<(this||je).rows.length;Te++){var Ee=(Ee=(this||je).rows[Te].arr[Se]).replace(we,"");(this||je).rows[Te].arr[Se]=Ee,(this||je).rows[Te].obj[(this||je).columns[Se]]=Ee}else if("string"==typeof xe)for(var Ye=0;Ye<(this||je).rows.length;Ye++){var Ze=(Ze=(this||je).rows[Ye].obj[xe]).replace(we,""),Qe=((this||je).rows[Ye].obj[xe]=Ze,(this||je).columns.indexOf(xe));(this||je).rows[Ye].arr[Qe]=Ze}else for(var Ke=0;Ke<(this||je).rows.length;Ke++){var Je=(Je=(this||je).rows[Ke].arr[xe]).replace(we,"");(this||je).rows[Ke].arr[xe]=Je,(this||je).rows[Ke].obj[(this||je).columns[xe]]=Je}}},{key:"removeColumn",value:function(xe){"string"==typeof xe?Se=(this||je).columns.indexOf(we=xe):we=(this||je).columns[Se=xe];var we,Se;xe=(this||je).columns.splice(Se+1,(this||je).columns.length);(this||je).columns.pop(),(this||je).columns=(this||je).columns.concat(xe);for(var Te=0;Te<(this||je).rows.length;Te++){var Ee=(this||je).rows[Te].arr,Ye=Ee.splice(Se+1,Ee.length);Ee.pop(),(this||je).rows[Te].arr=Ee.concat(Ye),delete(this||je).rows[Te].obj[we]}}},{key:"set",value:function(xe,we,Se){(this||je).rows[xe].set(we,Se)}},{key:"setNum",value:function(xe,we,Se){(this||je).rows[xe].setNum(we,Se)}},{key:"setString",value:function(xe,we,Se){(this||je).rows[xe].setString(we,Se)}},{key:"get",value:function(xe,we){return(this||je).rows[xe].get(we)}},{key:"getNum",value:function(xe,we){return(this||je).rows[xe].getNum(we)}},{key:"getString",value:function(xe,we){return(this||je).rows[xe].getString(we)}},{key:"getObject",value:function(xe){for(var we,Se={},Te=0;Te<(this||je).rows.length;Te++)if(we=(this||je).rows[Te].obj,"string"==typeof xe){if(!(0<=(this||je).columns.indexOf(xe)))throw new Error('This table has no column named "'.concat(xe,'"'));Se[we[xe]]=we}else Se[Te]=(this||je).rows[Te].obj;return Se}},{key:"getArray",value:function(){for(var xe=[],we=0;we<(this||je).rows.length;we++)xe.push((this||je).rows[we].arr);return xe}}])&&s(xe.prototype,we),Se&&s(xe,Se),t}();xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(xe,we,Se){xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.from-entries"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}xe.default.TableRow=function(){function o(xe,we){if(!((this||je)instanceof o))throw new TypeError("Cannot call a class as a function");var Se=[];xe&&(Se=xe.split(we=we||",")),(this||je).arr=Se,(this||je).obj=Object.fromEntries(Se.entries()),(this||je).table=null}var xe,we,Se;return xe=o,(we=[{key:"set",value:function(xe,we){if("string"==typeof xe){var Se=(this||je).table.columns.indexOf(xe);if(!(0<=Se))throw new Error('This table has no column named "'.concat(xe,'"'));(this||je).obj[xe]=we,(this||je).arr[Se]=we}else{if(!(xe<(this||je).table.columns.length))throw new Error("Column #".concat(xe," is out of the range of this table"));(this||je).arr[xe]=we;Se=(this||je).table.columns[xe];(this||je).obj[Se]=we}}},{key:"setNum",value:function(je,xe){xe=parseFloat(xe);this.set(je,xe)}},{key:"setString",value:function(je,xe){xe=xe.toString();this.set(je,xe)}},{key:"get",value:function(xe){return("string"==typeof xe?(this||je).obj:(this||je).arr)[xe]}},{key:"getNum",value:function(xe){var we="string"==typeof xe?parseFloat((this||je).obj[xe]):parseFloat((this||je).arr[xe]);if("NaN"===we.toString())throw"Error: ".concat((this||je).obj[xe]," is NaN (Not a Number)");return we}},{key:"getString",value:function(xe){return("string"==typeof xe?(this||je).obj:(this||je).arr)[xe].toString()}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();xe=xe.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function s(je){for(var xe=[],we=0;we<je.length;we++)xe.push(new Te.default.XML(je[we]));return xe}Te.default.XML=function(){function t(xe){if(!((this||je)instanceof t))throw new TypeError("Cannot call a class as a function");xe?(this||je).DOM=xe:(xe=document.implementation.createDocument(null,"doc"),(this||je).DOM=xe.createElement("root"))}var xe,we,Se;return xe=t,(we=[{key:"getParent",value:function(){return new Te.default.XML((this||je).DOM.parentElement)}},{key:"getName",value:function(){return(this||je).DOM.tagName}},{key:"setName",value:function(xe){var we=(this||je).DOM.innerHTML,Se=(this||je).DOM.attributes,Te=document.implementation.createDocument(null,"default").createElement(xe);Te.innerHTML=we;for(var Ee=0;Ee<Se.length;Ee++)Te.setAttribute(Se[Ee].nodeName,Se.nodeValue);(this||je).DOM=Te}},{key:"hasChildren",value:function(){return 0<(this||je).DOM.children.length}},{key:"listChildren",value:function(){for(var xe=[],we=0;we<(this||je).DOM.childNodes.length;we++)xe.push((this||je).DOM.childNodes[we].nodeName);return xe}},{key:"getChildren",value:function(xe){return s(xe?(this||je).DOM.getElementsByTagName(xe):(this||je).DOM.children)}},{key:"getChild",value:function(xe){if("string"!=typeof xe)return new Te.default.XML((this||je).DOM.children[xe]);var we=!0,Se=!1,Ee=void 0;try{for(var Ye,Ze=(this||je).DOM.children[Symbol.iterator]();!(we=(Ye=Ze.next()).done);we=!0){var Qe=Ye.value;if(Qe.tagName===xe)return new Te.default.XML(Qe)}}catch(xe){Se=!0,Ee=xe}finally{try{we||null==Ze.return||Ze.return()}finally{if(Se)throw Ee}}}},{key:"addChild",value:function(xe){xe instanceof Te.default.XML&&(this||je).DOM.appendChild(xe.DOM)}},{key:"removeChild",value:function(xe){var we=-1;if("string"==typeof xe){for(var Se=0;Se<(this||je).DOM.children.length;Se++)if((this||je).DOM.children[Se].tagName===xe){we=Se;break}}else we=xe;-1!==we&&(this||je).DOM.removeChild((this||je).DOM.children[we])}},{key:"getAttributeCount",value:function(){return(this||je).DOM.attributes.length}},{key:"listAttributes",value:function(){var xe=[],we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=(this||je).DOM.attributes[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0){var Ze=Ee.value;xe.push(Ze.nodeName)}}catch(xe){Se=!0,Te=xe}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}return xe}},{key:"hasAttribute",value:function(xe){var we={},Se=!0,Te=!1,Ee=void 0;try{for(var Ye,Ze=(this||je).DOM.attributes[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0){var Qe=Ye.value;we[Qe.nodeName]=Qe.nodeValue}}catch(xe){Te=!0,Ee=xe}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}return!!we[xe]}},{key:"getNum",value:function(xe,we){var Se={},Te=!0,Ee=!1,Ye=void 0;try{for(var Ze,Qe=(this||je).DOM.attributes[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;Se[Ke.nodeName]=Ke.nodeValue}}catch(xe){Ee=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Ee)throw Ye}}return Number(Se[xe])||we||0}},{key:"getString",value:function(xe,we){var Se={},Te=!0,Ee=!1,Ye=void 0;try{for(var Ze,Qe=(this||je).DOM.attributes[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0){var Ke=Ze.value;Se[Ke.nodeName]=Ke.nodeValue}}catch(xe){Ee=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Ee)throw Ye}}return Se[xe]?String(Se[xe]):we||null}},{key:"setAttribute",value:function(xe,we){(this||je).DOM.setAttribute(xe,we)}},{key:"getContent",value:function(xe){var we=(this||je).DOM.textContent;return(we=we.replace(/\s\s+/g,","))||xe||null}},{key:"setContent",value:function(xe){(this||je).DOM.children.length||((this||je).DOM.textContent=xe)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString((this||je).DOM)}}])&&n(xe.prototype,we),Se&&n(xe,Se),t}();xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(je,xe,we){je("core-js/modules/es.symbol"),je("core-js/modules/es.symbol.description"),je("core-js/modules/es.symbol.iterator"),je("core-js/modules/es.array.from"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.index-of"),je("core-js/modules/es.array.iterator"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.math.hypot"),je("core-js/modules/es.number.constructor"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.includes"),je("core-js/modules/es.string.iterator"),je("core-js/modules/web.dom-collections.iterator"),je("core-js/modules/es.array.includes"),je("core-js/modules/es.array.index-of"),je("core-js/modules/es.array.map"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.math.hypot"),je("core-js/modules/es.number.constructor"),je("core-js/modules/es.string.includes"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(je=je("../core/main"))&&je.__esModule?je:{default:je};function n(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Se.default.prototype.abs=Math.abs,Se.default.prototype.ceil=Math.ceil,Se.default.prototype.constrain=function(je,xe,we){return Se.default._validateParameters("constrain",arguments),Math.max(Math.min(je,we),xe)},Se.default.prototype.dist=function(){for(var je=arguments.length,xe=new Array(je),we=0;we<je;we++)xe[we]=arguments[we];return Se.default._validateParameters("dist",xe),4===xe.length?Math.hypot(xe[2]-xe[0],xe[3]-xe[1]):6===xe.length?Math.hypot(xe[3]-xe[0],xe[4]-xe[1],xe[5]-xe[2]):void 0},Se.default.prototype.exp=Math.exp,Se.default.prototype.floor=Math.floor,Se.default.prototype.lerp=function(je,xe,we){return Se.default._validateParameters("lerp",arguments),we*(xe-je)+je},Se.default.prototype.log=Math.log,Se.default.prototype.mag=function(je,xe){return Se.default._validateParameters("mag",arguments),Math.hypot(je,xe)},Se.default.prototype.map=function(je,xe,we,Te,Ee,Ye){Se.default._validateParameters("map",arguments);je=(je-xe)/(we-xe)*(Ee-Te)+Te;return Ye?Te<Ee?this.constrain(je,Te,Ee):this.constrain(je,Ee,Te):je},Se.default.prototype.max=function(){for(var e=function(je){return Math.max.apply(Math,n(je))},je=arguments.length,xe=new Array(je),we=0;we<je;we++)xe[we]=arguments[we];return Array.isArray(xe[0])?e(xe[0]):e(xe)},Se.default.prototype.min=function(){for(var e=function(je){return Math.min.apply(Math,n(je))},je=arguments.length,xe=new Array(je),we=0;we<je;we++)xe[we]=arguments[we];return Array.isArray(xe[0])?e(xe[0]):e(xe)},Se.default.prototype.norm=function(je,xe,we){return Se.default._validateParameters("norm",arguments),this.map(je,xe,we,0,1)},Se.default.prototype.pow=Math.pow,Se.default.prototype.round=function(je,xe){return xe?(xe=Math.pow(10,xe),Math.round(je*xe)/xe):Math.round(je)},Se.default.prototype.sq=function(je){return je*je},Se.default.prototype.sqrt=Math.sqrt,Se.default.prototype.fract=function(je){Se.default._validateParameters("fract",arguments);var xe,we=0;je=Number(je);return isNaN(je)||Math.abs(je)===1/0?je:(je<0&&(je=-je,we=1),String(je).includes(".")&&!String(je).includes("e")?(xe=String(je),xe=Number("0"+xe.slice(xe.indexOf("."))),Math.abs(we-xe)):je<1?Math.abs(we-je):0)};je=Se.default;we.default=je},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(xe,we,Se){xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.slice"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe,we){return(n=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?Reflect.construct:function(je,xe,we){var Se=[null];Se.push.apply(Se,xe);xe=new(Function.bind.apply(je,Se));return we&&s(xe,we.prototype),xe}).apply(null,arguments)}function s(je,xe){return(s=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}Te.default.prototype.createVector=function(xe,we,Se){return(this||je)instanceof Te.default?n(Te.default.Vector,[(this||je)._fromRadians.bind(this||je),(this||je)._toRadians.bind(this||je)].concat(Array.prototype.slice.call(arguments))):new Te.default.Vector(xe,we,Se)};xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(je,xe,we){Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;je=(je=je("../core/main"))&&je.__esModule?je:{default:je};function b(je){return.5*(1-Math.cos(je*Math.PI))}var Se,Te=4095,Ee=4,Ye=.5;je=(je.default.prototype.noise=function(je){var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,we=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==Se){Se=new Array(4096);for(var Ze=0;Ze<4096;Ze++)Se[Ze]=Math.random()}je<0&&(je=-je),xe<0&&(xe=-xe),we<0&&(we=-we);for(var Qe,Ke,Je=Math.floor(je),$e=Math.floor(xe),et=Math.floor(we),tt=je-Je,rt=xe-$e,ot=we-et,nt=0,st=.5,it=0;it<Ee;it++){var dt=Je+($e<<4)+(et<<8),ht=b(tt),ft=b(rt),pt=Se[dt&Te];pt+=ht*(Se[dt+1&Te]-pt),Qe=Se[dt+16&Te],pt+=ft*((Qe+=ht*(Se[dt+16+1&Te]-Qe))-pt),Qe=Se[(dt+=256)&Te],Qe+=ht*(Se[dt+1&Te]-Qe),Ke=Se[dt+16&Te],Qe+=ft*((Ke+=ht*(Se[dt+16+1&Te]-Ke))-Qe),nt+=(pt+=b(ot)*(Qe-pt))*st,st*=Ye,Je<<=1,$e<<=1,et<<=1,1<=(tt*=2)&&(Je++,tt--),1<=(rt*=2)&&($e++,rt--),1<=(ot*=2)&&(et++,ot--)}return nt},je.default.prototype.noiseDetail=function(je,xe){0<je&&(Ee=je),0<xe&&(Ye=xe)},je.default.prototype.noiseSeed=function(je){Te=4294967296;var xe,we,Te,Ee={setSeed:function(je){we=xe=(null==je?Math.random()*Te:je)>>>0},getSeed:function(){return xe},rand:function(){return(we=(1664525*we+1013904223)%Te)/Te}};Ee.setSeed(je),Se=new Array(4096);for(var Ye=0;Ye<4096;Ye++)Se[Ye]=Ee.rand()},je.default);we.default=je},{"../core/main":280}],313:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.number.is-finite"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.constructor"),xe("core-js/modules/es.number.is-finite"),xe("core-js/modules/es.string.sub"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=l();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function l(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,l=function(){return je},je)}function u(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.Vector=function(){function n(){var xe=this||je,we=n;if(!(xe instanceof we))throw new TypeError("Cannot call a class as a function");var Se,Te;xe="function"==typeof(arguments.length<=0?void 0:arguments[0])?((this||je).isPInst=!0,(this||je)._fromRadians=arguments.length<=0?void 0:arguments[0],(this||je)._toRadians=arguments.length<=1?void 0:arguments[1],Se=(arguments.length<=2?void 0:arguments[2])||0,Te=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(Se=(arguments.length<=0?void 0:arguments[0])||0,Te=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);(this||je).x=Se,(this||je).y=Te,(this||je).z=xe}var xe,we,Se;return xe=n,Se=[{key:"fromAngle",value:function(je,xe){return new Te.default.Vector((xe=void 0===xe?1:xe)*Math.cos(je),xe*Math.sin(je),0)}},{key:"fromAngles",value:function(je,xe,we){void 0===we&&(we=1);var Se=Math.cos(xe),Ee=(xe=Math.sin(xe),Math.cos(je));je=Math.sin(je);return new Te.default.Vector(we*je*xe,-we*Ee,we*je*Se)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*Ee.TWO_PI)}},{key:"random3D",value:function(){var je=Math.random()*Ee.TWO_PI,xe=2*Math.random()-1,we=Math.sqrt(1-xe*xe),Se=we*Math.cos(je);we*=Math.sin(je);return new Te.default.Vector(Se,we,xe)}},{key:"copy",value:function(je){return je.copy(je)}},{key:"add",value:function(je,xe,we){return we?we.set(je):(we=je.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),we.add(xe),we}},{key:"rem",value:function(je,xe){if(je instanceof Te.default.Vector&&xe instanceof Te.default.Vector)return(je=je.copy()).rem(xe),je}},{key:"sub",value:function(je,xe,we){return we?we.set(je):(we=je.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),we.sub(xe),we}},{key:"mult",value:function(je,xe,we){return we?we.set(je):(we=je.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),we.mult(xe),we}},{key:"rotate",value:function(je,xe,we){return 2===arguments.length?we=je.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),we.set(je)),we.rotate(xe),we}},{key:"div",value:function(je,xe,we){return we?we.set(je):(we=je.copy(),3===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),we.div(xe),we}},{key:"dot",value:function(je,xe){return je.dot(xe)}},{key:"cross",value:function(je,xe){return je.cross(xe)}},{key:"dist",value:function(je,xe){return je.dist(xe)}},{key:"lerp",value:function(je,xe,we,Se){return Se?Se.set(je):(Se=je.copy(),4===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),Se.lerp(xe,we),Se}},{key:"slerp",value:function(je,xe,we,Se){return Se?Se.set(je):(Se=je.copy(),4===arguments.length&&Te.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),Se.slerp(xe,we),Se}},{key:"mag",value:function(je){return je.mag()}},{key:"magSq",value:function(je){return je.magSq()}},{key:"normalize",value:function(je,xe){return arguments.length<2?xe=je.copy():(xe instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),xe.set(je)),xe.normalize()}},{key:"limit",value:function(je,xe,we){return arguments.length<3?we=je.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),we.set(je)),we.limit(xe)}},{key:"setMag",value:function(je,xe,we){return arguments.length<3?we=je.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),we.set(je)),we.setMag(xe)}},{key:"heading",value:function(je){return je.heading()}},{key:"angleBetween",value:function(je,xe){return je.angleBetween(xe)}},{key:"reflect",value:function(je,xe,we){return arguments.length<3?we=je.copy():(we instanceof Te.default.Vector||Te.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),we.set(je)),we.reflect(xe)}},{key:"array",value:function(je){return je.array()}},{key:"equals",value:function(je,xe){var we;return je instanceof Te.default.Vector?we=je:Array.isArray(je)?we=(new Te.default.Vector).set(je):Te.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),we.equals(xe)}}],(we=[{key:"toString",value:function(){return"p5.Vector Object : [".concat((this||je).x,", ").concat((this||je).y,", ").concat((this||je).z,"]")}},{key:"set",value:function(xe,we,Se){return xe instanceof Te.default.Vector?((this||je).x=xe.x||0,(this||je).y=xe.y||0,(this||je).z=xe.z||0):Array.isArray(xe)?((this||je).x=xe[0]||0,(this||je).y=xe[1]||0,(this||je).z=xe[2]||0):((this||je).x=xe||0,(this||je).y=we||0,(this||je).z=Se||0),this||je}},{key:"copy",value:function(){return(this||je).isPInst?new Te.default.Vector((this||je)._fromRadians,(this||je)._toRadians,(this||je).x,(this||je).y,(this||je).z):new Te.default.Vector((this||je).x,(this||je).y,(this||je).z)}},{key:"add",value:function(xe,we,Se){return xe instanceof Te.default.Vector?((this||je).x+=xe.x||0,(this||je).y+=xe.y||0,(this||je).z+=xe.z||0):Array.isArray(xe)?((this||je).x+=xe[0]||0,(this||je).y+=xe[1]||0,(this||je).z+=xe[2]||0):((this||je).x+=xe||0,(this||je).y+=we||0,(this||je).z+=Se||0),this||je}},{key:"calculateRemainder2D",value:function(xe,we){return 0!==xe&&((this||je).x=(this||je).x%xe),0!==we&&((this||je).y=(this||je).y%we),this||je}},{key:"calculateRemainder3D",value:function(xe,we,Se){return 0!==xe&&((this||je).x=(this||je).x%xe),0!==we&&((this||je).y=(this||je).y%we),0!==Se&&((this||je).z=(this||je).z%Se),this||je}},{key:"rem",value:function(xe,we,Se){var Ee;if(xe instanceof Te.default.Vector){if([xe.x,xe.y,xe.z].every(Number.isFinite))return Ye=parseFloat(xe.x),Ze=parseFloat(xe.y),Ee=parseFloat(xe.z),this.calculateRemainder3D(Ye,Ze,Ee)}else if(Array.isArray(xe)){if(xe.every((function(je){return Number.isFinite(je)})))return 2===xe.length?this.calculateRemainder2D(xe[0],xe[1]):3===xe.length?this.calculateRemainder3D(xe[0],xe[1],xe[2]):void 0}else if(1===arguments.length){if(Number.isFinite(xe)&&0!==xe)return(this||je).x=(this||je).x%xe,(this||je).y=(this||je).y%xe,(this||je).z=(this||je).z%xe,this||je}else if(2===arguments.length){var Ye=Array.prototype.slice.call(arguments);if(Ye.every((function(je){return Number.isFinite(je)}))&&2===Ye.length)return this.calculateRemainder2D(Ye[0],Ye[1])}else if(3===arguments.length){var Ze=Array.prototype.slice.call(arguments);if(Ze.every((function(je){return Number.isFinite(je)}))&&3===Ze.length)return this.calculateRemainder3D(Ze[0],Ze[1],Ze[2])}}},{key:"sub",value:function(xe,we,Se){return xe instanceof Te.default.Vector?((this||je).x-=xe.x||0,(this||je).y-=xe.y||0,(this||je).z-=xe.z||0):Array.isArray(xe)?((this||je).x-=xe[0]||0,(this||je).y-=xe[1]||0,(this||je).z-=xe[2]||0):((this||je).x-=xe||0,(this||je).y-=we||0,(this||je).z-=Se||0),this||je}},{key:"mult",value:function(xe,we,Se){var Ee;return xe instanceof Te.default.Vector?Number.isFinite(xe.x)&&Number.isFinite(xe.y)&&Number.isFinite(xe.z)&&"number"==typeof xe.x&&"number"==typeof xe.y&&"number"==typeof xe.z?((this||je).x*=xe.x,(this||je).y*=xe.y,(this||je).z*=xe.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(xe)?xe.every((function(je){return Number.isFinite(je)}))&&xe.every((function(je){return"number"==typeof je}))?1===xe.length?((this||je).x*=xe[0],(this||je).y*=xe[0],(this||je).z*=xe[0]):2===xe.length?((this||je).x*=xe[0],(this||je).y*=xe[1]):3===xe.length&&((this||je).x*=xe[0],(this||je).y*=xe[1],(this||je).z*=xe[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(Ee=Array.prototype.slice.call(arguments)).every((function(je){return Number.isFinite(je)}))&&Ee.every((function(je){return"number"==typeof je}))?(1===arguments.length&&((this||je).x*=xe,(this||je).y*=xe,(this||je).z*=xe),2===arguments.length&&((this||je).x*=xe,(this||je).y*=we),3===arguments.length&&((this||je).x*=xe,(this||je).y*=we,(this||je).z*=Se)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this||je}},{key:"div",value:function(xe,we,Se){if(xe instanceof Te.default.Vector)if(Number.isFinite(xe.x)&&Number.isFinite(xe.y)&&Number.isFinite(xe.z)&&"number"==typeof xe.x&&"number"==typeof xe.y&&"number"==typeof xe.z){var Ee=0===xe.z&&0===(this||je).z;if(0===xe.x||0===xe.y||!Ee&&0===xe.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this||je;(this||je).x/=xe.x,(this||je).y/=xe.y,Ee||((this||je).z/=xe.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(xe))if(xe.every((function(je){return Number.isFinite(je)}))&&xe.every((function(je){return"number"==typeof je}))){if(xe.some((function(je){return 0===je})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this||je;1===xe.length?((this||je).x/=xe[0],(this||je).y/=xe[0],(this||je).z/=xe[0]):2===xe.length?((this||je).x/=xe[0],(this||je).y/=xe[1]):3===xe.length&&((this||je).x/=xe[0],(this||je).y/=xe[1],(this||je).z/=xe[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{Ee=Array.prototype.slice.call(arguments);if(Ee.every((function(je){return Number.isFinite(je)}))&&Ee.every((function(je){return"number"==typeof je}))){if(Ee.some((function(je){return 0===je})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this||je;1===arguments.length&&((this||je).x/=xe,(this||je).y/=xe,(this||je).z/=xe),2===arguments.length&&((this||je).x/=xe,(this||je).y/=we),3===arguments.length&&((this||je).x/=xe,(this||je).y/=we,(this||je).z/=Se)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this||je}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var xe=(this||je).x,we=(this||je).y,Se=(this||je).z;return xe*xe+we*we+Se*Se}},{key:"dot",value:function(xe,we,Se){return xe instanceof Te.default.Vector?this.dot(xe.x,xe.y,xe.z):(this||je).x*(xe||0)+(this||je).y*(we||0)+(this||je).z*(Se||0)}},{key:"cross",value:function(xe){var we=(this||je).y*xe.z-(this||je).z*xe.y,Se=(this||je).z*xe.x-(this||je).x*xe.z;xe=(this||je).x*xe.y-(this||je).y*xe.x;return(this||je).isPInst?new Te.default.Vector((this||je)._fromRadians,(this||je)._toRadians,we,Se,xe):new Te.default.Vector(we,Se,xe)}},{key:"dist",value:function(xe){return xe.copy().sub(this||je).mag()}},{key:"normalize",value:function(){var xe=this.mag();return 0!==xe&&this.mult(1/xe),this||je}},{key:"limit",value:function(xe){var we=this.magSq();return xe*xe<we&&this.div(Math.sqrt(we)).mult(xe),this||je}},{key:"setMag",value:function(je){return this.normalize().mult(je)}},{key:"heading",value:function(){var xe=Math.atan2((this||je).y,(this||je).x);return(this||je).isPInst?this._fromRadians(xe):xe}},{key:"setHeading",value:function(xe){(this||je).isPInst&&(xe=this._toRadians(xe));var we=this.mag();return(this||je).x=we*Math.cos(xe),(this||je).y=we*Math.sin(xe),this||je}},{key:"rotate",value:function(xe){xe=this.heading()+xe;var we=((this||je).isPInst&&(xe=this._toRadians(xe)),this.mag());return(this||je).x=Math.cos(xe)*we,(this||je).y=Math.sin(xe)*we,this||je}},{key:"angleBetween",value:function(xe){var we;return 0==this.magSq()*xe.magSq()?NaN:(we=this.cross(xe),xe=Math.atan2(we.mag(),this.dot(xe))*Math.sign(we.z||1),(this||je).isPInst?this._fromRadians(xe):xe)}},{key:"lerp",value:function(xe,we,Se,Ee){return xe instanceof Te.default.Vector?this.lerp(xe.x,xe.y,xe.z,we):((this||je).x+=(xe-(this||je).x)*Ee||0,(this||je).y+=(we-(this||je).y)*Ee||0,(this||je).z+=(Se-(this||je).z)*Ee||0,this||je)}},{key:"slerp",value:function(xe,we){if(0!==we){if(1===we)return this.set(xe);var Se=this.mag(),Te=xe.mag();if(0==Se*Te)this.mult(1-we).add(xe.x*we,xe.y*we,xe.z*we);else{var Ee=this.cross(xe),Ye=Ee.mag(),Ze=Math.atan2(Ye,this.dot(xe));if(0<Ye)Ee.x/=Ye,Ee.y/=Ye,Ee.z/=Ye;else{if(Ze<.5*Math.PI)return this.mult(1-we).add(xe.x*we,xe.y*we,xe.z*we),this||je;0===(this||je).z&&0===xe.z?Ee.set(0,0,1):0!==(this||je).x?Ee.set((this||je).y,-(this||je).x,0).normalize():Ee.set(1,0,0)}Ye=Ee.cross(this||je),xe=1-we+we*Te/Se,Ee=xe*Math.cos(we*Ze),Te=xe*Math.sin(we*Ze);(this||je).x=(this||je).x*Ee+Ye.x*Te,(this||je).y=(this||je).y*Ee+Ye.y*Te,(this||je).z=(this||je).z*Ee+Ye.z*Te}}return this||je}},{key:"reflect",value:function(je){return je.normalize(),this.sub(je.mult(2*this.dot(je)))}},{key:"array",value:function(){return[(this||je).x||0,(this||je).y||0,(this||je).z||0]}},{key:"equals",value:function(xe,we,Se){var Ee,Ye;xe=xe instanceof Te.default.Vector?(Ee=xe.x||0,Ye=xe.y||0,xe.z||0):Array.isArray(xe)?(Ee=xe[0]||0,Ye=xe[1]||0,xe[2]||0):(Ee=xe||0,Ye=we||0,Se||0);return(this||je).x===Ee&&(this||je).y===Ye&&(this||je).z===xe}}])&&u(xe.prototype,we),Se&&u(xe,Se),n}();var Ye=Te.default.Vector;Se.default=Ye},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};var Ee="_lcg_random_state",Ye=4294967296,Ze=0;xe=(Te.default.prototype._lcg=function(xe){return(this||je)[xe]=(1664525*(this||je)[xe]+1013904223)%Ye,(this||je)[xe]/Ye},Te.default.prototype._lcgSetSeed=function(xe,we){(this||je)[xe]=(null==we?Math.random()*Ye:we)>>>0},Te.default.prototype.randomSeed=function(xe){this._lcgSetSeed(Ee,xe),(this||je)._gaussian_previous=!1},Te.default.prototype.random=function(xe,we){var Se,Ye;return Te.default._validateParameters("random",arguments),Se=null!=(this||je)[Ee]?this._lcg(Ee):Math.random(),void 0===xe?Se:void 0===we?Array.isArray(xe)?xe[Math.floor(Se*xe.length)]:Se*xe:(we<xe&&(Ye=xe,xe=we,we=Ye),Se*(we-xe)+xe)},Te.default.prototype.randomGaussian=function(xe){var we,Se,Te,Ee,Ye=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if((this||je)._gaussian_previous)we=Ze,(this||je)._gaussian_previous=!1;else{for(;1<=(Ee=(Se=this.random(2)-1)*Se+(Te=this.random(2)-1)*Te););we=Se*(Ee=Math.sqrt(-2*Math.log(Ee)/Ee)),Ze=Te*Ee,(this||je)._gaussian_previous=!0}return we*Ye+(xe||0)},Te.default);Se.default=xe},{"../core/main":280}],315:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}Te.default.prototype._angleMode=Ee.RADIANS,Te.default.prototype.acos=function(je){return this._fromRadians(Math.acos(je))},Te.default.prototype.asin=function(je){return this._fromRadians(Math.asin(je))},Te.default.prototype.atan=function(je){return this._fromRadians(Math.atan(je))},Te.default.prototype.atan2=function(je,xe){return this._fromRadians(Math.atan2(je,xe))},Te.default.prototype.cos=function(je){return Math.cos(this._toRadians(je))},Te.default.prototype.sin=function(je){return Math.sin(this._toRadians(je))},Te.default.prototype.tan=function(je){return Math.tan(this._toRadians(je))},Te.default.prototype.degrees=function(je){return je*Ee.RAD_TO_DEG},Te.default.prototype.radians=function(je){return je*Ee.DEG_TO_RAD},Te.default.prototype.angleMode=function(xe){if(Te.default._validateParameters("angleMode",arguments),void 0===xe)return(this||je)._angleMode;xe!==Ee.DEGREES&&xe!==Ee.RADIANS||xe!==(this||je)._angleMode&&(xe===Ee.RADIANS?(this._setProperty("pRotationX",(this||je).pRotationX*Ee.DEG_TO_RAD),this._setProperty("pRotationY",(this||je).pRotationY*Ee.DEG_TO_RAD),this._setProperty("pRotationZ",(this||je).pRotationZ*Ee.DEG_TO_RAD)):(this._setProperty("pRotationX",(this||je).pRotationX*Ee.RAD_TO_DEG),this._setProperty("pRotationY",(this||je).pRotationY*Ee.RAD_TO_DEG),this._setProperty("pRotationZ",(this||je).pRotationZ*Ee.RAD_TO_DEG)),(this||je)._angleMode=xe)},Te.default.prototype._toRadians=function(xe){return(this||je)._angleMode===Ee.DEGREES?xe*Ee.DEG_TO_RAD:xe},Te.default.prototype._toDegrees=function(xe){return(this||je)._angleMode===Ee.RADIANS?xe*Ee.RAD_TO_DEG:xe},Te.default.prototype._fromRadians=function(xe){return(this||je)._angleMode===Ee.DEGREES?xe*Ee.RAD_TO_DEG:xe},Te.default.prototype._fromDegrees=function(xe){return(this||je)._angleMode===Ee.RADIANS?xe*Ee.DEG_TO_RAD:xe};var Ye=Te.default;Se.default=Ye},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(xe,we,Se){xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.textAlign=function(xe,we){var Se;return Te.default._validateParameters("textAlign",arguments),(Se=(this||je)._renderer).textAlign.apply(Se,arguments)},Te.default.prototype.textLeading=function(xe){var we;return Te.default._validateParameters("textLeading",arguments),(we=(this||je)._renderer).textLeading.apply(we,arguments)},Te.default.prototype.textSize=function(xe){var we;return Te.default._validateParameters("textSize",arguments),(we=(this||je)._renderer).textSize.apply(we,arguments)},Te.default.prototype.textStyle=function(xe){var we;return Te.default._validateParameters("textStyle",arguments),(we=(this||je)._renderer).textStyle.apply(we,arguments)},Te.default.prototype.textWidth=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];if(we[0]+="",Te.default._validateParameters("textWidth",we),0===we[0].length)return 0;for(var Ee=we[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),Ye=[],Ze=0;Ze<Ee.length;Ze++)Ye.push((this||je)._renderer.textWidth(Ee[Ze]));return Math.max.apply(Math,Ye)},Te.default.prototype.textAscent=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("textAscent",we),(this||je)._renderer.textAscent()},Te.default.prototype.textDescent=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("textDescent",we),(this||je)._renderer.textDescent()},Te.default.prototype._updateTextMetrics=function(){return(this||je)._renderer._updateTextMetrics()},Te.default.prototype.textWrap=function(xe){if("WORD"!==xe&&"CHAR"!==xe)throw"Error: textWrap accepts only WORD or CHAR";return(this||je)._renderer.textWrap(xe)};xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.last-index-of"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.split"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("../core/main"))&&Ze.__esModule?Ze:{default:Ze},Ee=s(xe("../core/constants")),Ye=s(xe("opentype.js"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function s(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se,Te={},Ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je)Object.prototype.hasOwnProperty.call(je,we)&&((Se=Ee?Object.getOwnPropertyDescriptor(je,we):null)&&(Se.get||Se.set)?Object.defineProperty(Te,we,Se):Te[we]=je[we]);return Te.default=je,xe&&xe.set(je,Te),Te}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.loadFont=function(xe,we,Se){Te.default._validateParameters("loadFont",arguments);var Ee=new Te.default.Font(this||je),Ze=this||je;return Ye.load(xe,(function(je,Ye){if(je)return Te.default._friendlyFileLoadError(4,xe),void 0!==Se?Se(je):void console.error(je,xe);Ee.font=Ye,void 0!==we&&we(Ee),Ze._decrementPreload();je=xe.split("\\").pop().split("/").pop(),Ye=je.lastIndexOf(".");var Qe=Ye<1?null:je.slice(Ye+1);["ttf","otf","woff","woff2"].includes(Qe)&&(Qe=je.slice(0,-1!==Ye?Ye:0),(je=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(Qe,";\nsrc: url(").concat(xe,");\n}\n"))),document.head.appendChild(je))})),Ee},Te.default.prototype.text=function(xe,we,Se,Ee,Ye){var Ze;return Te.default._validateParameters("text",arguments),(this||je)._renderer._doFill||(this||je)._renderer._doStroke?(Ze=(this||je)._renderer).text.apply(Ze,arguments):this||je},Te.default.prototype.textFont=function(xe,we){if(Te.default._validateParameters("textFont",arguments),arguments.length){if(xe)return(this||je)._renderer._setProperty("_textFont",xe),we&&((this||je)._renderer._setProperty("_textSize",we),(this||je)._renderer._leadingSet||(this||je)._renderer._setProperty("_textLeading",we*Ee._DEFAULT_LEADMULT)),(this||je)._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return(this||je)._renderer._textFont};var Ze=Te.default;Se.default=Ze},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Te=xe("../core/main"))&&Te.__esModule?Te:{default:Te},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==_(je)&&"function"!=typeof je)return{default:je};var xe=i();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function i(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,i=function(){return je},je)}function _(je){return(_="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function j(je,xe){var we=je.length;return je[xe<0?xe%we+we:xe%we]}function x(je,xe,we,Se){var Te,Ee,Ye;return Se?(void 0===x.tmpPoint1&&(x.tmpPoint1=[],x.tmpPoint2=[]),Ee=x.tmpPoint1,Ye=x.tmpPoint2,Ee.x=xe.x-je.x,Ee.y=xe.y-je.y,Ye.x=we.x-xe.x,Ye.y=we.y-xe.y,Te=Ee.x*Ye.x+Ee.y*Ye.y,Ee=Math.sqrt(Ee.x*Ee.x+Ee.y*Ee.y),Ye=Math.sqrt(Ye.x*Ye.x+Ye.y*Ye.y),Math.acos(Te/(Ee*Ye))<Se):0==(xe[0]-je[0])*(we[1]-je[1])-(we[0]-je[0])*(xe[1]-je[1])}function d(je,xe,we,Se,Te,Ee,Ye,Ze,Qe){var Ke=1-Qe,Je=Math.pow(Ke,3),$e=Math.pow(Ke,2),et=Qe*Qe,tt=et*Qe,rt=Je*je+3*$e*Qe*we+3*Ke*Qe*Qe*Te+tt*Ye,ot=(Je=Je*xe+3*$e*Qe*Se+3*Ke*Qe*Qe*Ee+tt*Ze,$e=je+2*Qe*(we-je)+et*(Te-2*we+je),tt=xe+2*Qe*(Se-xe)+et*(Ee-2*Se+xe),we+2*Qe*(Te-we)+et*(Ye-2*Te+we));et=Se+2*Qe*(Ee-Se)+et*(Ze-2*Ee+Se),je=Ke*je+Qe*we,we=Ke*xe+Qe*Se,xe=Ke*Te+Qe*Ye,Se=Ke*Ee+Qe*Ze,Te=90-180*Math.atan2($e-ot,tt-et)/Math.PI;return(ot<$e||tt<et)&&(Te+=180),{x:rt,y:Je,m:{x:$e,y:tt},n:{x:ot,y:et},start:{x:je,y:we},end:{x:xe,y:Se},alpha:Te}}function h(je,xe,we,Se,Te,Ee,Ye,Ze,Qe){return null==Qe?f(je,xe,we,Se,Te,Ee,Ye,Ze):d(je,xe,we,Se,Te,Ee,Ye,Ze,function(je,xe,we,Se,Te,Ee,Ye,Ze,Qe){if(!(Qe<0||f(je,xe,we,Se,Te,Ee,Ye,Ze)<Qe)){var Ke,Je=.5,$e=1-Je;for(Ke=f(je,xe,we,Se,Te,Ee,Ye,Ze,$e);.01<Math.abs(Ke-Qe);)Ke=f(je,xe,we,Se,Te,Ee,Ye,Ze,$e+=(Ke<Qe?1:-1)*(Je/=2));return $e}}(je,xe,we,Se,Te,Ee,Ye,Ze,Qe))}function w(je,xe,we){for(var Se,Te,Ee,Ye,Ze,Qe=0,Ke=0,Je=(je=function(je,xe){function r(je,xe,we){var Se,Te;if(!je)return["C",xe.x,xe.y,xe.x,xe.y,xe.x,xe.y];switch(je[0]in{T:1,Q:1}||(xe.qx=xe.qy=null),je[0]){case"M":xe.X=je[1],xe.Y=je[2];break;case"A":je=["C"].concat(E.apply(0,[xe.x,xe.y].concat(je.slice(1))));break;case"S":Te="C"===we||"S"===we?(Se=2*xe.x-xe.bx,2*xe.y-xe.by):(Se=xe.x,xe.y),je=["C",Se,Te].concat(je.slice(1));break;case"T":"Q"===we||"T"===we?(xe.qx=2*xe.x-xe.qx,xe.qy=2*xe.y-xe.qy):(xe.qx=xe.x,xe.qy=xe.y),je=["C"].concat(M(xe.x,xe.y,xe.qx,xe.qy,je[1],je[2]));break;case"Q":xe.qx=je[1],xe.qy=je[2],je=["C"].concat(M(xe.x,xe.y,je[1],je[2],je[3],je[4]));break;case"L":je=["C"].concat(T(xe.x,xe.y,je[1],je[2]));break;case"H":je=["C"].concat(T(xe.x,xe.y,je[1],xe.y));break;case"V":je=["C"].concat(T(xe.x,xe.y,xe.x,je[1]));break;case"Z":je=["C"].concat(T(xe.x,xe.y,xe.X,xe.Y))}return je}function o(je,xe){if(7<je[xe].length){je[xe].shift();for(var Ee=je[xe];Ee.length;)Ze[xe]="A",Te&&(Qe[xe]="A"),je.splice(xe++,0,["C"].concat(Ee.splice(0,6)));je.splice(xe,1),we=Math.max(Se.length,Te&&Te.length||0)}}function n(je,xe,Ee,Ye,Ze){je&&xe&&"M"===je[Ze][0]&&"M"!==xe[Ze][0]&&(xe.splice(Ze,0,["M",Ye.x,Ye.y]),Ee.bx=0,Ee.by=0,Ee.x=je[Ze][1],Ee.y=je[Ze][2],we=Math.max(Se.length,Te&&Te.length||0))}var we,Se=b(je),Te=xe&&b(xe),Ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ye={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ze=[],Qe=[],Ke="",Je="";we=Math.max(Se.length,Te&&Te.length||0);for(var $e=0;$e<we;$e++){"C"!==(Ke=Se[$e]?Se[$e][0]:Ke)&&(Ze[$e]=Ke,$e&&(Je=Ze[$e-1])),Se[$e]=r(Se[$e],Ee,Je),"A"!==Ze[$e]&&"C"===Ke&&(Ze[$e]="C"),o(Se,$e),Te&&("C"!==(Ke=Te[$e]?Te[$e][0]:Ke)&&(Qe[$e]=Ke,$e&&(Je=Qe[$e-1])),Te[$e]=r(Te[$e],Ye,Je),"A"!==Qe[$e]&&"C"===Ke&&(Qe[$e]="C"),o(Te,$e)),n(Se,Te,Ee,Ye,$e),n(Te,Se,Ye,Ee,$e);var et=Se[$e],tt=Te&&Te[$e],rt=et.length,ot=Te&&tt.length;Ee.x=et[rt-2],Ee.y=et[rt-1],Ee.bx=parseFloat(et[rt-4])||Ee.x,Ee.by=parseFloat(et[rt-3])||Ee.y,Ye.bx=Te&&(parseFloat(tt[ot-4])||Ye.x),Ye.by=Te&&(parseFloat(tt[ot-3])||Ye.y),Ye.x=Te&&tt[ot-2],Ye.y=Te&&tt[ot-1]}return Te?[Se,Te]:Se}(je)).length;Ke<Je;Ke++){if("M"===(Ee=je[Ke])[0])Se=+Ee[1],Te=+Ee[2];else{if(xe<Qe+(Ye=h(Se,Te,Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6]))&&!we)return{x:(Ze=h(Se,Te,Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],Ee[6],xe-Qe)).x,y:Ze.y,alpha:Ze.alpha};Qe+=Ye,Se=+Ee[5],Te=+Ee[6]}Ee.shift()}return(Ze=we?Qe:d(Se,Te,Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5],1)).alpha?{x:Ze.x,y:Ze.y,alpha:Ze.alpha}:Ze}function b(je){var xe=[],we=0,Se=0,Te=0,Ee=0,Ye=0;if(je){"M"===je[0][0]&&(Te=we=+je[0][1],Ee=Se=+je[0][2],Ye++,xe[0]=["M",we,Se]);for(var Ze,Qe,Ke=3===je.length&&"M"===je[0][0]&&"R"===je[1][0].toUpperCase()&&"Z"===je[2][0].toUpperCase(),Je=Ye,$e=je.length;Je<$e;Je++){if(xe.push(Ze=[]),(Qe=je[Je])[0]!==Qe[0].toUpperCase())switch(Ze[0]=Qe[0].toUpperCase(),Ze[0]){case"A":Ze[1]=Qe[1],Ze[2]=Qe[2],Ze[3]=Qe[3],Ze[4]=Qe[4],Ze[5]=Qe[5],Ze[6]=+(Qe[6]+we),Ze[7]=+(Qe[7]+Se);break;case"V":Ze[1]=+Qe[1]+Se;break;case"H":Ze[1]=+Qe[1]+we;break;case"R":for(var et,tt=2,rt=(et=[we,Se].concat(Qe.slice(1))).length;tt<rt;tt++)et[tt]=+et[tt]+we,et[++tt]=+et[tt]+Se;xe.pop(),xe=xe.concat(S(et,Ke));break;case"M":Te=+Qe[1]+we,Ee=+Qe[2]+Se;break;default:for(var ot=1,nt=Qe.length;ot<nt;ot++)Ze[ot]=+Qe[ot]+(ot%2?we:Se)}else if("R"===Qe[0])et=[we,Se].concat(Qe.slice(1)),xe.pop(),xe=xe.concat(S(et,Ke)),Ze=["R"].concat(Qe.slice(-2));else for(var st=0,it=Qe.length;st<it;st++)Ze[st]=Qe[st];switch(Ze[0]){case"Z":we=Te,Se=Ee;break;case"H":we=Ze[1];break;case"V":Se=Ze[1];break;case"M":Te=Ze[Ze.length-2],Ee=Ze[Ze.length-1];break;default:we=Ze[Ze.length-2],Se=Ze[Ze.length-1]}}}return xe}function E(je,xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke){function c(je,xe,we){return{x:je*Math.cos(we)-xe*Math.sin(we),y:je*Math.sin(we)+xe*Math.cos(we)}}var Je,$e=Math.PI,et=120*$e/180,tt=$e/180*(+Te||0),rt=[],ot=(Ke?(ft=Ke[0],Je=Ke[1],dt=Ke[2],ht=Ke[3]):(je=(st=c(je,xe,-tt)).x,xe=st.y,1<(ot=(nt=(je-(Ze=(st=c(Ze,Qe,-tt)).x))/2)*nt/(we*we)+(st=(xe-(Qe=st.y))/2)*st/(Se*Se))&&(we*=ot=Math.sqrt(ot),Se*=ot),ot=we*we,it=Se*Se,dt=(Ee=(Ee===Ye?-1:1)*Math.sqrt(Math.abs((ot*it-ot*st*st-it*nt*nt)/(ot*st*st+it*nt*nt))))*we*st/Se+(je+Ze)/2,ht=Ee*-Se*nt/we+(xe+Qe)/2,ft=Math.asin(((xe-ht)/Se).toFixed(9)),Je=Math.asin(((Qe-ht)/Se).toFixed(9)),(ft=je<dt?$e-ft:ft)<0&&(ft=2*$e+ft),(Je=Ze<dt?$e-Je:Je)<0&&(Je=2*$e+Je),Ye&&Je<ft&&(ft-=2*$e),!Ye&&ft<Je&&(Je-=2*$e)),Je-ft),nt=(Math.abs(ot)>et&&(it=Je,st=Ze,Ee=Qe,Je=ft+et*(Ye&&ft<Je?1:-1),rt=E(Ze=dt+we*Math.cos(Je),Qe=ht+Se*Math.sin(Je),we,Se,Te,0,Ye,st,Ee,[Je,it,dt,ht])),ot=Je-ft,Math.cos(ft)),st=($e=Math.sin(ft),et=Math.cos(Je),Te=Math.sin(Je),Ye=Math.tan(ot/4),4/3*we*Ye),it=(Ee=4/3*Se*Ye,[je,xe]),dt=[je+st*$e,xe-Ee*nt],ht=[Ze+st*Te,Qe-Ee*et],ft=[Ze,Qe];if(dt[0]=2*it[0]-dt[0],dt[1]=2*it[1]-dt[1],Ke)return[dt,ht,ft].concat(rt);for(var pt=[],mt=0,yt=(rt=[dt,ht,ft].concat(rt).join().split(",")).length;mt<yt;mt++)pt[mt]=mt%2?c(rt[mt-1],rt[mt],tt).y:c(rt[mt],rt[mt+1],tt).x;return pt}function S(je,xe){for(var we=[],Se=0,Te=je.length;Se<Te-2*!xe;Se+=2){var Ee=[{x:+je[Se-2],y:+je[Se-1]},{x:+je[Se],y:+je[Se+1]},{x:+je[Se+2],y:+je[Se+3]},{x:+je[Se+4],y:+je[Se+5]}];xe?Se?Te-4===Se?Ee[3]={x:+je[0],y:+je[1]}:Te-2===Se&&(Ee[2]={x:+je[0],y:+je[1]},Ee[3]={x:+je[2],y:+je[3]}):Ee[0]={x:+je[Te-2],y:+je[Te-1]}:Te-4===Se?Ee[3]=Ee[2]:Se||(Ee[0]={x:+je[Se],y:+je[Se+1]}),we.push(["C",(-Ee[0].x+6*Ee[1].x+Ee[2].x)/6,(-Ee[0].y+6*Ee[1].y+Ee[2].y)/6,(Ee[1].x+6*Ee[2].x-Ee[3].x)/6,(Ee[1].y+6*Ee[2].y-Ee[3].y)/6,Ee[2].x,Ee[2].y])}return we}function T(je,xe,we,Se){return[je,xe,we,Se,we,Se]}function M(je,xe,we,Se,Te,Ee){return[1/3*je+2/3*we,1/3*xe+2/3*Se,1/3*Te+2/3*we,1/3*Ee+2/3*Se,Te,Ee]}function f(je,xe,we,Se,Te,Ee,Ye,Ze,Qe){for(var Ke=(Qe=1<(Qe=null==Qe?1:Qe)?1:Qe<0?0:Qe)/2,Je=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],$e=0,et=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],tt=0;tt<12;tt++){var rt=Ke*Je[tt]+Ke,ot=y(rt,je,we,Te,Ye);rt=y(rt,xe,Se,Ee,Ze);$e+=et[tt]*Math.sqrt(ot*ot+rt*rt)}return Ke*$e}function y(je,xe,we,Se,Te){return je*(je*(-3*xe+9*we-9*Se+3*Te)+6*xe-12*we+6*Se)-3*xe+3*we}Te.default.Font=function(){function t(xe){if(!((this||je)instanceof t))throw new TypeError("Cannot call a class as a function");(this||je).parent=xe,(this||je).cache={},(this||je).font=void 0}var xe,we,Se;return xe=t,(we=[{key:"textBounds",value:function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,Se=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,Te=3<arguments.length?arguments[3]:void 0,Ye=4<arguments.length?arguments[4]:void 0,Ze=Ye&&Ye.renderer&&Ye.renderer._pInst||(this||je).parent,Qe=Ze._renderer.drawingContext;Te=(Qe.textAlign||Ee.LEFT,Qe.textBaseline||Ee.BASELINE,Te||Ze._renderer._textSize);if(!dt){for(var Ke=[],Je=[],$e=[],et=($e[0]=[],[]),tt=this._scale(Te),rt=Ze._renderer.textLeading(),ot=0,nt=((this||je).font.forEachGlyph(xe,we,Se,Te,Ye,(function(je,xe,we,Se){var Te=je.getMetrics();0===je.index?$e[ot+=1]=[]:($e[ot].push(xe+Te.xMin*tt),$e[ot].push(xe+Te.xMax*tt),et.push(we+ot*rt+-Te.yMin*tt),et.push(we+ot*rt+-Te.yMax*tt))})),0<$e[ot].length&&(Ke[ot]=Math.min.apply(null,$e[ot]),Je[ot]=Math.max.apply(null,$e[ot])),0),st=0;st<=ot;st++){Ke[st]=Math.min.apply(null,$e[st]),Je[st]=Math.max.apply(null,$e[st]);var it=Je[st]-Ke[st];nt<it&&(nt=it)}Qe=Math.min.apply(null,Ke);var dt={x:Qe,y:Se=Math.min.apply(null,et),h:Math.max.apply(null,et)-Se,w:nt,advance:Qe-we};Te=this._handleAlignment(Ze._renderer,xe,dt.x,dt.y,dt.w+dt.advance);dt.x=Te.x,dt.y=Te.y}return dt}},{key:"textToPoints",value:function(xe,we,Se,Te,Ee){var Ye=we,Ze=[],Qe=xe.split(/\r?\n|\r|\n/g);Te=Te||(this||je).parent._renderer._textSize;for(var Ke,Je,$e,et=0;et<Qe.length;et++){var tt=0;we=Ye;for(var rt=(rt=Qe[et]).replace("\t","  "),ot=this._getGlyphs(rt),nt=0;nt<ot.length;nt++){if(Je=rt,!(($e=ot)[Ke=nt].name&&"space"===$e[Ke].name||Je.length===$e.length&&" "===Je[Ke]))for(var st=function(je){for(var xe,we=[],Se=0;Se<je.length;Se++)"M"===je[Se].type&&(xe&&we.push(xe),xe=[]),xe.push(function(je){var xe=[je.type];"M"===je.type||"L"===je.type?xe.push(je.x,je.y):"C"===je.type?xe.push(je.x1,je.y1,je.x2,je.y2,je.x,je.y):"Q"===je.type&&xe.push(je.x1,je.y1,je.x,je.y);return xe}(je[Se]));return we.push(xe),we}(ot[nt].getPath(we,Se,Te).commands),it=0;it<st.length;it++)for(var dt=function(je,xe){xe=function(je,xe){if("object"!==_(je))je=xe;else for(var we in xe)void 0===je[we]&&(je[we]=xe[we]);return je}(xe,{sampleFactor:.1,simplifyThreshold:0});for(var we=w(je,0,1),Se=we/(we*xe.sampleFactor),Te=[],Ee=0;Ee<we;Ee+=Se)Te.push(w(je,Ee));xe.simplifyThreshold&&!function(je){for(var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,we=0,Se=je.length-1;3<je.length&&0<=Se;--Se)x(j(je,Se-1),j(je,Se),j(je,Se+1),xe)&&(je.splice(Se%je.length,1),we++)}(Te,xe.simplifyThreshold);return Te}(st[it],Ee),ht=0;ht<dt.length;ht++)dt[ht].x+=tt,Ze.push(dt[ht]);tt+=ot[nt].advanceWidth*this._scale(Te)}Se+=(this||je).parent._renderer._textLeading}return Ze}},{key:"_getGlyphs",value:function(xe){return(this||je).font.stringToGlyphs(xe)}},{key:"_getPath",value:function(xe,we,Se,Te){var Ee=(Te&&Te.renderer&&Te.renderer._pInst||(this||je).parent)._renderer;we=this._handleAlignment(Ee,xe,we,Se);return(this||je).font.getPath(xe,we.x,we.y,Ee._textSize,Te)}},{key:"_getPathData",value:function(je,xe,we,Se){var Te=3;return"string"==typeof je&&2<arguments.length?je=this._getPath(je,xe,we,Se):"object"===_(xe)&&(Se=xe),Se&&"number"==typeof Se.decimals&&(Te=Se.decimals),je.toPathData(Te)}},{key:"_getSVG",value:function(je,xe,we,Se){var Te=3;return"string"==typeof je&&2<arguments.length?je=this._getPath(je,xe,we,Se):"object"===_(xe)&&(Se=xe),Se&&("number"==typeof Se.decimals&&(Te=Se.decimals),"number"==typeof Se.strokeWidth&&(je.strokeWidth=Se.strokeWidth),void 0!==Se.fill&&(je.fill=Se.fill),void 0!==Se.stroke&&(je.stroke=Se.stroke)),je.toSVG(Te)}},{key:"_renderPath",value:function(xe,we,Se,Te){var Ye=Te&&Te.renderer||(this||je).parent._renderer,Ze=Ye.drawingContext,Qe=(xe=("object"===_(xe)&&xe.commands?xe:this._getPath(xe,we,Se,Te)).commands,Ze.beginPath(),!0);we=!1,Se=void 0;try{for(var Ke,Je=xe[Symbol.iterator]();!(Qe=(Ke=Je.next()).done);Qe=!0){var $e=Ke.value;"M"===$e.type?Ze.moveTo($e.x,$e.y):"L"===$e.type?Ze.lineTo($e.x,$e.y):"C"===$e.type?Ze.bezierCurveTo($e.x1,$e.y1,$e.x2,$e.y2,$e.x,$e.y):"Q"===$e.type?Ze.quadraticCurveTo($e.x1,$e.y1,$e.x,$e.y):"Z"===$e.type&&Ze.closePath()}}catch(xe){we=!0,Se=xe}finally{try{Qe||null==Je.return||Je.return()}finally{if(we)throw Se}}return Ye._doStroke&&Ye._strokeSet&&!Ye._clipping&&Ze.stroke(),Ye._doFill&&!Ye._clipping&&(Ye._fillSet||Ye._setFill(Ee._DEFAULT_TEXT_FILL),Ze.fill()),this||je}},{key:"_textWidth",value:function(xe,we){return(this||je).font.getAdvanceWidth(xe,we)}},{key:"_textAscent",value:function(xe){return(this||je).font.ascender*this._scale(xe)}},{key:"_textDescent",value:function(xe){return-(this||je).font.descender*this._scale(xe)}},{key:"_scale",value:function(xe){return 1/(this||je).font.unitsPerEm*(xe||(this||je).parent._renderer._textSize)}},{key:"_handleAlignment",value:function(je,xe,we,Se,Te){var Ye=je._textSize;switch(void 0===Te&&(Te=this._textWidth(xe,Ye)),je._textAlign){case Ee.CENTER:we-=Te/2;break;case Ee.RIGHT:we-=Te}switch(je._textBaseline){case Ee.TOP:Se+=this._textAscent(Ye);break;case Ee.CENTER:Se+=this._textAscent(Ye)/2;break;case Ee.BOTTOM:Se-=this._textDescent(Ye)}return{x:we,y:Se}}}])&&s(xe.prototype,we),Se&&s(xe,Se),t}();xe=Te.default;Se.default=xe},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(je,xe,we){je("core-js/modules/es.array.concat"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.array.splice"),je("core-js/modules/es.array-buffer.constructor"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.array.concat"),je("core-js/modules/es.array.slice"),je("core-js/modules/es.array.splice"),je("core-js/modules/es.array-buffer.constructor"),je("core-js/modules/es.object.to-string"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;je=(je=je("../core/main"))&&je.__esModule?je:{default:je};je.default.prototype.append=function(je,xe){return je.push(xe),je},je.default.prototype.arrayCopy=function(je,xe,we,Se,Te){var Ee,Ye;je=void 0!==Te?(Ye=Math.min(Te,je.length),Ee=Se,je.slice(xe,Ye+xe)):(Ye=void 0!==we?(Ye=we,Math.min(Ye,je.length)):je.length,we=xe,je.slice(Ee=0,Ye)),Array.prototype.splice.apply(we,[Ee,Ye].concat(je))},je.default.prototype.concat=function(je,xe){return je.concat(xe)},je.default.prototype.reverse=function(je){return je.reverse()},je.default.prototype.shorten=function(je){return je.pop(),je},je.default.prototype.shuffle=function(je,xe){for(var we,Se,Te=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(je),Ee=(je=xe||Te?je:je.slice()).length;1<Ee;)we=this.random(0,1)*Ee|0,Se=je[--Ee],je[Ee]=je[we],je[we]=Se;return je},je.default.prototype.sort=function(je,xe){var we=xe?je.slice(0,Math.min(xe,je.length)):je;xe=xe?je.slice(Math.min(xe,je.length)):[];return(we="string"==typeof we[0]?we.sort():we.sort((function(je,xe){return je-xe}))).concat(xe)},je.default.prototype.splice=function(je,xe,we){return Array.prototype.splice.apply(je,[we,0].concat(xe)),je},je.default.prototype.subset=function(je,xe,we){return void 0!==we?je.slice(xe,xe+we):je.slice(xe,je.length)};je=je.default;we.default=je},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(je,xe,we){je("core-js/modules/es.array.map"),je("core-js/modules/es.number.constructor"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.repeat"),je("core-js/modules/es.array.map"),je("core-js/modules/es.number.constructor"),je("core-js/modules/es.object.to-string"),je("core-js/modules/es.regexp.to-string"),je("core-js/modules/es.string.repeat"),Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var Se=(je=je("../core/main"))&&je.__esModule?je:{default:je};Se.default.prototype.float=function(je){return je instanceof Array?je.map(parseFloat):parseFloat(je)},Se.default.prototype.int=function(je){var xe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return je===1/0||"Infinity"===je?1/0:je===-1/0||"-Infinity"===je?-1/0:"string"==typeof je?parseInt(je,xe):"number"==typeof je?0|je:"boolean"==typeof je?je?1:0:je instanceof Array?je.map((function(je){return Se.default.prototype.int(je,xe)})):void 0},Se.default.prototype.str=function(je){return je instanceof Array?je.map(Se.default.prototype.str):String(je)},Se.default.prototype.boolean=function(je){return"number"==typeof je?0!==je:"string"==typeof je?"true"===je.toLowerCase():"boolean"==typeof je?je:je instanceof Array?je.map(Se.default.prototype.boolean):void 0},Se.default.prototype.byte=function(je){je=Se.default.prototype.int(je,10);return"number"==typeof je?(je+128)%256-128:je instanceof Array?je.map(Se.default.prototype.byte):void 0},Se.default.prototype.char=function(je){return"number"!=typeof je||isNaN(je)?je instanceof Array?je.map(Se.default.prototype.char):"string"==typeof je?Se.default.prototype.char(parseInt(je,10)):void 0:String.fromCharCode(je)},Se.default.prototype.unchar=function(je){return"string"==typeof je&&1===je.length?je.charCodeAt(0):je instanceof Array?je.map(Se.default.prototype.unchar):void 0},Se.default.prototype.hex=function(je,xe){if(xe=null==xe?8:xe,je instanceof Array)return je.map((function(je){return Se.default.prototype.hex(je,xe)}));if(je===1/0||je===-1/0)return(je===1/0?"F":"0").repeat(xe);if("number"==typeof je){je<0&&(je=4294967295+je+1);for(var we=Number(je).toString(16).toUpperCase();we.length<xe;)we="0".concat(we);return we.length>=xe?we.substring(we.length-xe,we.length):we}},Se.default.prototype.unhex=function(je){return je instanceof Array?je.map(Se.default.prototype.unhex):parseInt("0x".concat(je),16)};je=Se.default;we.default=je},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.pad-start"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.constructor"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.pad-start"),xe("core-js/modules/es.string.replace"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ee=xe("../core/main"))&&Ee.__esModule?Ee:{default:Ee};function i(je,xe){return function(je){if(Array.isArray(je))return je}(je)||function(je,xe){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je)){var we=[],Se=!0,Te=!1,Ee=void 0;try{for(var Ye,Ze=je[Symbol.iterator]();!(Se=(Ye=Ze.next()).done)&&(we.push(Ye.value),!xe||we.length!==xe);Se=!0);}catch(je){Te=!0,Ee=je}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}return we}}(je,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(je,xe,we){var Se=i(je.toString().split("."),2),Te=Se[0];Se=Se[1];return void 0===we?(Te=Te.padStart(xe,"0"),Se?Te+"."+Se:Te):(Te=(je=i(je.toFixed(we).toString().split("."),2))[0],Se=je[1],Te=Te.padStart(xe,"0"),void 0===Se?Te:Te+"."+Se)}function n(je,xe){var we=(je=je.toString()).indexOf("."),Se=-1!==we?je.substring(we):"";je=(je=-1!==we?je.substring(0,we):je).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(0===xe)Se="";else if(void 0!==xe)if(xe>Se.length)for(var Te=xe-(Se+=-1===we?".":"").length+1,Ee=0;Ee<Te;Ee++)Se+="0";else Se=Se.substring(0,xe+1);return je+Se}function a(je){return 0<parseFloat(je)?"+".concat(je.toString()):je.toString()}function l(je){return 0<=parseFloat(je)?" ".concat(je.toString()):je.toString()}xe("../core/friendly_errors/validate_params"),xe("../core/friendly_errors/file_errors"),xe("../core/friendly_errors/fes_core"),Te.default.prototype.join=function(je,xe){return Te.default._validateParameters("join",arguments),je.join(xe)},Te.default.prototype.match=function(je,xe){return Te.default._validateParameters("match",arguments),je.match(xe)},Te.default.prototype.matchAll=function(je,xe){Te.default._validateParameters("matchAll",arguments);for(var we=new RegExp(xe,"g"),Se=we.exec(je),Ee=[];null!==Se;)Ee.push(Se),Se=we.exec(je);return Ee},Te.default.prototype.nf=function(je,xe,we){return Te.default._validateParameters("nf",arguments),je instanceof Array?je.map((function(je){return o(je,xe,we)})):"[object Arguments]"===Object.prototype.toString.call(je)?3===je.length?this.nf(je[0],je[1],je[2]):2===je.length?this.nf(je[0],je[1]):this.nf(je[0]):o(je,xe,we)},Te.default.prototype.nfc=function(je,xe){return Te.default._validateParameters("nfc",arguments),je instanceof Array?je.map((function(je){return n(je,xe)})):n(je,xe)},Te.default.prototype.nfp=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("nfp",we);var Ee=Te.default.prototype.nf.apply(this||je,we);return Ee instanceof Array?Ee.map(a):a(Ee)},Te.default.prototype.nfs=function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("nfs",we);var Ee=Te.default.prototype.nf.apply(this||je,we);return Ee instanceof Array?Ee.map(l):l(Ee)},Te.default.prototype.split=function(je,xe){return Te.default._validateParameters("split",arguments),je.split(xe)},Te.default.prototype.splitTokens=function(je,xe){var we,Se;return Te.default._validateParameters("splitTokens",arguments),Se=void 0!==xe?(Se=/\]/g.exec(xe),(we=/\[/g.exec(xe))&&Se?(xe=xe.slice(0,Se.index)+xe.slice(Se.index+1),we=/\[/g.exec(xe),xe=xe.slice(0,we.index)+xe.slice(we.index+1),new RegExp("[\\[".concat(xe,"\\]]"),"g")):Se?(xe=xe.slice(0,Se.index)+xe.slice(Se.index+1),new RegExp("[".concat(xe,"\\]]"),"g")):we?(xe=xe.slice(0,we.index)+xe.slice(we.index+1),new RegExp("[".concat(xe,"\\[]"),"g")):new RegExp("[".concat(xe,"]"),"g")):/\s/g,je.split(Se).filter((function(je){return je}))},Te.default.prototype.trim=function(xe){return Te.default._validateParameters("trim",arguments),xe instanceof Array?xe.map((this||je).trim):xe.trim()};var Ee=Te.default;Se.default=Ee},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(xe,we,Se){Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};xe.default.prototype.day=function(){return(new Date).getDate()},xe.default.prototype.hour=function(){return(new Date).getHours()},xe.default.prototype.minute=function(){return(new Date).getMinutes()},xe.default.prototype.millis=function(){return-1===(this||je)._millisStart?0:window.performance.now()-(this||je)._millisStart},xe.default.prototype.month=function(){return(new Date).getMonth()+1},xe.default.prototype.second=function(){return(new Date).getSeconds()},xe.default.prototype.year=function(){return(new Date).getFullYear()};xe=xe.default;Se.default=xe},{"../core/main":280}],323:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.number.to-fixed"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=(xe("./p5.Geometry"),function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants")));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}Te.default.prototype.beginGeometry=function(){return(this||je)._renderer.beginGeometry()},Te.default.prototype.endGeometry=function(){return(this||je)._renderer.endGeometry()},Te.default.prototype.buildGeometry=function(xe){return(this||je)._renderer.buildGeometry(xe)},Te.default.prototype.freeGeometry=function(xe){(this||je)._renderer._freeBuffers(xe.gid)},Te.default.prototype.plane=function(){var xe,we=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,Se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:we,Ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,Ye=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,Ze=(this._assert3d("plane"),Te.default._validateParameters("plane",arguments),"plane|".concat(Ee,"|").concat(Ye));return(this||je)._renderer.geometryInHash(Ze)||((xe=new Te.default.Geometry(Ee,Ye,(function(){for(var xe,we,Se=0;Se<=(this||je).detailY;Se++)for(var Ee=Se/(this||je).detailY,Ye=0;Ye<=(this||je).detailX;Ye++)xe=Ye/(this||je).detailX,we=new Te.default.Vector(xe-.5,Ee-.5,0),(this||je).vertices.push(we),(this||je).uvs.push(xe,Ee)}))).computeFaces().computeNormals(),Ee<=1&&Ye<=1?xe._makeTriangleEdges()._edgesToVertices():(this||je)._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),(this||je)._renderer.createBuffers(Ze,xe)),(this||je)._renderer.drawBuffersScaled(Ze,we,Se,1),this||je},Te.default.prototype.box=function(xe,we,Se,Ee,Ye){this._assert3d("box"),Te.default._validateParameters("box",arguments),void 0===xe&&(xe=50),void 0===we&&(we=xe),void 0===Se&&(Se=we);var Ze,Qe=(this||je)._renderer.attributes&&(this||je)._renderer.attributes.perPixelLighting;Qe=(void 0===Ye&&(Ye=Qe?1:4),"box|".concat(Ee=void 0===Ee?Qe?1:4:Ee,"|").concat(Ye));return(this||je)._renderer.geometryInHash(Qe)||((Ze=new Te.default.Geometry(Ee,Ye,(function(){var xe=this||je;(this||je).edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach((function(je,we){we*=4;for(var Se=0;Se<4;Se++){var Ee=je[Se];Ee=new Te.default.Vector((2*(1&Ee)-1)/2,((2&Ee)-1)/2,((4&Ee)/2-1)/2);xe.vertices.push(Ee),xe.uvs.push(1&Se,(2&Se)/2)}xe.faces.push([we,1+we,2+we]),xe.faces.push([2+we,1+we,3+we])}))}))).computeNormals(),Ee<=4&&Ye<=4?Ze._edgesToVertices():(this||je)._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),(this||je)._renderer.createBuffers(Qe,Ze)),(this||je)._renderer.drawBuffersScaled(Qe,xe,we,Se),this||je},Te.default.prototype.sphere=function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:24,Se=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16;return this._assert3d("sphere"),Te.default._validateParameters("sphere",arguments),this.ellipsoid(xe,xe,xe,we,Se),this||je};function l(xe,we,Se,Ee,Ye,Ze,Qe){xe=xe<=0?1:xe,we=we<0?0:we,Se=Se<=0?xe:Se,Ee=Ee<3?3:Ee;for(var Ke,Je,$e=(Ze=void 0===Ze||Ze)?-2:0,et=(Ye=Ye<1?1:Ye)+((Qe=void 0===Qe?0!==we:Qe)?2:0),tt=Math.atan2(xe-we,Se),rt=Math.sin(tt),ot=Math.cos(tt),nt=$e;nt<=et;++nt){var st=nt/Ye,it=Se*st,dt=void 0;dt=nt<0?(st=it=0,xe):Ye<nt?(it=Se,st=1,we):xe+(we-xe)*st;for(-2!==nt&&nt!==Ye+2||(dt=0),it-=Se/2,Ke=0;Ke<Ee;++Ke){var ht=Ke/(Ee-1),ft=2*Math.PI*ht,pt=Math.sin(ft),mt=(ft=Math.cos(ft),(this||je).vertices.push(new Te.default.Vector(pt*dt,it,ft*dt)),void 0);mt=nt<0?new Te.default.Vector(0,-1,0):Ye<nt&&we?new Te.default.Vector(0,1,0):new Te.default.Vector(pt*ot,rt,ft*ot);(this||je).vertexNormals.push(mt),(this||je).uvs.push(ht,st)}}var yt=0;if(Ze){for(Je=0;Je<Ee;++Je)(this||je).faces.push([yt+Je,yt+Ee+(Je+1)%Ee,yt+Ee+Je]);yt+=2*Ee}for(nt=0;nt<Ye;++nt){for(Ke=0;Ke<Ee;++Ke){var gt=(Ke+1)%Ee;(this||je).faces.push([yt+Ke,yt+gt,yt+Ee+gt]),(this||je).faces.push([yt+Ke,yt+Ee+gt,yt+Ee+Ke])}yt+=Ee}if(Qe)for(yt+=Ee,Ke=0;Ke<Ee;++Ke)(this||je).faces.push([yt+Ke,yt+(Ke+1)%Ee,yt+Ee])}Te.default.prototype.cylinder=function(){var xe,we=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,Se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:we,Ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,Ye=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,Ze=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],Qe=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],Ke=(this._assert3d("cylinder"),Te.default._validateParameters("cylinder",arguments),"cylinder|".concat(Ee,"|").concat(Ye,"|").concat(Ze,"|").concat(Qe));return(this||je)._renderer.geometryInHash(Ke)||(xe=new Te.default.Geometry(Ee,Ye),l.call(xe,1,1,1,Ee,Ye,Ze,Qe),Ee<=24&&Ye<=16?xe._makeTriangleEdges()._edgesToVertices():(this||je)._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),(this||je)._renderer.createBuffers(Ke,xe)),(this||je)._renderer.drawBuffersScaled(Ke,we,Se,we),this||je},Te.default.prototype.cone=function(){var xe,we=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,Se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:we,Ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:24,Ye=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,Ze=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],Qe=(this._assert3d("cone"),Te.default._validateParameters("cone",arguments),"cone|".concat(Ee,"|").concat(Ye,"|").concat(Ze));return(this||je)._renderer.geometryInHash(Qe)||(xe=new Te.default.Geometry(Ee,Ye),l.call(xe,1,0,1,Ee,Ye,Ze,!1),Ee<=24&&Ye<=16?xe._makeTriangleEdges()._edgesToVertices():(this||je)._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),(this||je)._renderer.createBuffers(Qe,xe)),(this||je)._renderer.drawBuffersScaled(Qe,we,Se,we),this||je},Te.default.prototype.ellipsoid=function(){var xe,we=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50,Se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:we,Ee=2<arguments.length&&void 0!==arguments[2]?arguments[2]:we,Ye=3<arguments.length&&void 0!==arguments[3]?arguments[3]:24,Ze=4<arguments.length&&void 0!==arguments[4]?arguments[4]:16,Qe=(this._assert3d("ellipsoid"),Te.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(Ye,"|").concat(Ze));return(this||je)._renderer.geometryInHash(Qe)||((xe=new Te.default.Geometry(Ye,Ze,(function(){for(var xe=0;xe<=(this||je).detailY;xe++)for(var we=xe/(this||je).detailY,Se=Math.PI*we-Math.PI/2,Ee=Math.cos(Se),Ye=Math.sin(Se),Ze=0;Ze<=(this||je).detailX;Ze++){var Qe=Ze/(this||je).detailX,Ke=2*Math.PI*Qe,Je=Math.cos(Ke);Ke=Math.sin(Ke),Ke=new Te.default.Vector(Ee*Ke,Ye,Ee*Je);(this||je).vertices.push(Ke),(this||je).vertexNormals.push(Ke),(this||je).uvs.push(Qe,we)}}))).computeFaces(),Ye<=24&&Ze<=24?xe._makeTriangleEdges()._edgesToVertices():(this||je)._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),(this||je)._renderer.createBuffers(Qe,xe)),(this||je)._renderer.drawBuffersScaled(Qe,we,Se,Ee),this||je},Te.default.prototype.torus=function(xe,we,Se,Ee){if(this._assert3d("torus"),Te.default._validateParameters("torus",arguments),void 0===xe)xe=50;else if(!xe)return;if(void 0===we)we=10;else if(!we)return;void 0===Se&&(Se=24),void 0===Ee&&(Ee=16);var Ye,Ze=(we/xe).toPrecision(4);we="torus|".concat(Ze,"|").concat(Se,"|").concat(Ee);return(this||je)._renderer.geometryInHash(we)||((Ye=new Te.default.Geometry(Se,Ee,(function(){for(var xe=0;xe<=(this||je).detailY;xe++)for(var we=xe/(this||je).detailY,Se=2*Math.PI*we,Ee=Math.cos(Se),Ye=Math.sin(Se),Qe=1+Ze*Ee,Ke=0;Ke<=(this||je).detailX;Ke++){var Je=Ke/(this||je).detailX,$e=2*Math.PI*Je,et=Math.cos($e),tt=($e=Math.sin($e),new Te.default.Vector(Qe*et,Qe*$e,Ze*Ye));et=new Te.default.Vector(Ee*et,Ee*$e,Ye);(this||je).vertices.push(tt),(this||je).vertexNormals.push(et),(this||je).uvs.push(Je,we)}}))).computeFaces(),Se<=24&&Ee<=16?Ye._makeTriangleEdges()._edgesToVertices():(this||je)._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),(this||je)._renderer.createBuffers(we,Ye)),(this||je)._renderer.drawBuffersScaled(we,xe,xe,xe),this||je},Te.default.RendererGL.prototype.point=function(xe,we){var Se=[];return Se.push(new Te.default.Vector(xe,we,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)),this._drawPoints(Se,(this||je).immediateMode.buffers.point),this||je},Te.default.RendererGL.prototype.triangle=function(xe){var we=xe[0],Se=xe[1],Ee=xe[2],Ye=xe[3],Ze=xe[4],Qe=(xe=xe[5],this.geometryInHash("tri")||((Qe=new Te.default.Geometry(1,1,(function(){var xe=[];xe.push(new Te.default.Vector(0,0,0)),xe.push(new Te.default.Vector(1,0,0)),xe.push(new Te.default.Vector(0,1,0)),(this||je).edges=[[0,1],[1,2],[2,0]],(this||je).vertices=xe,(this||je).faces=[[0,1,2]],(this||je).uvs=[0,0,1,0,1,1]})))._edgesToVertices(),Qe.computeNormals(),this.createBuffers("tri",Qe)),(this||je).uMVMatrix.copy());try{var Ke=Math.sign(we*Ye-Ee*Se+Ee*xe-Ze*Ye+Ze*Se-we*xe),Je=new Te.default.Matrix([Ee-we,Ye-Se,0,0,Ze-we,xe-Se,0,0,0,0,Ke,0,we,Se,0,1]).mult((this||je).uMVMatrix);(this||je).uMVMatrix=Je,this.drawBuffers("tri")}finally{(this||je).uMVMatrix=Qe}return this||je},Te.default.RendererGL.prototype.ellipse=function(je){this.arc(je[0],je[1],je[2],je[3],0,Ee.TWO_PI,Ee.OPEN,je[4])},Te.default.RendererGL.prototype.arc=function(){var xe,we=arguments.length<=0?void 0:arguments[0],Se=arguments.length<=1?void 0:arguments[1],Ye=arguments.length<=2?void 0:arguments[2],Ze=arguments.length<=3?void 0:arguments[3],Qe=arguments.length<=4?void 0:arguments[4],Ke=arguments.length<=5?void 0:arguments[5],Je=arguments.length<=6?void 0:arguments[6],$e=(arguments.length<=7?void 0:arguments[7])||25,et=(Math.abs(Ke-Qe)>=Ee.TWO_PI?"".concat(tt="ellipse","|"):"".concat(tt="arc","|").concat(Qe,"|").concat(Ke,"|").concat(Je,"|")).concat($e,"|"),tt=(this.geometryInHash(et)||((xe=new Te.default.Geometry($e,1,(function(){if(Qe.toFixed(10)!==Ke.toFixed(10)){Je!==Ee.PIE&&void 0!==Je||((this||je).vertices.push(new Te.default.Vector(.5,.5,0)),(this||je).uvs.push([.5,.5]));for(var xe=0;xe<=$e;xe++){var we=xe/$e*(Ke-Qe)+Qe,Se=.5+Math.cos(we)/2;we=.5+Math.sin(we)/2;(this||je).vertices.push(new Te.default.Vector(Se,we,0)),(this||je).uvs.push([Se,we]),xe<$e-1&&((this||je).faces.push([0,xe+1,xe+2]),(this||je).edges.push([xe+1,xe+2]))}switch(Je){case Ee.PIE:(this||je).faces.push([0,(this||je).vertices.length-2,(this||je).vertices.length-1]),(this||je).edges.push([0,1]),(this||je).edges.push([(this||je).vertices.length-2,(this||je).vertices.length-1]),(this||je).edges.push([0,(this||je).vertices.length-1]);break;case Ee.CHORD:(this||je).edges.push([0,1]),(this||je).edges.push([0,(this||je).vertices.length-1]);break;case Ee.OPEN:(this||je).edges.push([0,1]);break;default:(this||je).faces.push([0,(this||je).vertices.length-2,(this||je).vertices.length-1]),(this||je).edges.push([(this||je).vertices.length-2,(this||je).vertices.length-1])}}}))).computeNormals(),$e<=50?xe._edgesToVertices(xe):(this||je)._doStroke&&console.log("Cannot apply a stroke to an ".concat(tt," with more than 50 detail")),this.createBuffers(et,xe)),(this||je).uMVMatrix.copy());try{(this||je).uMVMatrix.translate([we,Se,0]),(this||je).uMVMatrix.scale(Ye,Ze,1),this.drawBuffers(et)}finally{(this||je).uMVMatrix=tt}return this||je},Te.default.RendererGL.prototype.rect=function(xe){var we=xe[0],Se=xe[1],Ye=xe[2],Ze=xe[3];if(void 0===xe[4]){var Qe=(this||je)._pInst._glAttributes.perPixelLighting,Ke=xe[4]||(Qe?1:24),Je=xe[5]||(Qe?1:16),$e=(Qe="rect|".concat(Ke,"|").concat(Je),this.geometryInHash(Qe)||(($e=new Te.default.Geometry(Ke,Je,(function(){for(var xe=0;xe<=(this||je).detailY;xe++)for(var we=xe/(this||je).detailY,Se=0;Se<=(this||je).detailX;Se++){var Ee=Se/(this||je).detailX,Ye=new Te.default.Vector(Ee,we,0);(this||je).vertices.push(Ye),(this||je).uvs.push(Ee,we)}0<Ke&&0<Je&&((this||je).edges=[[0,Ke],[Ke,(Ke+1)*(Je+1)-1],[(Ke+1)*(Je+1)-1,(Ke+1)*Je],[(Ke+1)*Je,0]])}))).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(Qe,$e)),(this||je).uMVMatrix.copy());try{(this||je).uMVMatrix.translate([we,Se,0]),(this||je).uMVMatrix.scale(Ye,Ze,1),this.drawBuffers(Qe)}finally{(this||je).uMVMatrix=$e}}else{Qe=xe[4],$e=void 0===xe[5]?Qe:xe[5];var et=void 0===xe[6]?$e:xe[6],tt=(xe=void 0===xe[7]?et:xe[7],Ye),rt=Ze,ot=((tt+=we)<we&&(ot=we,we=tt,tt=ot),(rt+=Se)<Se&&(ot=Se,Se=rt,rt=ot),Math.min((tt-we)/2,(rt-Se)/2)),nt=(ot<Qe&&(Qe=ot),ot<$e&&($e=ot),ot<et&&(et=ot),ot<xe&&(xe=ot),we),st=Se,it=(ot=tt,we=rt,this.beginShape(),0!==$e?(this.vertex(ot-$e,st),this.quadraticVertex(ot,st,ot,st+$e)):this.vertex(ot,st),0!==et?(this.vertex(ot,we-et),this.quadraticVertex(ot,we,ot-et,we)):this.vertex(ot,we),0!==xe?(this.vertex(nt+xe,we),this.quadraticVertex(nt,we,nt,we-xe)):this.vertex(nt,we),0!==Qe?(this.vertex(nt,st+Qe),this.quadraticVertex(nt,st,nt+Qe,st)):this.vertex(nt,st),!((this||je).immediateMode.geometry.uvs.length=0));Se=!1,tt=void 0;try{for(var dt,ht=(this||je).immediateMode.geometry.vertices[Symbol.iterator]();!(it=(dt=ht.next()).done);it=!0){var ft=dt.value,pt=(ft.x-nt)/Ye,mt=(ft.y-st)/Ze;(this||je).immediateMode.geometry.uvs.push(pt,mt)}}catch(xe){Se=!0,tt=xe}finally{try{it||null==ht.return||ht.return()}finally{if(Se)throw tt}}this.endShape(Ee.CLOSE)}return this||je},Te.default.RendererGL.prototype.quad=function(xe,we,Se,Ee,Ye,Ze,Qe,Ke,Je,$e,et,tt){var rt=12<arguments.length&&void 0!==arguments[12]?arguments[12]:2,ot=13<arguments.length&&void 0!==arguments[13]?arguments[13]:2,nt="quad|".concat(xe,"|").concat(we,"|").concat(Se,"|").concat(Ee,"|").concat(Ye,"|").concat(Ze,"|").concat(Qe,"|").concat(Ke,"|").concat(Je,"|").concat($e,"|").concat(et,"|").concat(tt,"|").concat(rt,"|").concat(ot);if(!this.geometryInHash(nt)){var st=new Te.default.Geometry(rt,ot,(function(){for(var rt=1/((this||je).detailX-1),ot=1/((this||je).detailY-1),nt=0;nt<(this||je).detailY;nt++)for(var st=0;st<(this||je).detailX;st++){var it=st*rt,dt=nt*ot;(this||je).vertices.push(new Te.default.Vector((1-it)*((1-dt)*xe+dt*$e)+it*((1-dt)*Ee+dt*Qe),(1-it)*((1-dt)*we+dt*et)+it*((1-dt)*Ye+dt*Ke),(1-it)*((1-dt)*Se+dt*tt)+it*((1-dt)*Ze+dt*Je))),(this||je).uvs.push([it,dt])}}));st.faces=[];for(var it=0;it<ot-1;it++)for(var dt=0;dt<rt-1;dt++){var ht=dt+it*rt,ft=dt+1+(it+1)*rt,pt=dt+(it+1)*rt;st.faces.push([ht,dt+1+it*rt,ft]),st.faces.push([ht,ft,pt])}st.computeNormals();for(var mt=[st.edges.length=0,2,3,1],yt=0;yt<mt.length;yt++)st.edges.push([mt[yt],mt[(yt+1)%mt.length]]);st._edgesToVertices(),this.createBuffers(nt,st)}return this.drawBuffers(nt),this||je},Te.default.RendererGL.prototype.bezier=function(xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e,et){8===arguments.length&&($e=Qe,Je=Ze,Qe=Ye,Ze=Ee,Ee=Te,Te=Se,Se=Ye=Ke=et=0);var tt=(this||je)._pInst._bezierDetail||20;this.beginShape();for(var rt=0;rt<=tt;rt++){var ot=Math.pow(1-rt/tt,3),nt=rt/tt*3*Math.pow(1-rt/tt,2),st=3*Math.pow(rt/tt,2)*(1-rt/tt),it=Math.pow(rt/tt,3);this.vertex(xe*ot+Te*nt+Ze*st+Je*it,we*ot+Ee*nt+Qe*st+$e*it,Se*ot+Ye*nt+Ke*st+et*it)}return this.endShape(),this||je},Te.default.RendererGL.prototype.curve=function(xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke,Je,$e,et){8===arguments.length&&(Je=Ze,$e=Qe,Ze=Ee,Qe=Te,Ee=Te=Se,Se=Ye=Ke=et=0);var tt=(this||je)._pInst._curveDetail;this.beginShape();for(var rt=0;rt<=tt;rt++){var ot=.5*Math.pow(rt/tt,3),nt=.5*Math.pow(rt/tt,2),st=rt/tt*.5;this.vertex(ot*(3*Te-xe-3*Ze+Je)+nt*(2*xe-5*Te+4*Ze-Je)+st*(-xe+Ze)+2*Te*.5,ot*(3*Ee-we-3*Qe+$e)+nt*(2*we-5*Ee+4*Qe-$e)+st*(-we+Qe)+2*Ee*.5,ot*(3*Ye-Se-3*Ke+et)+nt*(2*Se-5*Ye+4*Ke-et)+st*(-Se+Ke)+2*Ye*.5)}return this.endShape(),this||je},Te.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(Ee.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(Ee.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this||je},Te.default.RendererGL.prototype.bezierVertex=function(){if(0===(this||je).immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var xe,we,Se,Te,Ee,Ye,Ze=[],Qe=[],Ke=arguments.length;if(0===(this||je)._lookUpTableBezier.length||(this||je)._lutBezierDetail!==(this||je)._pInst._curveDetail){(this||je)._lookUpTableBezier=[],(this||je)._lutBezierDetail=(this||je)._pInst._curveDetail;for(var Je=1/(this||je)._lutBezierDetail,$e=0,et=1,tt=0;$e<1;){if(Ye=parseFloat($e.toFixed(6)),(this||je)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye),et.toFixed(6)===Je.toFixed(6)){Ye=parseFloat(et.toFixed(6))+parseFloat($e.toFixed(6)),++tt,(this||je)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye);break}$e+=Je,et-=Je,++tt}}for(var rt=(this||je)._lookUpTableBezier.length,ot=[],nt=0;nt<4;nt++)ot.push([]);ot[0]=(this||je).immediateMode.geometry.vertexColors.slice(-4),ot[3]=(this||je).curFillColor.slice();var st=[];for(nt=0;nt<4;nt++)st.push([]);if(st[0]=(this||je).immediateMode.geometry.vertexStrokeColors.slice(-4),st[3]=(this||je).curStrokeColor.slice(),6===Ke){(this||je).isBezier=!0;Ze=[(this||je).immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],Qe=[(this||je).immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var it=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1]),dt=Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2]),ht=Math.hypot(Ze[2]-Ze[3],Qe[2]-Qe[3]);dt=it+dt+ht;for(it/=dt,ht/=dt,Ee=0;Ee<4;Ee++)ot[1].push(ot[0][Ee]*(1-it)+ot[3][Ee]*it),ot[2].push(ot[0][Ee]*ht+ot[3][Ee]*(1-ht)),st[1].push(st[0][Ee]*(1-it)+st[3][Ee]*it),st[2].push(st[0][Ee]*ht+st[3][Ee]*(1-ht));for(Te=0;Te<rt;Te++){for((this||je).curFillColor=[0,0,0,0],(this||je).curStrokeColor=[0,0,0,0],nt=xe=we=0;nt<4;nt++){for(Ee=0;Ee<4;Ee++)(this||je).curFillColor[Ee]+=(this||je)._lookUpTableBezier[Te][nt]*ot[nt][Ee],(this||je).curStrokeColor[Ee]+=(this||je)._lookUpTableBezier[Te][nt]*st[nt][Ee];xe+=Ze[nt]*(this||je)._lookUpTableBezier[Te][nt],we+=Qe[nt]*(this||je)._lookUpTableBezier[Te][nt]}this.vertex(xe,we)}(this||je).curFillColor=ot[3],(this||je).curStrokeColor=st[3],(this||je).immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],(this||je).immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===Ke){(this||je).isBezier=!0,Ze=[(this||je).immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],Qe=[(this||je).immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var ft=[(this||je).immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],pt=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1],ft[0]-ft[1]),mt=(dt=Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2],ft[1]-ft[2]),Math.hypot(Ze[2]-Ze[3],Qe[2]-Qe[3],ft[2]-ft[3]));Ke=pt+dt+mt;for(pt/=Ke,mt/=Ke,Ee=0;Ee<4;Ee++)ot[1].push(ot[0][Ee]*(1-pt)+ot[3][Ee]*pt),ot[2].push(ot[0][Ee]*mt+ot[3][Ee]*(1-mt)),st[1].push(st[0][Ee]*(1-pt)+st[3][Ee]*pt),st[2].push(st[0][Ee]*mt+st[3][Ee]*(1-mt));for(Te=0;Te<rt;Te++){for((this||je).curFillColor=[0,0,0,0],(this||je).curStrokeColor=[0,0,0,0],nt=xe=we=Se=0;nt<4;nt++){for(Ee=0;Ee<4;Ee++)(this||je).curFillColor[Ee]+=(this||je)._lookUpTableBezier[Te][nt]*ot[nt][Ee],(this||je).curStrokeColor[Ee]+=(this||je)._lookUpTableBezier[Te][nt]*st[nt][Ee];xe+=Ze[nt]*(this||je)._lookUpTableBezier[Te][nt],we+=Qe[nt]*(this||je)._lookUpTableBezier[Te][nt],Se+=ft[nt]*(this||je)._lookUpTableBezier[Te][nt]}this.vertex(xe,we,Se)}(this||je).curFillColor=ot[3],(this||je).curStrokeColor=st[3],(this||je).immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],(this||je).immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],(this||je).immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},Te.default.RendererGL.prototype.quadraticVertex=function(){if(0===(this||je).immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var xe,we,Se,Te,Ee,Ye,Ze=[],Qe=[],Ke=arguments.length;if(0===(this||je)._lookUpTableQuadratic.length||(this||je)._lutQuadraticDetail!==(this||je)._pInst._curveDetail){(this||je)._lookUpTableQuadratic=[],(this||je)._lutQuadraticDetail=(this||je)._pInst._curveDetail;for(var Je=1/(this||je)._lutQuadraticDetail,$e=0,et=1,tt=0;$e<1;){if(Ye=parseFloat($e.toFixed(6)),(this||je)._lookUpTableQuadratic[tt]=this._quadraticCoefficients(Ye),et.toFixed(6)===Je.toFixed(6)){Ye=parseFloat(et.toFixed(6))+parseFloat($e.toFixed(6)),++tt,(this||je)._lookUpTableQuadratic[tt]=this._quadraticCoefficients(Ye);break}$e+=Je,et-=Je,++tt}}for(var rt=(this||je)._lookUpTableQuadratic.length,ot=[],nt=0;nt<3;nt++)ot.push([]);ot[0]=(this||je).immediateMode.geometry.vertexColors.slice(-4),ot[2]=(this||je).curFillColor.slice();var st=[];for(nt=0;nt<3;nt++)st.push([]);if(st[0]=(this||je).immediateMode.geometry.vertexStrokeColors.slice(-4),st[2]=(this||je).curStrokeColor.slice(),4===Ke){(this||je).isQuadratic=!0;Ze=[(this||je).immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],Qe=[(this||je).immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var it=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1]);for(it/=it+Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2]),Ee=0;Ee<4;Ee++)ot[1].push(ot[0][Ee]*(1-it)+ot[2][Ee]*it),st[1].push(st[0][Ee]*(1-it)+st[2][Ee]*it);for(Te=0;Te<rt;Te++){for((this||je).curFillColor=[0,0,0,0],(this||je).curStrokeColor=[0,0,0,0],nt=xe=we=0;nt<3;nt++){for(Ee=0;Ee<4;Ee++)(this||je).curFillColor[Ee]+=(this||je)._lookUpTableQuadratic[Te][nt]*ot[nt][Ee],(this||je).curStrokeColor[Ee]+=(this||je)._lookUpTableQuadratic[Te][nt]*st[nt][Ee];xe+=Ze[nt]*(this||je)._lookUpTableQuadratic[Te][nt],we+=Qe[nt]*(this||je)._lookUpTableQuadratic[Te][nt]}this.vertex(xe,we)}(this||je).curFillColor=ot[2],(this||je).curStrokeColor=st[2],(this||je).immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],(this||je).immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===Ke){(this||je).isQuadratic=!0,Ze=[(this||je).immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],Qe=[(this||je).immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var dt=[(this||je).immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],ht=Math.hypot(Ze[0]-Ze[1],Qe[0]-Qe[1],dt[0]-dt[1]);for(ht/=ht+Math.hypot(Ze[1]-Ze[2],Qe[1]-Qe[2],dt[1]-dt[2]),Ee=0;Ee<4;Ee++)ot[1].push(ot[0][Ee]*(1-ht)+ot[2][Ee]*ht),st[1].push(st[0][Ee]*(1-ht)+st[2][Ee]*ht);for(Te=0;Te<rt;Te++){for((this||je).curFillColor=[0,0,0,0],(this||je).curStrokeColor=[0,0,0,0],nt=xe=we=Se=0;nt<3;nt++){for(Ee=0;Ee<4;Ee++)(this||je).curFillColor[Ee]+=(this||je)._lookUpTableQuadratic[Te][nt]*ot[nt][Ee],(this||je).curStrokeColor[Ee]+=(this||je)._lookUpTableQuadratic[Te][nt]*st[nt][Ee];xe+=Ze[nt]*(this||je)._lookUpTableQuadratic[Te][nt],we+=Qe[nt]*(this||je)._lookUpTableQuadratic[Te][nt],Se+=dt[nt]*(this||je)._lookUpTableQuadratic[Te][nt]}this.vertex(xe,we,Se)}(this||je).curFillColor=ot[2],(this||je).curStrokeColor=st[2],(this||je).immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],(this||je).immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],(this||je).immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},Te.default.RendererGL.prototype.curveVertex=function(){var xe,we,Se,Te,Ee,Ye,Ze=[],Qe=[],Ke=arguments.length;if(0===(this||je)._lookUpTableBezier.length||(this||je)._lutBezierDetail!==(this||je)._pInst._curveDetail){(this||je)._lookUpTableBezier=[],(this||je)._lutBezierDetail=(this||je)._pInst._curveDetail;for(var Je=1/(this||je)._lutBezierDetail,$e=0,et=1,tt=0;$e<1;){if(Ye=parseFloat($e.toFixed(6)),(this||je)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye),et.toFixed(6)===Je.toFixed(6)){Ye=parseFloat(et.toFixed(6))+parseFloat($e.toFixed(6)),++tt,(this||je)._lookUpTableBezier[tt]=this._bezierCoefficients(Ye);break}$e+=Je,et-=Je,++tt}}var rt=(this||je)._lookUpTableBezier.length;if(2===Ke){if((this||je).immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),(this||je).immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===(this||je).immediateMode._curveVertex.length){for((this||je).isCurve=!0,Ze=this._bezierToCatmull([(this||je).immediateMode._curveVertex[0],(this||je).immediateMode._curveVertex[2],(this||je).immediateMode._curveVertex[4],(this||je).immediateMode._curveVertex[6]]),Qe=this._bezierToCatmull([(this||je).immediateMode._curveVertex[1],(this||je).immediateMode._curveVertex[3],(this||je).immediateMode._curveVertex[5],(this||je).immediateMode._curveVertex[7]]),Ee=0;Ee<rt;Ee++)we=Ze[0]*(this||je)._lookUpTableBezier[Ee][0]+Ze[1]*(this||je)._lookUpTableBezier[Ee][1]+Ze[2]*(this||je)._lookUpTableBezier[Ee][2]+Ze[3]*(this||je)._lookUpTableBezier[Ee][3],Se=Qe[0]*(this||je)._lookUpTableBezier[Ee][0]+Qe[1]*(this||je)._lookUpTableBezier[Ee][1]+Qe[2]*(this||je)._lookUpTableBezier[Ee][2]+Qe[3]*(this||je)._lookUpTableBezier[Ee][3],this.vertex(we,Se);for(Ee=0;Ee<Ke;Ee++)(this||je).immediateMode._curveVertex.shift()}}else if(3===Ke&&((this||je).immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),(this||je).immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),(this||je).immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===(this||je).immediateMode._curveVertex.length)){for((this||je).isCurve=!0,Ze=this._bezierToCatmull([(this||je).immediateMode._curveVertex[0],(this||je).immediateMode._curveVertex[3],(this||je).immediateMode._curveVertex[6],(this||je).immediateMode._curveVertex[9]]),Qe=this._bezierToCatmull([(this||je).immediateMode._curveVertex[1],(this||je).immediateMode._curveVertex[4],(this||je).immediateMode._curveVertex[7],(this||je).immediateMode._curveVertex[10]]),xe=this._bezierToCatmull([(this||je).immediateMode._curveVertex[2],(this||je).immediateMode._curveVertex[5],(this||je).immediateMode._curveVertex[8],(this||je).immediateMode._curveVertex[11]]),Ee=0;Ee<rt;Ee++)we=Ze[0]*(this||je)._lookUpTableBezier[Ee][0]+Ze[1]*(this||je)._lookUpTableBezier[Ee][1]+Ze[2]*(this||je)._lookUpTableBezier[Ee][2]+Ze[3]*(this||je)._lookUpTableBezier[Ee][3],Se=Qe[0]*(this||je)._lookUpTableBezier[Ee][0]+Qe[1]*(this||je)._lookUpTableBezier[Ee][1]+Qe[2]*(this||je)._lookUpTableBezier[Ee][2]+Qe[3]*(this||je)._lookUpTableBezier[Ee][3],Te=xe[0]*(this||je)._lookUpTableBezier[Ee][0]+xe[1]*(this||je)._lookUpTableBezier[Ee][1]+xe[2]*(this||je)._lookUpTableBezier[Ee][2]+xe[3]*(this||je)._lookUpTableBezier[Ee][3],this.vertex(we,Se,Te);for(Ee=0;Ee<Ke;Ee++)(this||je).immediateMode._curveVertex.shift()}},Te.default.RendererGL.prototype.image=function(xe,we,Se,Te,Ye,Ze,Qe,Ke,Je){(this||je)._isErasing&&this.blendMode((this||je)._cachedBlendMode),(this||je)._pInst.push(),(this||je)._pInst.noLights(),(this||je)._pInst.noStroke(),(this||je)._pInst.texture(xe),(this||je)._pInst.textureMode(Ee.NORMAL);var $e=0,et=(we<=xe.width&&($e=we/xe.width),1);we=(we+Te<=xe.width&&(et=(we+Te)/xe.width),0),Te=(Se<=xe.height&&(we=Se/xe.height),1);Se+Ye<=xe.height&&(Te=(Se+Ye)/xe.height),this.beginShape(),this.vertex(Ze,Qe,0,$e,we),this.vertex(Ze+Ke,Qe,0,et,we),this.vertex(Ze+Ke,Qe+Je,0,et,Te),this.vertex(Ze,Qe+Je,0,$e,Te),this.endShape(Ee.CLOSE),(this||je)._pInst.pop(),(this||je)._isErasing&&this.blendMode(Ee.REMOVE)};var Ye=Te.default;Se.default=Ye},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.object.assign"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=l();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function l(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,l=function(){return je},je)}function s(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}var Ye=function(){function t(xe){if(!((this||je)instanceof t))throw new TypeError("Cannot call a class as a function");((this||je).renderer=xe)._pInst.push(),(this||je).identityMatrix=new Te.default.Matrix,xe.uMVMatrix=new Te.default.Matrix,(this||je).geometry=new Te.default.Geometry,(this||je).geometry.gid="_p5_GeometryBuilder_".concat(t.nextGeometryId),t.nextGeometryId++,(this||je).hasTransform=!1}var xe,we,Se;return xe=t,(we=[{key:"transformVertices",value:function(xe){var we=this||je;return(this||je).hasTransform?xe.map((function(je){return we.renderer.uMVMatrix.multiplyPoint(je)})):xe}},{key:"transformNormals",value:function(xe){var we=this||je;return(this||je).hasTransform?xe.map((function(je){return we.renderer.uNMatrix.multiplyVec3(je)})):xe}},{key:"addGeometry",value:function(xe){for(var we,Se=this||je,Te=((this||je).hasTransform=!(this||je).renderer.uMVMatrix.mat4.every((function(je,xe){return je===Se.identityMatrix.mat4[xe]})),(this||je).hasTransform&&(this||je).renderer.uNMatrix.inverseTranspose((this||je).renderer.uMVMatrix),(this||je).geometry.vertices.length),Ee=((we=(this||je).geometry.vertices).push.apply(we,s(this.transformVertices(xe.vertices))),(we=(this||je).geometry.vertexNormals).push.apply(we,s(this.transformNormals(xe.vertexNormals))),(we=(this||je).geometry.uvs).push.apply(we,s(xe.uvs)),(this||je).renderer._doFill&&(we=(this||je).geometry.faces).push.apply(we,s(xe.faces.map((function(je){return je.map((function(je){return je+Te}))})))),(this||je).renderer._doStroke&&(we=(this||je).geometry.edges).push.apply(we,s(xe.edges.map((function(je){return je.map((function(je){return je+Te}))})))),s(xe.vertexColors));Ee.length<4*xe.vertices.length;)Ee.push.apply(Ee,s((this||je).renderer.curFillColor));(we=(this||je).geometry.vertexColors).push.apply(we,s(Ee))}},{key:"addImmediate",value:function(){var xe=(this||je).renderer.immediateMode.geometry,we=(this||je).renderer.immediateMode.shapeMode,Se=[];if((this||je).renderer._doFill)if(we===Ee.TRIANGLE_STRIP||we===Ee.QUAD_STRIP)for(var Te=2;Te<xe.vertices.length;Te++)Te%2==0?Se.push([Te,Te-1,Te-2]):Se.push([Te,Te-2,Te-1]);else if(we===Ee.TRIANGLE_FAN)for(var Ye=2;Ye<xe.vertices.length;Ye++)Se.push([0,Ye-1,Ye]);else for(var Ze=0;Ze<xe.vertices.length;Ze+=3)Se.push([Ze,Ze+1,Ze+2]);this.addGeometry(Object.assign({},xe,{faces:Se}))}},{key:"addRetained",value:function(je){this.addGeometry(je.model)}},{key:"finish",value:function(){return(this||je).renderer._pInst.pop(),(this||je).geometry}}])&&u(xe.prototype,we),Se&&u(xe,Se),t}();Ye.nextGeometryId=0,Se.default=Ye},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.math.sign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==v(je)&&"function"!=typeof je)return{default:je};var xe=i();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function i(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,i=function(){return je},je)}function v(je){return(v="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}Te.default.prototype.orbitControl=function(xe,we,Se,Ee){var Ye=this||je,Ze=(this._assert3d("orbitControl"),Te.default._validateParameters("orbitControl",arguments),(this||je)._renderer._curCamera);void 0===xe&&(xe=1),void 0===we&&(we=xe),void 0===Se&&(Se=1),"object"!==v(Ee)&&(Ee={}),!0!==(this||je).contextMenuDisabled&&((this||je).canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==(this||je).wheelDefaultDisabled&&((this||je).canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var Qe=Ee.disableTouchActions;!0===(this||je).touchActionsDisabled||void 0!==Qe&&!Qe||((this||je).canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));Qe=Ee.freeRotation,Ee=void 0!==Qe&&Qe;var Ke,Je,$e,et=[],tt=(Qe=((this||je).touches.forEach((function(je){Ye._renderer.prevTouches.forEach((function(xe){je.id===xe.id&&(xe={x:je.x,y:je.y,px:xe.x,py:xe.y},et.push(xe))}))})),(this||je)._renderer.prevTouches=(this||je).touches,0),0),rt=0,ot=0,nt=0,st=(this||je).height<(this||je).width?(this||je).height:(this||je).width,it=!1;return 0<et.length?(it=0<et[0].x&&et[0].x<(this||je).width&&0<et[0].y&&et[0].y<(this||je).height,1===et.length?(tt=-xe*((Ke=et[0]).x-Ke.px)/st,rt=we*(Ke.y-Ke.py)/st):(Ke=et[0],Je=et[1],Qe=-(Math.hypot(Ke.x-Je.x,Ke.y-Je.y)-Math.hypot(Ke.px-Je.px,Ke.py-Je.py))*Se*4e-4,ot=.5*(Ke.x+Je.x)-.5*(Ke.px+Je.px),nt=.5*(Ke.y+Je.y)-.5*(Ke.py+Je.py)),0<(this||je).touches.length?it&&((this||je)._renderer.executeRotateAndMove=!0,(this||je)._renderer.executeZoom=!0):((this||je)._renderer.executeRotateAndMove=!1,(this||je)._renderer.executeZoom=!1)):(it=0<(this||je).mouseX&&(this||je).mouseX<(this||je).width&&0<(this||je).mouseY&&(this||je).mouseY<(this||je).height,0!==(this||je)._mouseWheelDeltaY?(Qe=Math.sign((this||je)._mouseWheelDeltaY)*Se,Qe*=.01,(this||je)._mouseWheelDeltaY=0,it&&((this||je)._renderer.executeZoom=!0)):(this||je)._renderer.executeZoom=!1,(this||je).mouseIsPressed?((this||je).mouseButton===(this||je).LEFT?(tt=-xe*(this||je).movedX/st,rt=we*(this||je).movedY/st):(this||je).mouseButton===(this||je).RIGHT&&(ot=(this||je).movedX,nt=(this||je).movedY*Ze.yScale),it&&((this||je)._renderer.executeRotateAndMove=!0)):(this||je)._renderer.executeRotateAndMove=!1),0!==Qe&&(this||je)._renderer.executeZoom&&((this||je)._renderer.zoomVelocity+=Qe),.001<Math.abs((this||je)._renderer.zoomVelocity)?(Ee?Ze._orbitFree(0,0,(this||je)._renderer.zoomVelocity):Ze._orbit(0,0,(this||je)._renderer.zoomVelocity),0!==Ze.projMatrix.mat4[15]&&(Ze.projMatrix.mat4[0]*=Math.pow(10,-(this||je)._renderer.zoomVelocity),Ze.projMatrix.mat4[5]*=Math.pow(10,-(this||je)._renderer.zoomVelocity),(this||je)._renderer.uPMatrix.mat4[0]=Ze.projMatrix.mat4[0],(this||je)._renderer.uPMatrix.mat4[5]=Ze.projMatrix.mat4[5]),(this||je)._renderer.zoomVelocity*=.85):(this||je)._renderer.zoomVelocity=0,0===tt&&0===rt||!(this||je)._renderer.executeRotateAndMove||(this||je)._renderer.rotateVelocity.add(.6*tt,.6*rt),1e-6<(this||je)._renderer.rotateVelocity.magSq()?(Ee?Ze._orbitFree(-(this||je)._renderer.rotateVelocity.x,(this||je)._renderer.rotateVelocity.y,0):Ze._orbit((this||je)._renderer.rotateVelocity.x,(this||je)._renderer.rotateVelocity.y,0),(this||je)._renderer.rotateVelocity.mult(.85)):(this||je)._renderer.rotateVelocity.set(0,0),0===ot&&0===nt||!(this||je)._renderer.executeRotateAndMove||(Ke=2*ot/(this||je).width,Je=2*-nt/(this||je).height,(this||je)._renderer.moveVelocity.add(.15*Ke,.15*Je)),1e-6<(this||je)._renderer.moveVelocity.magSq()?(Se=Ze._getLocalAxes(),xe=Ze.eyeX-Ze.centerX,we=Ze.eyeY-Ze.centerY,st=Ze.eyeZ-Ze.centerZ,it=Math.sqrt(xe*xe+we*we+st*st),Qe=new Te.default.Vector(Ze.centerX,Ze.centerY,Ze.centerZ),Qe=Ze.cameraMatrix.multiplyPoint(Qe),(Qe=(this||je)._renderer.uPMatrix.multiplyAndNormalizePoint(Qe)).x-=(this||je)._renderer.moveVelocity.x,Qe.y-=(this||je)._renderer.moveVelocity.y,rt=0===(tt=(this||je)._renderer.uPMatrix.mat4)[15]?($e=(tt[8]+Qe.x)/tt[0]*it,(tt[9]+Qe.y)/tt[5]*it):($e=(Qe.x-tt[12])/tt[0],(Qe.y-tt[13])/tt[5]),Ze.setPosition(Ze.eyeX+$e*Se.x[0]+rt*Se.y[0],Ze.eyeY+$e*Se.x[1]+rt*Se.y[1],Ze.eyeZ+$e*Se.x[2]+rt*Se.y[2]),(this||je)._renderer.moveVelocity.mult(.85)):(this||je)._renderer.moveVelocity.set(0,0),this||je},Te.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];Te.default._validateParameters("debugMode",we);for(var Ye=(this||je)._registeredMethods.post.length-1;0<=Ye;Ye--)(this||je)._registeredMethods.post[Ye].toString()!==this._grid().toString()&&(this||je)._registeredMethods.post[Ye].toString()!==this._axesIcon().toString()||(this||je)._registeredMethods.post.splice(Ye,1);we[0]===Ee.GRID?this.registerMethod("post",this._grid(we[1],we[2],we[3],we[4],we[5])):we[0]===Ee.AXES?this.registerMethod("post",this._axesIcon(we[1],we[2],we[3],we[4])):(this.registerMethod("post",this._grid(we[0],we[1],we[2],we[3],we[4])),this.registerMethod("post",this._axesIcon(we[5],we[6],we[7],we[8])))},Te.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var xe=(this||je)._registeredMethods.post.length-1;0<=xe;xe--)(this||je)._registeredMethods.post[xe].toString()!==this._grid().toString()&&(this||je)._registeredMethods.post[xe].toString()!==this._axesIcon().toString()||(this||je)._registeredMethods.post.splice(xe,1)},Te.default.prototype._grid=function(xe,we,Se,Te,Ee){void 0===xe&&(xe=(this||je).width/2),void 0===we&&(we=Math.round(xe/30)<4?4:Math.round(xe/30)),void 0===Se&&(Se=0),void 0===Te&&(Te=0),void 0===Ee&&(Ee=0);var Ye=xe/we,Ze=xe/2;return function(){this.push(),this.stroke(255*(this||je)._renderer.curStrokeColor[0],255*(this||je)._renderer.curStrokeColor[1],255*(this||je)._renderer.curStrokeColor[2]),(this||je)._renderer.uMVMatrix.set((this||je)._renderer._curCamera.cameraMatrix);for(var xe=0;xe<=we;xe++)this.beginShape((this||je).LINES),this.vertex(-Ze+Se,Te,xe*Ye-Ze+Ee),this.vertex(Ze+Se,Te,xe*Ye-Ze+Ee),this.endShape();for(var Qe=0;Qe<=we;Qe++)this.beginShape((this||je).LINES),this.vertex(Qe*Ye-Ze+Se,Te,-Ze+Ee),this.vertex(Qe*Ye-Ze+Se,Te,Ze+Ee),this.endShape();this.pop()}},Te.default.prototype._axesIcon=function(xe,we,Se,Te){return void 0===xe&&(xe=40<(this||je).width/20?(this||je).width/20:40),void 0===we&&(we=-(this||je).width/4),void 0===Se&&(Se=we),void 0===Te&&(Te=we),function(){this.push(),(this||je)._renderer.uMVMatrix.set((this||je)._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape((this||je).LINES),this.vertex(we,Se,Te),this.vertex(we+xe,Se,Te),this.endShape(),this.stroke(0,255,0),this.beginShape((this||je).LINES),this.vertex(we,Se,Te),this.vertex(we,Se+xe,Te),this.endShape(),this.stroke(0,0,255),this.beginShape((this||je).LINES),this.vertex(we,Se,Te),this.vertex(we,Se,Te+xe),this.endShape(),this.pop()}};var Ye=Te.default;Se.default=Ye},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(xe,we,Se){xe("core-js/modules/es.array.filter"),xe("core-js/modules/es.array.filter"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};Te.default.prototype.ambientLight=function(xe,we,Se,Ee){this._assert3d("ambientLight"),Te.default._validateParameters("ambientLight",arguments);var Ye=(this||je).color.apply(this||je,arguments);return(this||je)._renderer.ambientLightColors.push(Ye._array[0],Ye._array[1],Ye._array[2]),(this||je)._renderer._enableLighting=!0,this||je},Te.default.prototype.specularColor=function(xe,we,Se){this._assert3d("specularColor"),Te.default._validateParameters("specularColor",arguments);var Ee=(this||je).color.apply(this||je,arguments);return(this||je)._renderer.specularColors=[Ee._array[0],Ee._array[1],Ee._array[2]],this||je},Te.default.prototype.directionalLight=function(xe,we,Se,Ee,Ye,Ze){this._assert3d("directionalLight"),Te.default._validateParameters("directionalLight",arguments),xe=xe instanceof Te.default.Color?xe:this.color(xe,we,Se);var Qe,Ke;we=arguments[arguments.length-1],Se="number"==typeof we?(Qe=arguments[arguments.length-3],Ke=arguments[arguments.length-2],arguments[arguments.length-1]):(Qe=we.x,Ke=we.y,we.z),we=Math.sqrt(Qe*Qe+Ke*Ke+Se*Se);return(this||je)._renderer.directionalLightDirections.push(Qe/we,Ke/we,Se/we),(this||je)._renderer.directionalLightDiffuseColors.push(xe._array[0],xe._array[1],xe._array[2]),Array.prototype.push.apply((this||je)._renderer.directionalLightSpecularColors,(this||je)._renderer.specularColors),(this||je)._renderer._enableLighting=!0,this||je},Te.default.prototype.pointLight=function(xe,we,Se,Ee,Ye,Ze){this._assert3d("pointLight"),Te.default._validateParameters("pointLight",arguments),xe=xe instanceof Te.default.Color?xe:this.color(xe,we,Se);var Qe,Ke;we=arguments[arguments.length-1],Se="number"==typeof we?(Qe=arguments[arguments.length-3],Ke=arguments[arguments.length-2],arguments[arguments.length-1]):(Qe=we.x,Ke=we.y,we.z);return(this||je)._renderer.pointLightPositions.push(Qe,Ke,Se),(this||je)._renderer.pointLightDiffuseColors.push(xe._array[0],xe._array[1],xe._array[2]),Array.prototype.push.apply((this||je)._renderer.pointLightSpecularColors,(this||je)._renderer.specularColors),(this||je)._renderer._enableLighting=!0,this||je},Te.default.prototype.imageLight=function(xe){(this||je)._renderer.activeImageLight=xe,(this||je)._renderer._enableLighting=!0},Te.default.prototype.panorama=function(xe){this.filter((this||je)._renderer._getSphereMapping(xe))},Te.default.prototype.lights=function(){this._assert3d("lights");var xe=this.color("rgb(128,128,128)");return this.ambientLight(xe),this.directionalLight(xe,0,0,-1),this||je},Te.default.prototype.lightFalloff=function(xe,we,Se){return this._assert3d("lightFalloff"),Te.default._validateParameters("lightFalloff",arguments),xe<0&&(xe=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),we<0&&(we=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),Se<0&&(Se=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===xe&&0===we&&0===Se&&(xe=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),(this||je)._renderer.constantAttenuation=xe,(this||je)._renderer.linearAttenuation=we,(this||je)._renderer.quadraticAttenuation=Se,this||je},Te.default.prototype.spotLight=function(xe,we,Se,Ee,Ye,Ze,Qe,Ke,Je,$e,et){this._assert3d("spotLight"),Te.default._validateParameters("spotLight",arguments);var tt,rt,ot,nt=arguments.length;switch(nt){case 11:case 10:tt=this.color(xe,we,Se),rt=new Te.default.Vector(Ee,Ye,Ze),ot=new Te.default.Vector(Qe,Ke,Je);break;case 9:xe instanceof Te.default.Color?(tt=xe,rt=new Te.default.Vector(we,Se,Ee),ot=new Te.default.Vector(Ye,Ze,Qe),$e=Ke,et=Je):Ee instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Ee,ot=new Te.default.Vector(Ye,Ze,Qe),$e=Ke,et=Je):Qe instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Ee,Ye,Ze),ot=Qe,$e=Ke,et=Je):(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Ee,Ye,Ze),ot=new Te.default.Vector(Qe,Ke,Je));break;case 8:$e=(ot=xe instanceof Te.default.Color?(tt=xe,rt=new Te.default.Vector(we,Se,Ee),new Te.default.Vector(Ye,Ze,Qe)):Ee instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Ee,new Te.default.Vector(Ye,Ze,Qe)):(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Ee,Ye,Ze),Qe),Ke);break;case 7:xe instanceof Te.default.Color&&we instanceof Te.default.Vector?(tt=xe,rt=we,ot=new Te.default.Vector(Se,Ee,Ye),$e=Ze,et=Qe):xe instanceof Te.default.Color&&Ye instanceof Te.default.Vector?(tt=xe,rt=new Te.default.Vector(we,Se,Ee),ot=Ye,$e=Ze,et=Qe):Ee instanceof Te.default.Vector&&Ye instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Ee,ot=Ye,$e=Ze,et=Qe):ot=xe instanceof Te.default.Color?(tt=xe,rt=new Te.default.Vector(we,Se,Ee),new Te.default.Vector(Ye,Ze,Qe)):Ee instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Ee,new Te.default.Vector(Ye,Ze,Qe)):(tt=this.color(xe,we,Se),rt=new Te.default.Vector(Ee,Ye,Ze),Qe);break;case 6:Ee instanceof Te.default.Vector&&Ye instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Ee,ot=Ye,$e=Ze):xe instanceof Te.default.Color&&Ye instanceof Te.default.Vector?(tt=xe,rt=new Te.default.Vector(we,Se,Ee),ot=Ye,$e=Ze):xe instanceof Te.default.Color&&we instanceof Te.default.Vector&&(tt=xe,rt=we,ot=new Te.default.Vector(Se,Ee,Ye),$e=Ze);break;case 5:xe instanceof Te.default.Color&&we instanceof Te.default.Vector&&Se instanceof Te.default.Vector?(tt=xe,rt=we,ot=Se,$e=Ee,et=Ye):Ee instanceof Te.default.Vector&&Ye instanceof Te.default.Vector?(tt=this.color(xe,we,Se),rt=Ee,ot=Ye):xe instanceof Te.default.Color&&Ye instanceof Te.default.Vector?(tt=xe,rt=new Te.default.Vector(we,Se,Ee),ot=Ye):xe instanceof Te.default.Color&&we instanceof Te.default.Vector&&(tt=xe,rt=we,ot=new Te.default.Vector(Se,Ee,Ye));break;case 4:tt=xe,rt=we,ot=Se,$e=Ee;break;case 3:tt=xe,rt=we,ot=Se;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(nt<3?"few":"many"," arguments were provided")),this||je}return(this||je)._renderer.spotLightDiffuseColors.push(tt._array[0],tt._array[1],tt._array[2]),Array.prototype.push.apply((this||je)._renderer.spotLightSpecularColors,(this||je)._renderer.specularColors),(this||je)._renderer.spotLightPositions.push(rt.x,rt.y,rt.z),ot.normalize(),(this||je)._renderer.spotLightDirections.push(ot.x,ot.y,ot.z),void 0===$e&&($e=Math.PI/3),void 0!==et&&et<1?(et=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===et&&(et=100),$e=(this||je)._renderer._pInst._toRadians($e),(this||je)._renderer.spotLightAngle.push(Math.cos($e)),(this||je)._renderer.spotLightConc.push(et),(this||je)._renderer._enableLighting=!0,this||je},Te.default.prototype.noLights=function(){this._assert3d("noLights");for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("noLights",we),(this||je)._renderer.activeImageLight=null,(this||je)._renderer._enableLighting=!1,(this||je)._renderer.ambientLightColors.length=0,(this||je)._renderer.specularColors=[1,1,1],(this||je)._renderer.directionalLightDirections.length=0,(this||je)._renderer.directionalLightDiffuseColors.length=0,(this||je)._renderer.directionalLightSpecularColors.length=0,(this||je)._renderer.pointLightPositions.length=0,(this||je)._renderer.pointLightDiffuseColors.length=0,(this||je)._renderer.pointLightSpecularColors.length=0,(this||je)._renderer.spotLightPositions.length=0,(this||je)._renderer.spotLightDirections.length=0,(this||je)._renderer.spotLightDiffuseColors.length=0,(this||je)._renderer.spotLightSpecularColors.length=0,(this||je)._renderer.spotLightAngle.length=0,(this||je)._renderer.spotLightConc.length=0,(this||je)._renderer.constantAttenuation=1,(this||je)._renderer.linearAttenuation=0,(this||je)._renderer.quadraticAttenuation=0,(this||je)._renderer._useShininess=1,(this||je)._renderer._useMetalness=0,this||je};xe=Te.default;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.splice"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.match"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.trim"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ee=xe("../core/main"))&&Ee.__esModule?Ee:{default:Ee};function n(je){return(n="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("./p5.Geometry"),Te.default.prototype.loadModel=function(xe,we){Te.default._validateParameters("loadModel",arguments);var Se,Ee,Ye=!1,Ze=!1,Qe=!1,Ke=xe.slice(-4),Je=(we&&"object"===n(we)?(Ye=we.normalize||!1,Se=we.successCallback,Ee=we.failureCallback,Ke=we.fileType||Ke,Ze=we.flipU||!1,Qe=we.flipV||!1):"boolean"==typeof we?(Ye=we,Se=arguments[2],Ee=arguments[3],void 0!==arguments[4]&&(Ke=arguments[4])):(Se="function"==typeof we?we:void 0,Ee=arguments[2],void 0!==arguments[3]&&(Ke=arguments[3])),new Te.default.Geometry),$e=(Je.gid="".concat(xe,"|").concat(Ye),this||je);return Ke.match(/\.stl$/i)?this.httpDo(xe,"GET","arrayBuffer",(function(je){!function(je,xe){if(function(je){for(var xe=new DataView(je),we=[115,111,108,105,100],Se=0;Se<5;Se++)if(function(je,xe,we){for(var Se=0,Te=je.length;Se<Te;Se++)if(je[Se]!==xe.getUint8(we+Se,!1))return;return 1}(we,xe,Se))return;return 1}(xe))!function(je,xe){for(var we,Se,Ee,Ye,Ze,Qe,Ke,Je=new DataView(xe),$e=Je.getUint32(80,!0),et=!1,tt=0;tt<70;tt++)1129270351===Je.getUint32(tt,!1)&&82===Je.getUint8(tt+4)&&61===Je.getUint8(tt+5)&&(et=!0,Ye=[],Ze=Je.getUint8(tt+6)/255,Qe=Je.getUint8(tt+7)/255,Ke=Je.getUint8(tt+8)/255);for(var rt=0;rt<$e;rt++){for(var ot,nt=84+50*rt,st=Je.getFloat32(nt,!0),it=Je.getFloat32(4+nt,!0),dt=Je.getFloat32(8+nt,!0),ht=(et&&(ot=Je.getUint16(48+nt,!0),Ee=0==(32768&ot)?(we=(31&ot)/31,Se=(ot>>5&31)/31,(ot>>10&31)/31):(we=Ze,Se=Qe,Ke)),new Te.default.Vector(st,it,dt)),ft=1;ft<=3;ft++){var pt=nt+12*ft;pt=new Te.default.Vector(Je.getFloat32(pt,!0),Je.getFloat32(4+pt,!0),Je.getFloat32(8+pt,!0));je.vertices.push(pt),je.vertexNormals.push(ht),et&&Ye.push(we,Se,Ee)}je.faces.push([3*rt,3*rt+1,3*rt+2]),je.uvs.push([0,0],[0,0],[0,0])}}(je,xe);else{xe=new DataView(xe);if(!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");xe=new TextDecoder("utf-8").decode(xe).split("\n");!function(je,xe){for(var we,Se,Ee="",Ye=[],Ze=0;Ze<xe.length;++Ze){for(var Qe=xe[Ze].trim(),Ke=Qe.split(" "),Je=0;Je<Ke.length;++Je)""===Ke[Je]&&Ke.splice(Je,1);if(0!==Ke.length)switch(Ee){case"":if("solid"!==Ke[0])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "solid"'));Ee="solid";break;case"solid":if("facet"!==Ke[0]||"normal"!==Ke[1])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "facet normal"'));we=new Te.default.Vector(parseFloat(Ke[2]),parseFloat(Ke[3]),parseFloat(Ke[4])),je.vertexNormals.push(we,we,we),Ee="facet normal";break;case"facet normal":if("outer"!==Ke[0]||"loop"!==Ke[1])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "outer loop"'));Ee="vertex";break;case"vertex":if("vertex"===Ke[0])Se=new Te.default.Vector(parseFloat(Ke[1]),parseFloat(Ke[2]),parseFloat(Ke[3])),je.vertices.push(Se),je.uvs.push([0,0]),Ye.push(je.vertices.indexOf(Se));else{if("endloop"!==Ke[0])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "vertex" or "endloop"'));je.faces.push(Ye),Ye=[],Ee="endloop"}break;case"endloop":if("endfacet"!==Ke[0])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "endfacet"'));Ee="endfacet";break;case"endfacet":if("endsolid"!==Ke[0]){if("facet"!==Ke[0]||"normal"!==Ke[1])return console.error(Qe),console.error('Invalid state "'.concat(Ke[0],'", should be "endsolid" or "facet normal"'));we=new Te.default.Vector(parseFloat(Ke[2]),parseFloat(Ke[3]),parseFloat(Ke[4])),je.vertexNormals.push(we,we,we),Ee="facet normal"}break;default:console.error('Invalid state "'.concat(Ee,'"'))}}}(je,xe)}}(Je,je),Ye&&Je.normalize(),Ze&&Je.flipU(),Qe&&Je.flipV(),$e._decrementPreload(),"function"==typeof Se&&Se(Je)}),Ee):Ke.match(/\.obj$/i)?this.loadStrings(xe,(function(je){for(var xe=Je,we=je,Ee={v:[],vt:[],vn:[]},Ke={},et=0;et<we.length;++et){var tt=we[et].trim().split(/\b\s+/);if(0<tt.length)if("v"===tt[0]||"vn"===tt[0]){var rt=new Te.default.Vector(parseFloat(tt[1]),parseFloat(tt[2]),parseFloat(tt[3]));Ee[tt[0]].push(rt)}else if("vt"===tt[0]){rt=[parseFloat(tt[1]),1-parseFloat(tt[2])];Ee[tt[0]].push(rt)}else if("f"===tt[0])for(var ot=3;ot<tt.length;++ot){for(var nt=[],st=[1,ot-1,ot],it=0;it<st.length;++it){var dt=tt[st[it]],ht=0;if(void 0!==Ke[dt])ht=Ke[dt];else{for(var ft=dt.split("/"),pt=0;pt<ft.length;pt++)ft[pt]=parseInt(ft[pt])-1;ht=Ke[dt]=xe.vertices.length,xe.vertices.push(Ee.v[ft[0]].copy()),Ee.vt[ft[1]]?xe.uvs.push(Ee.vt[ft[1]].slice()):xe.uvs.push([0,0]),Ee.vn[ft[2]]&&xe.vertexNormals.push(Ee.vn[ft[2]].copy())}nt.push(ht)}nt[0]!==nt[1]&&nt[0]!==nt[2]&&nt[1]!==nt[2]&&xe.faces.push(nt)}}0===xe.vertexNormals.length&&xe.computeNormals(),Ye&&Je.normalize(),Ze&&Je.flipU(),Qe&&Je.flipV(),$e._decrementPreload(),"function"==typeof Se&&Se(Je)}),Ee):(Te.default._friendlyFileLoadError(3,xe),Ee?Ee():Te.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),Je},Te.default.prototype.model=function(xe){this._assert3d("model"),Te.default._validateParameters("model",arguments),0<xe.vertices.length&&((this||je)._renderer.geometryInHash(xe.gid)||(0===xe.edges.length&&xe._makeTriangleEdges(),xe._edgesToVertices(),(this||je)._renderer.createBuffers(xe.gid,xe)),(this||je)._renderer.drawBuffers(xe.gid))};var Ee=Te.default;Se.default=Ee},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],328:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.join"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}xe("./p5.Texture"),Te.default.prototype.loadShader=function(xe,we,Se,Ee){Te.default._validateParameters("loadShader",arguments),Ee=Ee||console.error;function n(){Ze._decrementPreload(),Se&&Se(Ye)}var Ye=new Te.default.Shader,Ze=this||je,Qe=!1,Ke=!1;return this.loadStrings(xe,(function(je){Ye._vertSrc=je.join("\n"),Ke=!0,Qe&&n()}),Ee),this.loadStrings(we,(function(je){Ye._fragSrc=je.join("\n"),Qe=!0,Ke&&n()}),Ee),Ye},Te.default.prototype.createShader=function(xe,we){return Te.default._validateParameters("createShader",arguments),new Te.default.Shader((this||je)._renderer,xe,we)},Te.default.prototype.createFilterShader=function(xe){Te.default._validateParameters("createFilterShader",arguments);var we=xe.includes("#version 300 es")?"#version 300 es\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    in vec3 aPosition;\n    in vec2 aTexCoord;\n    out vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ":"\n    uniform mat4 uModelViewMatrix;\n    uniform mat4 uProjectionMatrix;\n\n    attribute vec3 aPosition;\n    // texcoords only come from p5 to vertex shader\n    // so pass texcoords on to the fragment shader in a varying variable\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n\n    void main() {\n      // transferring texcoords for the frag shader\n      vTexCoord = aTexCoord;\n\n      // copy position with a fourth coordinate for projection (1.0 is normal)\n      vec4 positionVec4 = vec4(aPosition, 1.0);\n\n      // project to 3D space\n      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n    }\n  ";we=new Te.default.Shader((this||je)._renderer,we,xe);return(this||je)._renderer.GL?we.ensureCompiledOnContext(this||je):we.ensureCompiledOnContext((this||je)._renderer.getFilterGraphicsLayer()),we},Te.default.prototype.shader=function(xe){return this._assert3d("shader"),Te.default._validateParameters("shader",arguments),xe.ensureCompiledOnContext(this||je),xe.isStrokeShader()?(this||je)._renderer.userStrokeShader=xe:((this||je)._renderer.userFillShader=xe,(this||je)._renderer._useNormalMaterial=!1),this||je},Te.default.prototype.resetShader=function(){return(this||je)._renderer.userFillShader=(this||je)._renderer.userStrokeShader=null,this||je},Te.default.prototype.texture=function(xe){return this._assert3d("texture"),Te.default._validateParameters("texture",arguments),xe.gifProperties&&xe._animateGif(this||je),(this||je)._renderer.drawMode=Ee.TEXTURE,(this||je)._renderer._useNormalMaterial=!1,(this||je)._renderer._tex=xe,(this||je)._renderer._setProperty("_doFill",!0),this||je},Te.default.prototype.textureMode=function(xe){xe!==Ee.IMAGE&&xe!==Ee.NORMAL?console.warn("You tried to set ".concat(xe," textureMode only supports IMAGE & NORMAL ")):(this||je)._renderer.textureMode=xe},Te.default.prototype.textureWrap=function(xe){var we=1<arguments.length&&void 0!==arguments[1]?arguments[1]:xe,Se=((this||je)._renderer.textureWrapX=xe,(this||je)._renderer.textureWrapY=we,!0),Te=!1,Ee=void 0;try{for(var Ye,Ze=(this||je)._renderer.textures.values()[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0)Ye.value.setWrapMode(xe,we)}catch(xe){Te=!0,Ee=xe}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}},Te.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];return Te.default._validateParameters("normalMaterial",we),(this||je)._renderer.drawMode=Ee.FILL,(this||je)._renderer._useSpecularMaterial=!1,(this||je)._renderer._useEmissiveMaterial=!1,(this||je)._renderer._useNormalMaterial=!0,(this||je)._renderer.curFillColor=[1,1,1,1],(this||je)._renderer._setProperty("_doFill",!0),this.noStroke(),this||je},Te.default.prototype.ambientMaterial=function(xe,we,Se){this._assert3d("ambientMaterial"),Te.default._validateParameters("ambientMaterial",arguments);var Ee=Te.default.prototype.color.apply(this||je,arguments);return(this||je)._renderer._hasSetAmbient=!0,(this||je)._renderer.curAmbientColor=Ee._array,(this||je)._renderer._useNormalMaterial=!1,(this||je)._renderer._enableLighting=!0,(this||je)._renderer._setProperty("_doFill",!0),this||je},Te.default.prototype.emissiveMaterial=function(xe,we,Se,Ee){this._assert3d("emissiveMaterial"),Te.default._validateParameters("emissiveMaterial",arguments);var Ye=Te.default.prototype.color.apply(this||je,arguments);return(this||je)._renderer.curEmissiveColor=Ye._array,(this||je)._renderer._useEmissiveMaterial=!0,(this||je)._renderer._useNormalMaterial=!1,(this||je)._renderer._enableLighting=!0,this||je},Te.default.prototype.specularMaterial=function(xe,we,Se,Ee){this._assert3d("specularMaterial"),Te.default._validateParameters("specularMaterial",arguments);var Ye=Te.default.prototype.color.apply(this||je,arguments);return(this||je)._renderer.curSpecularColor=Ye._array,(this||je)._renderer._useSpecularMaterial=!0,(this||je)._renderer._useNormalMaterial=!1,(this||je)._renderer._enableLighting=!0,this||je},Te.default.prototype.shininess=function(xe){return this._assert3d("shininess"),Te.default._validateParameters("shininess",arguments),(this||je)._renderer._useShininess=xe=xe<1?1:xe,this||je},Te.default.prototype.metalness=function(xe){this._assert3d("metalness");xe=1-Math.exp(-xe/100);return(this||je)._renderer._useMetalness=xe,this||je},Te.default.RendererGL.prototype._applyColorBlend=function(xe,we){var Se=(this||je).GL,Te=(this||je).drawMode===Ee.TEXTURE;we=we||(this||je).userFillShader||(this||je).userStrokeShader||(this||je).userPointShader||Te||(this||je).curBlendMode!==Ee.BLEND||xe[xe.length-1]<1||(this||je)._isErasing;return we!==(this||je)._isBlending&&(we||(this||je).curBlendMode!==Ee.BLEND&&(this||je).curBlendMode!==Ee.ADD?Se.enable(Se.BLEND):Se.disable(Se.BLEND),Se.depthMask(!0),(this||je)._isBlending=we),this._applyBlendMode(),xe},Te.default.RendererGL.prototype._applyBlendMode=function(){if((this||je)._cachedBlendMode!==(this||je).curBlendMode){var xe=(this||je).GL;switch((this||je).curBlendMode){case Ee.BLEND:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ONE_MINUS_SRC_ALPHA);break;case Ee.ADD:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ONE);break;case Ee.REMOVE:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ZERO,xe.ONE_MINUS_SRC_ALPHA);break;case Ee.MULTIPLY:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.DST_COLOR,xe.ONE_MINUS_SRC_ALPHA);break;case Ee.SCREEN:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ONE_MINUS_SRC_COLOR);break;case Ee.EXCLUSION:xe.blendEquationSeparate(xe.FUNC_ADD,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE_MINUS_DST_COLOR,xe.ONE_MINUS_SRC_COLOR,xe.ONE,xe.ONE);break;case Ee.REPLACE:xe.blendEquation(xe.FUNC_ADD),xe.blendFunc(xe.ONE,xe.ZERO);break;case Ee.SUBTRACT:xe.blendEquationSeparate(xe.FUNC_REVERSE_SUBTRACT,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE,xe.ONE,xe.ONE,xe.ONE_MINUS_SRC_ALPHA);break;case Ee.DARKEST:(this||je).blendExt?(xe.blendEquationSeparate((this||je).blendExt.MIN||(this||je).blendExt.MIN_EXT,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE,xe.ONE,xe.ONE,xe.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case Ee.LIGHTEST:(this||je).blendExt?(xe.blendEquationSeparate((this||je).blendExt.MAX||(this||je).blendExt.MAX_EXT,xe.FUNC_ADD),xe.blendFuncSeparate(xe.ONE,xe.ONE,xe.ONE,xe.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}(this||je)._isErasing||((this||je)._cachedBlendMode=(this||je).curBlendMode)}};var Ye=Te.default;Se.default=Ye},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(xe,we,Se){xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.hypot"),xe("core-js/modules/es.string.sub"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.prototype.camera=function(){var xe;this._assert3d("camera");for(var we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("camera",Se),(xe=(this||je)._renderer._curCamera).camera.apply(xe,Se),this||je},Te.default.prototype.perspective=function(){var xe;this._assert3d("perspective");for(var we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("perspective",Se),(xe=(this||je)._renderer._curCamera).perspective.apply(xe,Se),this||je},Te.default.prototype.ortho=function(){var xe;this._assert3d("ortho");for(var we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("ortho",Se),(xe=(this||je)._renderer._curCamera).ortho.apply(xe,Se),this||je},Te.default.prototype.frustum=function(){var xe;this._assert3d("frustum");for(var we=arguments.length,Se=new Array(we),Ee=0;Ee<we;Ee++)Se[Ee]=arguments[Ee];return Te.default._validateParameters("frustum",Se),(xe=(this||je)._renderer._curCamera).frustum.apply(xe,Se),this||je},Te.default.prototype.createCamera=function(){this._assert3d("createCamera");var xe=new Te.default.Camera((this||je)._renderer);return xe._computeCameraDefaultSettings(),xe._setDefaultCamera(),(this||je)._renderer._curCamera=xe},Te.default.Camera=function(){function t(xe){if(!((this||je)instanceof t))throw new TypeError("Cannot call a class as a function");(this||je)._renderer=xe,(this||je).cameraType="default",(this||je).cameraMatrix=new Te.default.Matrix,(this||je).projMatrix=new Te.default.Matrix,(this||je).yScale=1}var xe,we,Se;return xe=t,(we=[{key:"perspective",value:function(xe,we,Se,Ee){(this||je).cameraType=0<arguments.length?"custom":"default",void 0===xe?(xe=(this||je).defaultCameraFOV,(this||je).cameraFOV=xe):(this||je).cameraFOV=(this||je)._renderer._pInst._toRadians(xe),void 0===we&&(we=(this||je).defaultAspectRatio),void 0===Se&&(Se=(this||je).defaultCameraNear),void 0===Ee&&(Ee=(this||je).defaultCameraFar),Se<=1e-4&&(Se=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),Ee<Se&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),(this||je).aspectRatio=we,(this||je).cameraNear=Se,(this||je).cameraFar=Ee,(this||je).projMatrix=Te.default.Matrix.identity();xe=1/Math.tan((this||je).cameraFOV/2);var Ye=1/((this||je).cameraNear-(this||je).cameraFar);(this||je).projMatrix.set(xe/we,0,0,0,0,-xe*(this||je).yScale,0,0,0,0,(Ee+Se)*Ye,-1,0,0,2*Ee*Se*Ye,0),this._isActive()&&(this||je)._renderer.uPMatrix.set((this||je).projMatrix)}},{key:"ortho",value:function(xe,we,Se,Ee,Ye,Ze){void 0===xe&&(xe=-(this||je)._renderer.width/2),void 0===we&&(we=+(this||je)._renderer.width/2),void 0===Se&&(Se=-(this||je)._renderer.height/2),void 0===Ee&&(Ee=+(this||je)._renderer.height/2),void 0===Ye&&(Ye=0),void 0===Ze&&(Ze=Math.max((this||je)._renderer.width,(this||je)._renderer.height)+800),(this||je).cameraNear=Ye;var Qe=we-xe,Ke=Ee-Se,Je=((this||je).cameraFar=Ze)-Ye,$e=2/Qe,et=2/Ke*(this||je).yScale,tt=-2/Je;we=-(we+xe)/Qe,xe=-(Ee+Se)/Ke,Qe=-(Ze+Ye)/Je;(this||je).projMatrix=Te.default.Matrix.identity(),(this||je).projMatrix.set($e,0,0,0,0,-et,0,0,0,0,tt,0,we,xe,Qe,1),this._isActive()&&(this||je)._renderer.uPMatrix.set((this||je).projMatrix),(this||je).cameraType="custom"}},{key:"frustum",value:function(xe,we,Se,Ee,Ye,Ze){void 0===xe&&(xe=.05*-(this||je)._renderer.width),void 0===we&&(we=.05*+(this||je)._renderer.width),void 0===Se&&(Se=.05*+(this||je)._renderer.height),void 0===Ee&&(Ee=.05*-(this||je)._renderer.height),void 0===Ye&&(Ye=(this||je).defaultCameraNear),void 0===Ze&&(Ze=(this||je).defaultCameraFar),(this||je).cameraNear=Ye;var Qe=we-xe,Ke=Ee-Se,Je=((this||je).cameraFar=Ze)-Ye,$e=2*Ye/Qe,et=2*Ye/Ke*(this||je).yScale,tt=-2*Ze*Ye/Je;we=(we+xe)/Qe,xe=(Ee+Se)/Ke,Qe=-(Ze+Ye)/Je;(this||je).projMatrix=Te.default.Matrix.identity(),(this||je).projMatrix.set($e,0,0,0,0,-et,0,0,we,xe,Qe,-1,0,0,tt,0),this._isActive()&&(this||je)._renderer.uPMatrix.set((this||je).projMatrix),(this||je).cameraType="custom"}},{key:"_rotateView",value:function(xe,we,Se,Ee){var Ye=(this||je).centerX,Ze=(this||je).centerY,Qe=(this||je).centerZ,Ke=(Ye-=(this||je).eyeX,Ze-=(this||je).eyeY,Qe-=(this||je).eyeZ,Te.default.Matrix.identity((this||je)._renderer._pInst));xe=(Ke.rotate((this||je)._renderer._pInst._toRadians(xe),we,Se,Ee),[Ye*Ke.mat4[0]+Ze*Ke.mat4[4]+Qe*Ke.mat4[8],Ye*Ke.mat4[1]+Ze*Ke.mat4[5]+Qe*Ke.mat4[9],Ye*Ke.mat4[2]+Ze*Ke.mat4[6]+Qe*Ke.mat4[10]]);xe[0]+=(this||je).eyeX,xe[1]+=(this||je).eyeY,xe[2]+=(this||je).eyeZ,this.camera((this||je).eyeX,(this||je).eyeY,(this||je).eyeZ,xe[0],xe[1],xe[2],(this||je).upX,(this||je).upY,(this||je).upZ)}},{key:"pan",value:function(je){var xe=this._getLocalAxes();this._rotateView(je,xe.y[0],xe.y[1],xe.y[2])}},{key:"tilt",value:function(je){var xe=this._getLocalAxes();this._rotateView(je,xe.x[0],xe.x[1],xe.x[2])}},{key:"lookAt",value:function(xe,we,Se){this.camera((this||je).eyeX,(this||je).eyeY,(this||je).eyeZ,xe,we,Se,(this||je).upX,(this||je).upY,(this||je).upZ)}},{key:"camera",value:function(xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke){void 0===xe&&(xe=(this||je).defaultEyeX,we=(this||je).defaultEyeY,Se=(this||je).defaultEyeZ,Te=xe,Ee=we,Qe=1,Ke=Ze=Ye=0),(this||je).eyeX=xe,(this||je).eyeY=we,(this||je).eyeZ=Se,void 0!==Te&&((this||je).centerX=Te,(this||je).centerY=Ee,(this||je).centerZ=Ye),void 0!==Ze&&((this||je).upX=Ze,(this||je).upY=Qe,(this||je).upZ=Ke);Te=this._getLocalAxes(),(this||je).cameraMatrix.set(Te.x[0],Te.y[0],Te.z[0],0,Te.x[1],Te.y[1],Te.z[1],0,Te.x[2],Te.y[2],Te.z[2],0,0,0,0,1),Ee=-xe;return(this||je).cameraMatrix.translate([Ee,-we,-Se]),this._isActive()&&(this||je)._renderer.uMVMatrix.set((this||je).cameraMatrix),this||je}},{key:"move",value:function(xe,we,Se){var Te=this._getLocalAxes();xe=[Te.x[0]*xe,Te.x[1]*xe,Te.x[2]*xe],we=[Te.y[0]*we,Te.y[1]*we,Te.y[2]*we],Te=[Te.z[0]*Se,Te.z[1]*Se,Te.z[2]*Se];this.camera((this||je).eyeX+xe[0]+we[0]+Te[0],(this||je).eyeY+xe[1]+we[1]+Te[1],(this||je).eyeZ+xe[2]+we[2]+Te[2],(this||je).centerX+xe[0]+we[0]+Te[0],(this||je).centerY+xe[1]+we[1]+Te[1],(this||je).centerZ+xe[2]+we[2]+Te[2],(this||je).upX,(this||je).upY,(this||je).upZ)}},{key:"setPosition",value:function(xe,we,Se){var Te=xe-(this||je).eyeX,Ee=we-(this||je).eyeY,Ye=Se-(this||je).eyeZ;this.camera(xe,we,Se,(this||je).centerX+Te,(this||je).centerY+Ee,(this||je).centerZ+Ye,(this||je).upX,(this||je).upY,(this||je).upZ)}},{key:"set",value:function(xe){for(var we=0,Se=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];we<Se.length;we++){var Te=Se[we];(this||je)[Te]=xe[Te]}(this||je).cameraMatrix=xe.cameraMatrix.copy(),(this||je).projMatrix=xe.projMatrix.copy(),this._isActive()&&((this||je)._renderer.uMVMatrix.mat4=(this||je).cameraMatrix.mat4.slice(),(this||je)._renderer.uPMatrix.mat4=(this||je).projMatrix.mat4.slice())}},{key:"slerp",value:function(xe,we,Se){var Ee,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot,nt,st,it,dt,ht,ft,pt;0===Se?this.set(xe):1===Se?this.set(we):(0!==(this||je).projMatrix.mat4[15]&&((this||je).projMatrix.mat4[0]=xe.projMatrix.mat4[0]*Math.pow(we.projMatrix.mat4[0]/xe.projMatrix.mat4[0],Se),(this||je).projMatrix.mat4[5]=xe.projMatrix.mat4[5]*Math.pow(we.projMatrix.mat4[5]/xe.projMatrix.mat4[5],Se),this._isActive()&&((this||je)._renderer.uPMatrix.mat4=(this||je).projMatrix.mat4.slice())),Qe=new Te.default.Vector(xe.eyeX,xe.eyeY,xe.eyeZ),Ke=new Te.default.Vector(we.eyeX,we.eyeY,we.eyeZ),ht=new Te.default.Vector(xe.centerX,xe.centerY,xe.centerZ),pt=new Te.default.Vector(we.centerX,we.centerY,we.centerZ),Ze=Te.default.Vector.dist(Qe,ht),Ee=Te.default.Vector.dist(Ke,pt),Ee=Ze*Math.pow(Ee/Ze,Se),Ze=Te.default.Vector.sub(Qe,Ke),Ye=1,1e-6<(ft=(it=Qe.copy().sub(Ke).sub(ht).add(pt)).magSq())&&(Ye=Te.default.Vector.dot(Ze,it)/ft,Ye=Math.max(0,Math.min(Ye,1))),Ze=Te.default.Vector.lerp(Te.default.Vector.lerp(Qe,ht,Ye),Te.default.Vector.lerp(Ke,pt,Ye),Se),it=xe.cameraMatrix.createSubMatrix3x3(),ft=we.cameraMatrix.createSubMatrix3x3(),Qe=it.row(2),ht=ft.row(2),Ke=it.row(1),pt=ft.row(1),xe=new Te.default.Vector,we=new Te.default.Vector,Je=new Te.default.Vector,$e=new Te.default.Vector,1-(et=.5*((it=(ft=ft.mult3x3(it.copy().transpose3x3())).diagonal())[0]+it[1]+it[2]-1))<1e-7?(xe.set(Te.default.Vector.lerp(Qe,ht,Se)).normalize(),Je.set(xe).mult(Ye*Ee).add(Ze),$e.set(xe).mult((Ye-1)*Ee).add(Ze),we.set(Te.default.Vector.lerp(Ke,pt,Se)).normalize()):(ht=1/(1-et),pt=Math.max(it[0],it[1],it[2]),nt=ft.mat3[1]+ft.mat3[3],st=ft.mat3[2]+ft.mat3[6],dt=ft.mat3[5]+ft.mat3[7],pt=pt===it[0]?(rt=.5*nt*(ht/=tt=Math.sqrt((it[0]-et)*ht)),ot=.5*st*ht,.5*(ft.mat3[7]-ft.mat3[5])/tt):pt===it[1]?(ot=.5*dt*(ht/=rt=Math.sqrt((it[1]-et)*ht)),tt=.5*nt*ht,.5*(ft.mat3[2]-ft.mat3[6])/rt):(tt=.5*st*(ht/=ot=Math.sqrt((it[2]-et)*ht)),rt=.5*dt*ht,.5*(ft.mat3[3]-ft.mat3[1])/ot),nt=Se*Math.atan2(pt,et),st=Math.cos(nt),it=Math.sin(nt),(pt=new Te.default.Matrix("mat3",[st+(dt=1-st)*tt*tt,dt*(ht=tt*rt)+it*ot,dt*(ft=ot*tt)-it*rt,dt*ht-it*ot,st+dt*rt*rt,dt*(Se=rt*ot)+it*tt,dt*ft+it*rt,dt*Se-it*tt,st+dt*ot*ot])).multiplyVec3(Qe,xe),Je.set(xe).mult(Ye*Ee).add(Ze),$e.set(xe).mult((Ye-1)*Ee).add(Ze),pt.multiplyVec3(Ke,we)),this.camera(Je.x,Je.y,Je.z,$e.x,$e.y,$e.z,we.x,we.y,we.z))}},{key:"_computeCameraDefaultSettings",value:function(){(this||je).defaultAspectRatio=(this||je)._renderer.width/(this||je)._renderer.height,(this||je).defaultEyeX=0,(this||je).defaultEyeY=0,(this||je).defaultEyeZ=800,(this||je).defaultCameraFOV=2*Math.atan((this||je)._renderer.height/2/(this||je).defaultEyeZ),(this||je).defaultCenterX=0,(this||je).defaultCenterY=0,(this||je).defaultCenterZ=0,(this||je).defaultCameraNear=.1*(this||je).defaultEyeZ,(this||je).defaultCameraFar=10*(this||je).defaultEyeZ}},{key:"_setDefaultCamera",value:function(){(this||je).cameraFOV=(this||je).defaultCameraFOV,(this||je).aspectRatio=(this||je).defaultAspectRatio,(this||je).eyeX=(this||je).defaultEyeX,(this||je).eyeY=(this||je).defaultEyeY,(this||je).eyeZ=(this||je).defaultEyeZ,(this||je).centerX=(this||je).defaultCenterX,(this||je).centerY=(this||je).defaultCenterY,(this||je).centerZ=(this||je).defaultCenterZ,(this||je).upX=0,(this||je).upY=1,(this||je).upZ=0,(this||je).cameraNear=(this||je).defaultCameraNear,(this||je).cameraFar=(this||je).defaultCameraFar,this.perspective(),this.camera(),(this||je).cameraType="default"}},{key:"_resize",value:function(){"default"===(this||je).cameraType&&(this._computeCameraDefaultSettings(),(this||je).cameraFOV=(this||je).defaultCameraFOV,(this||je).aspectRatio=(this||je).defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var xe=new Te.default.Camera((this||je)._renderer);return xe.cameraFOV=(this||je).cameraFOV,xe.aspectRatio=(this||je).aspectRatio,xe.eyeX=(this||je).eyeX,xe.eyeY=(this||je).eyeY,xe.eyeZ=(this||je).eyeZ,xe.centerX=(this||je).centerX,xe.centerY=(this||je).centerY,xe.centerZ=(this||je).centerZ,xe.upX=(this||je).upX,xe.upY=(this||je).upY,xe.upZ=(this||je).upZ,xe.cameraNear=(this||je).cameraNear,xe.cameraFar=(this||je).cameraFar,xe.cameraType=(this||je).cameraType,xe.cameraMatrix=(this||je).cameraMatrix.copy(),xe.projMatrix=(this||je).projMatrix.copy(),xe.yScale=(this||je).yScale,xe}},{key:"_getLocalAxes",value:function(){var xe=(this||je).eyeX-(this||je).centerX,we=(this||je).eyeY-(this||je).centerY,Se=(this||je).eyeZ-(this||je).centerZ,Te=Math.sqrt(xe*xe+we*we+Se*Se),Ee=(Te=(0!==Te&&(xe/=Te,we/=Te,Se/=Te),(this||je).upX),(Qe=(this||je).upY)*Se-(Ke=(this||je).upZ)*we),Ye=-Te*Se+Ke*xe,Ze=Te*we-Qe*xe,Qe=(Te=we*Ze-Se*Ye,-xe*Ze+Se*Ee),Ke=xe*Ye-we*Ee,Je=Math.sqrt(Ee*Ee+Ye*Ye+Ze*Ze);Je=(0!==Je&&(Ee/=Je,Ye/=Je,Ze/=Je),Math.sqrt(Te*Te+Qe*Qe+Ke*Ke));return 0!==Je&&(Te/=Je,Qe/=Je,Ke/=Je),{x:[Ee,Ye,Ze],y:[Te,Qe,Ke],z:[xe,we,Se]}}},{key:"_orbit",value:function(xe,we,Se){var Ee=(this||je).eyeX-(this||je).centerX,Ye=(this||je).eyeY-(this||je).centerY,Ze=(this||je).eyeZ-(this||je).centerZ,Qe=Math.hypot(Ee,Ye,Ze),Ke=(Ee=new Te.default.Vector(Ee,Ye,Ze).normalize(),Ye=new Te.default.Vector((this||je).upX,(this||je).upY,(this||je).upZ).normalize(),Ze=Te.default.Vector.cross(Ye,Ee).normalize(),Te.default.Vector.cross(Ze,Ye));Se=((Qe=(Qe*=Math.pow(10,Se))<(this||je).cameraNear?(this||je).cameraNear:Qe)>(this||je).cameraFar&&(Qe=(this||je).cameraFar),Math.acos(Math.max(-1,Math.min(1,Te.default.Vector.dot(Ee,Ye))))+we),we=xe;(Se<=0||Se>=Math.PI)&&((this||je).upX*=-1,(this||je).upY*=-1,(this||je).upZ*=-1),Ye.mult(Math.cos(Se)),Ke.mult(Math.cos(we)*Math.sin(Se)),Ze.mult(Math.sin(we)*Math.sin(Se)),Ee.set(Ye).add(Ke).add(Ze),(this||je).eyeX=Qe*Ee.x+(this||je).centerX,(this||je).eyeY=Qe*Ee.y+(this||je).centerY,(this||je).eyeZ=Qe*Ee.z+(this||je).centerZ,this.camera((this||je).eyeX,(this||je).eyeY,(this||je).eyeZ,(this||je).centerX,(this||je).centerY,(this||je).centerZ,(this||je).upX,(this||je).upY,(this||je).upZ)}},{key:"_orbitFree",value:function(xe,we,Se){var Ee=(this||je).eyeX-(this||je).centerX,Ye=(this||je).eyeY-(this||je).centerY,Ze=(this||je).eyeZ-(this||je).centerZ,Qe=Math.hypot(Ee,Ye,Ze),Ke=(Ee=new Te.default.Vector(Ee,Ye,Ze).normalize(),Ye=new Te.default.Vector((this||je).upX,(this||je).upY,(this||je).upZ),Ze=Te.default.Vector.cross(Ye,Ee).normalize(),Te.default.Vector.cross(Ee,Ze)),Je=Math.atan2(we,xe),$e=(Je=(Ke.mult(Math.sin(Je)),Ze.mult(Math.cos(Je)).add(Ke),Math.sqrt(xe*xe+we*we)),Ke=Te.default.Vector.cross(Ee,Ze),xe=((Qe=(Qe*=Math.pow(10,Se))<(this||je).cameraNear?(this||je).cameraNear:Qe)>(this||je).cameraFar&&(Qe=(this||je).cameraFar),Math.cos(Je)),we=Math.sin(Je),Se=Ye.dot(Ee),Je=Ye.dot(Ze),Se*xe+Je*we);Se=-Se*we+Je*xe,Je=Ye.dot(Ke);Ye.x=$e*Ee.x+Se*Ze.x+Je*Ke.x,Ye.y=$e*Ee.y+Se*Ze.y+Je*Ke.y,Ye.z=$e*Ee.z+Se*Ze.z+Je*Ke.z,Ze.mult(-we),Ee.mult(xe).add(Ze).mult(Qe),this.camera(Ee.x+(this||je).centerX,Ee.y+(this||je).centerY,Ee.z+(this||je).centerZ,(this||je).centerX,(this||je).centerY,(this||je).centerZ,Ye.x,Ye.y,Ye.z)}},{key:"_isActive",value:function(){return(this||je)===(this||je)._renderer._curCamera}}])&&n(xe.prototype,we),Se&&n(xe,Se),t}(),Te.default.prototype.setCamera=function(xe){(this||je)._renderer._curCamera=xe,(this||je)._renderer.uPMatrix.set(xe.projMatrix)};xe=Te.default.Camera;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(xe,we,Se){xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.log2"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.math.log2"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}xe.default.DataArray=function(){function o(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128,we=this||je,Se=o;if(!(we instanceof Se))throw new TypeError("Cannot call a class as a function");(this||je).length=0,(this||je).data=new Float32Array(xe),(this||je).initialLength=xe}var xe,we,Se;return xe=o,(we=[{key:"dataArray",value:function(){return this.subArray(0,(this||je).length)}},{key:"clear",value:function(){(this||je).length=0}},{key:"rescale",value:function(){var xe;(this||je).length<(this||je).data.length/2&&(xe=1<<Math.ceil(Math.log2((this||je).length)),(xe=new Float32Array(xe)).set((this||je).data.subarray(0,(this||je).length),0),(this||je).data=xe)}},{key:"reset",value:function(){this.clear(),(this||je).data=new Float32Array((this||je).initialLength)}},{key:"push",value:function(){for(var xe=arguments.length,we=new Array(xe),Se=0;Se<xe;Se++)we[Se]=arguments[Se];this.ensureLength((this||je).length+we.length),(this||je).data.set(we,(this||je).length),(this||je).length+=we.length}},{key:"slice",value:function(xe,we){return(this||je).data.slice(xe,Math.min(we,(this||je).length))}},{key:"subArray",value:function(xe,we){return(this||je).data.subarray(xe,Math.min(we,(this||je).length))}},{key:"ensureLength",value:function(xe){for(;(this||je).data.length<xe;){var we=new Float32Array(2*(this||je).data.length);we.set((this||je).data,0),(this||je).data=we}}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();xe=xe.default.DataArray;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.reflect.get"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint8-clamped-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Je=xe("../core/main"))&&Je.__esModule?Je:{default:Je},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=l();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants")),Ye=xe("./p5.Texture"),Ze=xe("./p5.RendererGL");function l(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,l=function(){return je},je)}function u(je,xe){return function(je){if(Array.isArray(je))return je}(je)||function(je,xe){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je)){var we=[],Se=!0,Te=!1,Ee=void 0;try{for(var Ye,Ze=je[Symbol.iterator]();!(Se=(Ye=Ze.next()).done)&&(we.push(Ye.value),!xe||we.length!==xe);Se=!0);}catch(je){Te=!0,Ee=je}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}return we}}(je,xe)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(je,xe,we){return xe in je?Object.defineProperty(je,xe,{value:we,enumerable:!0,configurable:!0,writable:!0}):je[xe]=we,je}function c(je,xe){if(!(je instanceof xe))throw new TypeError("Cannot call a class as a function")}function d(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function h(je,xe,we){xe&&d(je.prototype,xe),we&&d(je,we)}function m(je,xe,we){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(je,xe,we){je=function(je,xe){for(;!Object.prototype.hasOwnProperty.call(je,xe)&&null!==(je=v(je)););return je}(je,xe);if(je)return(je=Object.getOwnPropertyDescriptor(je,xe)).get?je.get.call(we):je.value})(je,xe,we||je)}function y(je,xe){return(y=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function g(xe){return function(){var we,Se=v(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=v(this||je).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||je,arguments),this||je);if(!we||"object"!==i(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function v(je){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}var Qe=function(xe){var we=o;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&y(we,xe);var Se=g(o);function o(xe){var we;return c(this||je,o),(we=Se.call(this||je,xe.target._renderer)).fbo=xe,we.yScale=-1,we}return h(o,[{key:"_computeCameraDefaultSettings",value:function(){m(v(o.prototype),"_computeCameraDefaultSettings",this||je).call(this||je),(this||je).defaultAspectRatio=(this||je).fbo.width/(this||je).fbo.height,(this||je).defaultCameraFOV=2*Math.atan((this||je).fbo.height/2/(this||je).defaultEyeZ)}}]),o}(Te.default.Camera),Ke=(Te.default.FramebufferCamera=Qe,function(){function r(xe,we){c(this||je,r),(this||je).framebuffer=xe,(this||je).property=we}return h(r,[{key:"rawTexture",value:function(){return(this||je).framebuffer[(this||je).property]}},{key:"width",get:function(){return(this||je).framebuffer.width*(this||je).framebuffer.density}},{key:"height",get:function(){return(this||je).framebuffer.height*(this||je).framebuffer.density}}]),r}()),Je=(Te.default.FramebufferTexture=Ke,function(){function o(xe){var we=this||je,Se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};xe=(c(this||je,o),(this||je).target=xe,(this||je).target._renderer.framebuffers.add(this||je),(this||je)._isClipApplied=!1,(this||je).pixels=[],(this||je).format=Se.format||Ee.UNSIGNED_BYTE,(this||je).channels=Se.channels||(xe._renderer._pInst._glAttributes.alpha?Ee.RGBA:Ee.RGB),(this||je).useDepth=void 0===Se.depth||Se.depth,(this||je).depthFormat=Se.depthFormat||Ee.FLOAT,(this||je).textureFiltering=Se.textureFiltering||Ee.LINEAR,void 0===Se.antialias?(this||je).antialiasSamples=xe._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof Se.antialias?(this||je).antialiasSamples=Se.antialias:(this||je).antialiasSamples=Se.antialias?2:0,(this||je).antialias=0<(this||je).antialiasSamples,(this||je).antialias&&xe.webglVersion!==Ee.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),(this||je).antialias=!1),Se.width&&Se.height?((this||je).width=Se.width,(this||je).height=Se.height,(this||je).autoSized=!1):(void 0===Se.width!=(void 0===Se.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),(this||je).width=xe.width,(this||je).height=xe.height,(this||je).autoSized=!0),(this||je).density=Se.density||xe.pixelDensity(),xe._renderer.GL);if((this||je).gl=xe,this._checkIfFormatsAvailable(),Se.stencil&&!(this||je).useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),(this||je).useStencil=(this||je).useDepth&&(void 0===Se.stencil||Se.stencil),(this||je).framebuffer=xe.createFramebuffer(),!(this||je).framebuffer)throw new Error("Unable to create a framebuffer");if((this||je).antialias&&((this||je).aaFramebuffer=xe.createFramebuffer(),!(this||je).aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();Se=(this||je).target._renderer._curCamera;(this||je).defaultCamera=this.createCamera(),(this||je).filterCamera=this.createCamera(),(this||je).target._renderer._curCamera=Se,this.draw((function(){return we.target.clear()}))}return h(o,[{key:"resize",value:function(xe,we){(this||je).autoSized=!1,(this||je).width=xe,(this||je).height=we,this._handleResize()}},{key:"pixelDensity",value:function(xe){if(!xe)return(this||je).density;(this||je).autoSized=!1,(this||je).density=xe,this._handleResize()}},{key:"autoSized",value:function(xe){if(void 0===xe)return(this||je).autoSized;(this||je).autoSized=xe,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var xe=(this||je).gl;xe=((this||je).useDepth&&(this||je).target.webglVersion===Ee.WEBGL&&!xe.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),(this||je).useDepth=!1),(this||je).useDepth&&(this||je).target.webglVersion===Ee.WEBGL&&(this||je).depthFormat===Ee.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),(this||je).depthFormat=Ee.UNSIGNED_INT),[Ee.UNSIGNED_BYTE,Ee.FLOAT,Ee.HALF_FLOAT].includes((this||je).format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),(this||je).format=Ee.UNSIGNED_BYTE),(this||je).useDepth&&![Ee.UNSIGNED_INT,Ee.FLOAT].includes((this||je).depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),(this||je).depthFormat=Ee.FLOAT),(0,Ye.checkWebGLCapabilities)((this||je).target._renderer));xe.float||(this||je).format!==Ee.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),(this||je).format=Ee.UNSIGNED_BYTE),(this||je).useDepth&&!xe.float&&(this||je).depthFormat===Ee.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),(this||je).depthFormat=Ee.UNSIGNED_INT),xe.halfFloat||(this||je).format!==Ee.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),(this||je).format=Ee.UNSIGNED_BYTE),(this||je).channels===Ee.RGB&&[Ee.FLOAT,Ee.HALF_FLOAT].includes((this||je).format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),(this||je).channels=Ee.RGBA)}},{key:"_recreateTextures",value:function(){var xe=(this||je).gl,we=(this._updateSize(),xe.getParameter(xe.TEXTURE_BINDING_2D)),Se=xe.getParameter(xe.FRAMEBUFFER_BINDING),Ye=xe.createTexture();if(!Ye)throw new Error("Unable to create color texture");xe.bindTexture(xe.TEXTURE_2D,Ye);var Ze=this._glColorFormat();if(xe.texImage2D(xe.TEXTURE_2D,0,Ze.internalFormat,(this||je).width*(this||je).density,(this||je).height*(this||je).density,0,Ze.format,Ze.type,null),(this||je).colorTexture=Ye,xe.bindFramebuffer(xe.FRAMEBUFFER,(this||je).framebuffer),xe.framebufferTexture2D(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.TEXTURE_2D,Ye,0),(this||je).useDepth){Ye=xe.createTexture();if(!Ye)throw new Error("Unable to create depth texture");var Qe=this._glDepthFormat();xe.bindTexture(xe.TEXTURE_2D,Ye),xe.texImage2D(xe.TEXTURE_2D,0,Qe.internalFormat,(this||je).width*(this||je).density,(this||je).height*(this||je).density,0,Qe.format,Qe.type,null),xe.framebufferTexture2D(xe.FRAMEBUFFER,(this||je).useStencil?xe.DEPTH_STENCIL_ATTACHMENT:xe.DEPTH_ATTACHMENT,xe.TEXTURE_2D,Ye,0),(this||je).depthTexture=Ye}(this||je).antialias&&((this||je).colorRenderbuffer=xe.createRenderbuffer(),xe.bindRenderbuffer(xe.RENDERBUFFER,(this||je).colorRenderbuffer),xe.renderbufferStorageMultisample(xe.RENDERBUFFER,Math.max(0,Math.min((this||je).antialiasSamples,xe.getParameter(xe.MAX_SAMPLES))),Ze.internalFormat,(this||je).width*(this||je).density,(this||je).height*(this||je).density),(this||je).useDepth&&(Qe=this._glDepthFormat(),(this||je).depthRenderbuffer=xe.createRenderbuffer(),xe.bindRenderbuffer(xe.RENDERBUFFER,(this||je).depthRenderbuffer),xe.renderbufferStorageMultisample(xe.RENDERBUFFER,Math.max(0,Math.min((this||je).antialiasSamples,xe.getParameter(xe.MAX_SAMPLES))),Qe.internalFormat,(this||je).width*(this||je).density,(this||je).height*(this||je).density)),xe.bindFramebuffer(xe.FRAMEBUFFER,(this||je).aaFramebuffer),xe.framebufferRenderbuffer(xe.FRAMEBUFFER,xe.COLOR_ATTACHMENT0,xe.RENDERBUFFER,(this||je).colorRenderbuffer),(this||je).useDepth&&xe.framebufferRenderbuffer(xe.FRAMEBUFFER,(this||je).useStencil?xe.DEPTH_STENCIL_ATTACHMENT:xe.DEPTH_ATTACHMENT,xe.RENDERBUFFER,(this||je).depthRenderbuffer)),(this||je).useDepth&&((this||je).depth=new Ke(this||je,"depthTexture"),Ye=xe.NEAREST,(this||je).depthP5Texture=new Te.default.Texture((this||je).target._renderer,(this||je).depth,{minFilter:Ye,magFilter:Ye}),(this||je).target._renderer.textures.set((this||je).depth,(this||je).depthP5Texture)),(this||je).color=new Ke(this||je,"colorTexture");Ze=(this||je).textureFiltering===Ee.LINEAR?xe.LINEAR:xe.NEAREST;(this||je).colorP5Texture=new Te.default.Texture((this||je).target._renderer,(this||je).color,{minFilter:Ze,magFilter:Ze}),(this||je).target._renderer.textures.set((this||je).color,(this||je).colorP5Texture),xe.bindTexture(xe.TEXTURE_2D,we),xe.bindFramebuffer(xe.FRAMEBUFFER,Se)}},{key:"_glColorFormat",value:function(){var xe,we,Se=(this||je).gl,Te=(this||je).format===Ee.FLOAT?Se.FLOAT:(this||je).format===Ee.HALF_FLOAT?(this||je).target.webglVersion===Ee.WEBGL2?Se.HALF_FLOAT:Se.getExtension("OES_texture_half_float").HALF_FLOAT_OES:Se.UNSIGNED_BYTE,Ye=(this||je).channels===Ee.RGBA?Se.RGBA:Se.RGB;return{internalFormat:(this||je).target.webglVersion===Ee.WEBGL2?(s(we={},Se.FLOAT,s({},Se.RGBA,Se.RGBA32F)),s(we,Se.HALF_FLOAT,s({},Se.RGBA,Se.RGBA16F)),s(we,Se.UNSIGNED_BYTE,(s(xe={},Se.RGBA,Se.RGBA8),s(xe,Se.RGB,Se.RGB8),xe)),we[Te][Ye]):(this||je).format===Ee.HALF_FLOAT?Se.RGBA:Ye,format:Ye,type:Te}}},{key:"_glDepthFormat",value:function(){var xe=(this||je).gl,we=(this||je).useStencil?(this||je).depthFormat===Ee.FLOAT?xe.FLOAT_32_UNSIGNED_INT_24_8_REV:(this||je).target.webglVersion===Ee.WEBGL2?xe.UNSIGNED_INT_24_8:xe.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:(this||je).depthFormat===Ee.FLOAT?xe.FLOAT:xe.UNSIGNED_INT,Se=(this||je).useStencil?xe.DEPTH_STENCIL:xe.DEPTH_COMPONENT;xe=(this||je).useStencil?(this||je).depthFormat===Ee.FLOAT?xe.DEPTH32F_STENCIL8:(this||je).target.webglVersion===Ee.WEBGL2?xe.DEPTH24_STENCIL8:xe.DEPTH_STENCIL:(this||je).target.webglVersion===Ee.WEBGL2?(this||je).depthFormat===Ee.FLOAT?xe.DEPTH_COMPONENT32F:xe.DEPTH_COMPONENT24:xe.DEPTH_COMPONENT;return{internalFormat:xe,format:Se,type:we}}},{key:"_updateSize",value:function(){(this||je).autoSized&&((this||je).width=(this||je).target.width,(this||je).height=(this||je).target.height,(this||je).density=(this||je).target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){(this||je).autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var xe=(this||je).color,we=(this||je).depth,Se=(this||je).colorRenderbuffer,Te=(this||je).depthRenderbuffer;xe=(this._deleteTexture(xe),we&&this._deleteTexture(we),(this||je).gl);Se&&xe.deleteRenderbuffer(Se),Te&&xe.deleteRenderbuffer(Te),this._recreateTextures(),(this||je).defaultCamera._resize()}},{key:"createCamera",value:function(){var xe=new Qe(this||je);return xe._computeCameraDefaultSettings(),xe._setDefaultCamera(),(this||je).target._renderer._curCamera=xe}},{key:"_deleteTexture",value:function(xe){(this||je).gl.deleteTexture(xe.rawTexture()),(this||je).target._renderer.textures.delete(xe)}},{key:"remove",value:function(){var xe=(this||je).gl;this._deleteTexture((this||je).color),(this||je).depth&&this._deleteTexture((this||je).depth),xe.deleteFramebuffer((this||je).framebuffer),(this||je).aaFramebuffer&&xe.deleteFramebuffer((this||je).aaFramebuffer),(this||je).depthRenderbuffer&&xe.deleteRenderbuffer((this||je).depthRenderbuffer),(this||je).colorRenderbuffer&&xe.deleteRenderbuffer((this||je).colorRenderbuffer),(this||je).target._renderer.framebuffers.delete(this||je)}},{key:"begin",value:function(){(this||je).prevFramebuffer=(this||je).target._renderer.activeFramebuffer(),(this||je).prevFramebuffer&&(this||je).prevFramebuffer._beforeEnd(),(this||je).target._renderer.activeFramebuffers.push(this||je),this._beforeBegin(),(this||je).target.push(),(this||je).target.setCamera((this||je).defaultCamera),(this||je).target._renderer.uMVMatrix.set((this||je).target._renderer._curCamera.cameraMatrix)}},{key:"_framebufferToBind",value:function(){return(this||je).antialias?(this||je).aaFramebuffer:(this||je).framebuffer}},{key:"_beforeBegin",value:function(){var xe=(this||je).gl;xe.bindFramebuffer(xe.FRAMEBUFFER,this._framebufferToBind()),(this||je).target._renderer.viewport((this||je).width*(this||je).density,(this||je).height*(this||je).density)}},{key:"_beforeEnd",value:function(){if((this||je).antialias){var xe=(this||je).gl,we=(xe.bindFramebuffer(xe.READ_FRAMEBUFFER,(this||je).aaFramebuffer),xe.bindFramebuffer(xe.DRAW_FRAMEBUFFER,(this||je).framebuffer),[[xe.COLOR_BUFFER_BIT,(this||je).colorP5Texture.glMagFilter]]);(this||je).useDepth&&we.push([xe.DEPTH_BUFFER_BIT,(this||je).depthP5Texture.glMagFilter]);for(var Se=0,Te=we;Se<Te.length;Se++){var Ee=u(Te[Se],2),Ye=Ee[0];Ee=Ee[1];xe.blitFramebuffer(0,0,(this||je).width*(this||je).density,(this||je).height*(this||je).density,0,0,(this||je).width*(this||je).density,(this||je).height*(this||je).density,Ye,Ee)}}}},{key:"end",value:function(){var xe=(this||je).gl;if((this||je).target.pop(),(this||je).target._renderer.activeFramebuffers.pop()!==(this||je))throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),(this||je).prevFramebuffer?(this||je).prevFramebuffer._beforeBegin():(xe.bindFramebuffer(xe.FRAMEBUFFER,null),(this||je).target._renderer.viewport((this||je).target._renderer._origViewport.width,(this||je).target._renderer._origViewport.height)),(this||je).target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(je){this.begin(),je(),this.end()}},{key:"loadPixels",value:function(){var xe=(this||je).gl,we=(this||je).target._renderer.activeFramebuffer(),Se=(xe.bindFramebuffer(xe.FRAMEBUFFER,(this||je).framebuffer),this._glColorFormat());(this||je).pixels=(0,Ze.readPixelsWebGL)((this||je).pixels,xe,(this||je).framebuffer,0,0,(this||je).width*(this||je).density,(this||je).height*(this||je).density,Se.format,Se.type),we?xe.bindFramebuffer(xe.FRAMEBUFFER,we._framebufferToBind()):xe.bindFramebuffer(xe.FRAMEBUFFER,null)}},{key:"get",value:function(xe,we,Se,Ee){Te.default._validateParameters("p5.Framebuffer.get",arguments);var Ye=this._glColorFormat();if(void 0===xe&&void 0===we)we=xe=0,Se=(this||je).width,Ee=(this||je).height;else if(void 0===Se&&void 0===Ee)return(xe<0||we<0||xe>=(this||je).width||we>=(this||je).height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),xe=(this||je).target.constrain(xe,0,(this||je).width-1),we=(this||je).target.constrain(we,0,(this||je).height-1)),(0,Ze.readPixelWebGL)((this||je).gl,(this||je).framebuffer,xe*(this||je).density,we*(this||je).density,Ye.format,Ye.type);xe=(this||je).target.constrain(xe,0,(this||je).width-1),we=(this||je).target.constrain(we,0,(this||je).height-1),Se=(this||je).target.constrain(Se,1,(this||je).width-xe),Ee=(this||je).target.constrain(Ee,1,(this||je).height-we);for(var Qe=(0,Ze.readPixelsWebGL)(void 0,(this||je).gl,(this||je).framebuffer,xe*(this||je).density,we*(this||je).density,Se*(this||je).density,Ee*(this||je).density,Ye.format,Ye.type),Ke=new Uint8ClampedArray(Se*Ee*(this||je).density*(this||je).density*4),Je=(Ke.fill(255),Ye.type===(this||je).gl.RGB?3:4),$e=0;$e<Ee*(this||je).density;$e++)for(var et=0;et<Se*(this||je).density;et++)for(var tt=0;tt<4;tt++){var rt,ot=4*($e*Se*(this||je).density+et)+tt;tt<Je&&(rt=4==Je?ot:($e*Se*(this||je).density+et)*Je+tt,Ke[ot]=Qe[rt])}xe=new Te.default.Image(Se*(this||je).density,Ee*(this||je).density);return xe.imageData=xe.canvas.getContext("2d").createImageData(xe.width,xe.height),xe.imageData.data.set(Ke),xe.pixels=xe.imageData.data,xe.updatePixels(),1!==(this||je).density&&xe.resize(Se,Ee),xe}},{key:"updatePixels",value:function(){var xe=(this||je).gl,we=((this||je).colorP5Texture.bindTexture(),this._glColorFormat()),Se=we.format===xe.RGBA?4:3,Te=(Se=(this||je).width*(this||je).height*(this||je).density*(this||je).density*Se,we.type===xe.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!((this||je).pixels instanceof Te)||(this||je).pixels.length!==Se)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");xe.texImage2D(xe.TEXTURE_2D,0,we.internalFormat,(this||je).width*(this||je).density,(this||je).height*(this||je).density,0,we.format,we.type,(this||je).pixels),(this||je).colorP5Texture.unbindTexture();Te=(this||je).target._renderer.activeFramebuffer();(this||je).antialias?(this.begin(),(this||je).target.push(),(this||je).target.imageMode((this||je).target.CENTER),(this||je).target.resetMatrix(),(this||je).target.noStroke(),(this||je).target.clear(),(this||je).target.image(this||je,0,0),(this||je).target.pop(),(this||je).useDepth&&(xe.clearDepth(1),xe.clear(xe.DEPTH_BUFFER_BIT)),this.end()):(xe.bindFramebuffer(xe.FRAMEBUFFER,(this||je).framebuffer),(this||je).useDepth&&(xe.clearDepth(1),xe.clear(xe.DEPTH_BUFFER_BIT)),Te?xe.bindFramebuffer(xe.FRAMEBUFFER,Te._framebufferToBind()):xe.bindFramebuffer(xe.FRAMEBUFFER,null))}}]),o}());xe=Te.default.Framebuffer=Je;Se.default=xe},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.flat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.unscopables.flat"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.flat"),xe("core-js/modules/es.array.for-each"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.unscopables.flat"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/web.dom-collections.for-each"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function c(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.Geometry=function(){function o(xe,we,Se){if(!((this||je)instanceof o))throw new TypeError("Cannot call a class as a function");(this||je).vertices=[],(this||je).lineVertices=new Te.default.DataArray,(this||je).lineTangentsIn=new Te.default.DataArray,(this||je).lineTangentsOut=new Te.default.DataArray,(this||je).lineSides=new Te.default.DataArray,(this||je).vertexNormals=[],(this||je).faces=[],(this||je).uvs=[],(this||je).edges=[],(this||je).vertexColors=[],(this||je).vertexStrokeColors=[],(this||je).lineVertexColors=new Te.default.DataArray,(this||je).detailX=void 0!==xe?xe:1,(this||je).detailY=void 0!==we?we:1,(this||je).dirtyFlags={},(this||je)._hasFillTransparency=void 0,(this||je)._hasStrokeTransparency=void 0,Se instanceof Function&&Se.call(this||je)}var xe,we,Se;return xe=o,(we=[{key:"reset",value:function(){(this||je)._hasFillTransparency=void 0,(this||je)._hasStrokeTransparency=void 0,(this||je).lineVertices.clear(),(this||je).lineTangentsIn.clear(),(this||je).lineTangentsOut.clear(),(this||je).lineSides.clear(),(this||je).vertices.length=0,(this||je).edges.length=0,(this||je).vertexColors.length=0,(this||je).vertexStrokeColors.length=0,(this||je).lineVertexColors.clear(),(this||je).vertexNormals.length=0,(this||je).uvs.length=0,(this||je).dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(void 0===(this||je)._hasFillTransparency){(this||je)._hasFillTransparency=!1;for(var xe=0;xe<(this||je).vertexColors.length;xe+=4)if((this||je).vertexColors[xe+3]<1){(this||je)._hasFillTransparency=!0;break}}return(this||je)._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(void 0===(this||je)._hasStrokeTransparency){(this||je)._hasStrokeTransparency=!1;for(var xe=0;xe<(this||je).lineVertexColors.length;xe+=4)if((this||je).lineVertexColors[xe+3]<1){(this||je)._hasStrokeTransparency=!0;break}}return(this||je)._hasStrokeTransparency}},{key:"clearColors",value:function(){return(this||je).vertexColors=[],this||je}},{key:"flipU",value:function(){(this||je).uvs=(this||je).uvs.flat().map((function(je,xe){return xe%2==0?1-je:je}))}},{key:"flipV",value:function(){(this||je).uvs=(this||je).uvs.flat().map((function(je,xe){return xe%2==0?je:1-je}))}},{key:"computeFaces",value:function(){(this||je).faces.length=0;for(var xe,we,Se,Te=(this||je).detailX+1,Ee=0;Ee<(this||je).detailY;Ee++)for(var Ye=0;Ye<(this||je).detailX;Ye++)we=(Ee+1)*Te+Ye+1,(this||je).faces.push([Ee*Te+Ye,xe=Ee*Te+Ye+1,Se=(Ee+1)*Te+Ye]),(this||je).faces.push([Se,xe,we]);return this||je}},{key:"_getFaceNormal",value:function(xe){xe=(this||je).faces[xe];var we=(this||je).vertices[xe[0]],Se=(this||je).vertices[xe[1]],Ee=(xe=(this||je).vertices[xe[2]],Se=Te.default.Vector.sub(Se,we),xe=Te.default.Vector.sub(xe,we),we=Te.default.Vector.cross(Se,xe),Te.default.Vector.mag(we));Se=Ee/(Te.default.Vector.mag(Se)*Te.default.Vector.mag(xe));return 0===Se||isNaN(Se)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),we):(1<Se&&(Se=1),we.mult(Math.asin(Se)/Ee))}},{key:"computeNormals",value:function(){var xe,we=this||je,Se=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ee.FLAT,Ye=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).roundToPrecision,Ze=(this||je).vertexNormals,Qe=(this||je).vertices,Ke=(this||je).faces;if(Se===Ee.SMOOTH){for(var Je={},$e=[],et=Math.pow(10,void 0===Ye?3:Ye),c=function(je){return Math.round(je*et)/et},d=function(je){return"".concat(c(je.x),",").concat(c(je.y),",").concat(c(je.z))},tt=0;tt<Qe.length;tt++){var rt=Qe[tt],ot=d(rt);void 0===Je[ot]&&(Je[ot]=$e.length,$e.push(rt))}Ke.forEach((function(je){for(var xe=0;xe<3;++xe){var we=je[xe];we=Qe[we],we=d(we);je[xe]=Je[we]}})),(this||je).edges.forEach((function(je){for(var xe=0;xe<2;++xe){var we=je[xe];we=Qe[we],we=d(we);je[xe]=Je[we]}})),(this||je).vertices=Qe=$e}for(xe=Ze.length=0;xe<Qe.length;++xe)Ze.push(new Te.default.Vector);for(Ke.forEach((function(je,xe){for(var Se=we._getFaceNormal(xe),Te=0;Te<3;++Te){var Ee=je[Te];Ze[Ee].add(Se)}})),xe=0;xe<Qe.length;++xe)Ze[xe].normalize();return this||je}},{key:"averageNormals",value:function(){for(var xe=0;xe<=(this||je).detailY;xe++){var we=(this||je).detailX+1,Se=Te.default.Vector.add((this||je).vertexNormals[xe*we],(this||je).vertexNormals[xe*we+(this||je).detailX]);Se=Te.default.Vector.div(Se,2);(this||je).vertexNormals[xe*we]=Se,(this||je).vertexNormals[xe*we+(this||je).detailX]=Se}return this||je}},{key:"averagePoleNormals",value:function(){for(var xe=new Te.default.Vector(0,0,0),we=0;we<(this||je).detailX;we++)xe.add((this||je).vertexNormals[we]);xe=Te.default.Vector.div(xe,(this||je).detailX);for(var Se=0;Se<(this||je).detailX;Se++)(this||je).vertexNormals[Se]=xe;xe=new Te.default.Vector(0,0,0);for(var Ee=(this||je).vertices.length-1;Ee>(this||je).vertices.length-1-(this||je).detailX;Ee--)xe.add((this||je).vertexNormals[Ee]);xe=Te.default.Vector.div(xe,(this||je).detailX);for(var Ye=(this||je).vertices.length-1;Ye>(this||je).vertices.length-1-(this||je).detailX;Ye--)(this||je).vertexNormals[Ye]=xe;return this||je}},{key:"_makeTriangleEdges",value:function(){for(var xe=(this||je).edges.length=0;xe<(this||je).faces.length;xe++)(this||je).edges.push([(this||je).faces[xe][0],(this||je).faces[xe][1]]),(this||je).edges.push([(this||je).faces[xe][1],(this||je).faces[xe][2]]),(this||je).edges.push([(this||je).faces[xe][2],(this||je).faces[xe][0]]);return this||je}},{key:"_edgesToVertices",value:function(){(this||je).lineVertices.clear(),(this||je).lineTangentsIn.clear(),(this||je).lineTangentsOut.clear(),(this||je).lineSides.clear();for(var xe,we=new Map,Se=new Set,Te=0;Te<(this||je).edges.length;Te++){var Ee,Ye=(this||je).edges[Te-1],Ze=(this||je).edges[Te],Qe=(this||je).vertices[Ze[0]],Ke=(this||je).vertices[Ze[1]],Je=0<(this||je).vertexStrokeColors.length?(this||je).vertexStrokeColors.slice(4*Ze[0],4*(Ze[0]+1)):[0,0,0,0],$e=0<(this||je).vertexStrokeColors.length?(this||je).vertexStrokeColors.slice(4*Ze[1],4*(Ze[1]+1)):[0,0,0,0],et=Ke.copy().sub(Qe).normalize(),tt=0<et.magSq();tt&&this._addSegment(Qe,Ke,Je,$e,et),0<Te&&Ye[1]===Ze[0]?Se.has(Ze[0])||(Se.add(Ze[0]),we.delete(Ze[0]),xe&&tt&&et.dot(xe)<1-1e-8&&this._addJoin(Qe,xe,et,Je)):(tt&&!Se.has(Ze[0])&&((Ee=we.get(Ze[0]))?(this._addJoin(Qe,Ee.dir,et,Je),we.delete(Ze[0]),Se.add(Ze[0])):we.set(Ze[0],{point:Qe,dir:et.copy().mult(-1),color:Je})),xe&&!Se.has(Ye[1])&&((Ee=we.get(Ye[1]))?(this._addJoin((this||je).vertices[Ye[1]],xe,Ee.dir.copy().mult(-1),Je),we.delete(Ye[1]),Se.add(Ye[1])):we.set(Ye[1],{point:(this||je).vertices[Ye[1]],dir:xe,color:Je}),xe=void 0)),Te!==(this||je).edges.length-1||Se.has(Ze[1])||((Qe=we.get(Ze[1]))?(this._addJoin(Ke,et,Qe.dir.copy().mult(-1),$e),we.delete(Ze[1]),Se.add(Ze[1])):we.set(Ze[1],{point:Ke,dir:et,color:$e})),tt&&(xe=et)}var rt=!0,ot=!1,nt=void 0;try{for(var st,it=we.values()[Symbol.iterator]();!(rt=(st=it.next()).done);rt=!0){var dt=st.value,ht=dt.point,ft=dt.dir,pt=dt.color;this._addCap(ht,ft,pt)}}catch(xe){ot=!0,nt=xe}finally{try{rt||null==it.return||it.return()}finally{if(ot)throw nt}}return this||je}},{key:"_addSegment",value:function(xe,we,Se,Te,Ee){xe=xe.array(),we=we.array();var Ye=Ee.array();(this||je).lineSides.push(1,1,-1,1,-1,-1);for(var Ze=0,Qe=[(this||je).lineTangentsIn,(this||je).lineTangentsOut];Ze<Qe.length;Ze++)for(var Ke=Qe[Ze],Je=0;Je<6;Je++)Ke.push.apply(Ke,c(Ye));return(Ee=(this||je).lineVertices).push.apply(Ee,c(xe).concat(c(we),c(xe),c(we),c(we),c(xe))),(Ee=(this||je).lineVertexColors).push.apply(Ee,c(Se).concat(c(Te),c(Se),c(Te),c(Te),c(Se))),this||je}},{key:"_addCap",value:function(xe,we,Se){for(var Te,Ee=xe.array(),Ye=we.array(),Ze=[0,0,0],Qe=0;Qe<6;Qe++)(Te=(this||je).lineVertices).push.apply(Te,c(Ee)),(Te=(this||je).lineTangentsIn).push.apply(Te,c(Ye)),(Te=(this||je).lineTangentsOut).push.apply(Te,Ze),(Te=(this||je).lineVertexColors).push.apply(Te,c(Se));return(this||je).lineSides.push(-1,2,-2,1,2,-1),this||je}},{key:"_addJoin",value:function(xe,we,Se,Te){for(var Ee,Ye=xe.array(),Ze=we.array(),Qe=Se.array(),Ke=0;Ke<12;Ke++)(Ee=(this||je).lineVertices).push.apply(Ee,c(Ye)),(Ee=(this||je).lineTangentsIn).push.apply(Ee,c(Ze)),(Ee=(this||je).lineTangentsOut).push.apply(Ee,c(Qe)),(Ee=(this||je).lineVertexColors).push.apply(Ee,c(Te));return(this||je).lineSides.push(-1,-3,-2,-1,0,-3),(this||je).lineSides.push(3,1,2,3,0,1),this||je}},{key:"normalize",value:function(){if(0<(this||je).vertices.length){for(var xe=(this||je).vertices[0].copy(),we=(this||je).vertices[0].copy(),Se=0;Se<(this||je).vertices.length;Se++)xe.x=Math.max(xe.x,(this||je).vertices[Se].x),we.x=Math.min(we.x,(this||je).vertices[Se].x),xe.y=Math.max(xe.y,(this||je).vertices[Se].y),we.y=Math.min(we.y,(this||je).vertices[Se].y),xe.z=Math.max(xe.z,(this||je).vertices[Se].z),we.z=Math.min(we.z,(this||je).vertices[Se].z);for(var Ee=Te.default.Vector.lerp(xe,we,.5),Ye=Te.default.Vector.sub(xe,we),Ze=200/Math.max(Math.max(Ye.x,Ye.y),Ye.z),Qe=0;Qe<(this||je).vertices.length;Qe++)(this||je).vertices[Qe].sub(Ee),(this||je).vertices[Qe].mult(Ze)}return this||je}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();var Ye=Te.default.Geometry;Se.default=Ye},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(xe,we,Se){xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}var Ee=Array,O=function(je){return Array.isArray(je)};xe=("undefined"!=typeof Float32Array&&(Ee=Float32Array,O=function(je){return Array.isArray(je)||je instanceof Float32Array}),Te.default.Matrix=function(){function r(){var xe=this||je,we=r;if(xe instanceof we)return arguments.length&&((xe=arguments.length-1)<0||arguments.length<=xe?void 0:arguments[xe])instanceof Te.default&&((this||je).p5=(we=arguments.length-1)<0||arguments.length<=we?void 0:arguments[we]),"mat3"===(arguments.length<=0?void 0:arguments[0])?(this||je).mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new Ee([1,0,0,0,1,0,0,0,1]):(this||je).mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new Ee([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this||je;throw new TypeError("Cannot call a class as a function")}var xe,we,Se;return xe=r,Se=[{key:"identity",value:function(je){return new Te.default.Matrix(je)}}],(we=[{key:"set",value:function(xe){var we=arguments;if(xe instanceof Te.default.Matrix?we=xe.mat4:O(xe)&&(we=xe),16!==we.length)Te.default._friendlyError("Expected 16 values but received ".concat(we.length,"."),"p5.Matrix.set");else for(var Se=0;Se<16;Se++)(this||je).mat4[Se]=we[Se];return this||je}},{key:"get",value:function(){return new Te.default.Matrix((this||je).mat4,(this||je).p5)}},{key:"copy",value:function(){var xe;return void 0!==(this||je).mat3?((xe=new Te.default.Matrix("mat3",(this||je).p5)).mat3[0]=(this||je).mat3[0],xe.mat3[1]=(this||je).mat3[1],xe.mat3[2]=(this||je).mat3[2],xe.mat3[3]=(this||je).mat3[3],xe.mat3[4]=(this||je).mat3[4],xe.mat3[5]=(this||je).mat3[5],xe.mat3[6]=(this||je).mat3[6],xe.mat3[7]=(this||je).mat3[7],xe.mat3[8]=(this||je).mat3[8]):((xe=new Te.default.Matrix((this||je).p5)).mat4[0]=(this||je).mat4[0],xe.mat4[1]=(this||je).mat4[1],xe.mat4[2]=(this||je).mat4[2],xe.mat4[3]=(this||je).mat4[3],xe.mat4[4]=(this||je).mat4[4],xe.mat4[5]=(this||je).mat4[5],xe.mat4[6]=(this||je).mat4[6],xe.mat4[7]=(this||je).mat4[7],xe.mat4[8]=(this||je).mat4[8],xe.mat4[9]=(this||je).mat4[9],xe.mat4[10]=(this||je).mat4[10],xe.mat4[11]=(this||je).mat4[11],xe.mat4[12]=(this||je).mat4[12],xe.mat4[13]=(this||je).mat4[13],xe.mat4[14]=(this||je).mat4[14],xe.mat4[15]=(this||je).mat4[15]),xe}},{key:"transpose",value:function(xe){var we,Se,Ee,Ye,Ze,Qe;return xe instanceof Te.default.Matrix?(we=xe.mat4[1],Se=xe.mat4[2],Ee=xe.mat4[3],Ye=xe.mat4[6],Ze=xe.mat4[7],Qe=xe.mat4[11],(this||je).mat4[0]=xe.mat4[0],(this||je).mat4[1]=xe.mat4[4],(this||je).mat4[2]=xe.mat4[8],(this||je).mat4[3]=xe.mat4[12],(this||je).mat4[4]=we,(this||je).mat4[5]=xe.mat4[5],(this||je).mat4[6]=xe.mat4[9],(this||je).mat4[7]=xe.mat4[13],(this||je).mat4[8]=Se,(this||je).mat4[9]=Ye,(this||je).mat4[10]=xe.mat4[10],(this||je).mat4[11]=xe.mat4[14],(this||je).mat4[12]=Ee,(this||je).mat4[13]=Ze,(this||je).mat4[14]=Qe,(this||je).mat4[15]=xe.mat4[15]):O(xe)&&(we=xe[1],Se=xe[2],Ee=xe[3],Ye=xe[6],Ze=xe[7],Qe=xe[11],(this||je).mat4[0]=xe[0],(this||je).mat4[1]=xe[4],(this||je).mat4[2]=xe[8],(this||je).mat4[3]=xe[12],(this||je).mat4[4]=we,(this||je).mat4[5]=xe[5],(this||je).mat4[6]=xe[9],(this||je).mat4[7]=xe[13],(this||je).mat4[8]=Se,(this||je).mat4[9]=Ye,(this||je).mat4[10]=xe[10],(this||je).mat4[11]=xe[14],(this||je).mat4[12]=Ee,(this||je).mat4[13]=Ze,(this||je).mat4[14]=Qe,(this||je).mat4[15]=xe[15]),this||je}},{key:"invert",value:function(xe){xe instanceof Te.default.Matrix?(we=xe.mat4[0],Se=xe.mat4[1],Ee=xe.mat4[2],Ye=xe.mat4[3],Ze=xe.mat4[4],Qe=xe.mat4[5],Ke=xe.mat4[6],Je=xe.mat4[7],$e=xe.mat4[8],et=xe.mat4[9],tt=xe.mat4[10],rt=xe.mat4[11],ot=xe.mat4[12],nt=xe.mat4[13],st=xe.mat4[14],it=xe.mat4[15]):O(xe)&&(we=xe[0],Se=xe[1],Ee=xe[2],Ye=xe[3],Ze=xe[4],Qe=xe[5],Ke=xe[6],Je=xe[7],$e=xe[8],et=xe[9],tt=xe[10],rt=xe[11],ot=xe[12],nt=xe[13],st=xe[14],it=xe[15]);xe=we*Qe-Se*Ze;var we,Se,Ee,Ye,Ze,Qe,Ke,Je,$e,et,tt,rt,ot,nt,st,it,dt=we*Ke-Ee*Ze,ht=we*Je-Ye*Ze,ft=Se*Ke-Ee*Qe,pt=Se*Je-Ye*Qe,mt=Ee*Je-Ye*Ke,yt=$e*nt-et*ot,gt=$e*st-tt*ot,wt=$e*it-rt*ot,Dt=et*st-tt*nt,Xt=et*it-rt*nt,Yt=tt*it-rt*st,br=xe*Yt-dt*Xt+ht*Dt+ft*wt-pt*gt+mt*yt;return br?((this||je).mat4[0]=(Qe*Yt-Ke*Xt+Je*Dt)*(br=1/br),(this||je).mat4[1]=(Ee*Xt-Se*Yt-Ye*Dt)*br,(this||je).mat4[2]=(nt*mt-st*pt+it*ft)*br,(this||je).mat4[3]=(tt*pt-et*mt-rt*ft)*br,(this||je).mat4[4]=(Ke*wt-Ze*Yt-Je*gt)*br,(this||je).mat4[5]=(we*Yt-Ee*wt+Ye*gt)*br,(this||je).mat4[6]=(st*ht-ot*mt-it*dt)*br,(this||je).mat4[7]=($e*mt-tt*ht+rt*dt)*br,(this||je).mat4[8]=(Ze*Xt-Qe*wt+Je*yt)*br,(this||je).mat4[9]=(Se*wt-we*Xt-Ye*yt)*br,(this||je).mat4[10]=(ot*pt-nt*ht+it*xe)*br,(this||je).mat4[11]=(et*ht-$e*pt-rt*xe)*br,(this||je).mat4[12]=(Qe*gt-Ze*Dt-Ke*yt)*br,(this||je).mat4[13]=(we*Dt-Se*gt+Ee*yt)*br,(this||je).mat4[14]=(nt*dt-ot*ft-st*xe)*br,(this||je).mat4[15]=($e*ft-et*dt+tt*xe)*br,this||je):null}},{key:"invert3x3",value:function(){var xe=(this||je).mat3[0],we=(this||je).mat3[1],Se=(this||je).mat3[2],Te=(this||je).mat3[3],Ee=(this||je).mat3[4],Ye=(this||je).mat3[5],Ze=(this||je).mat3[6],Qe=(this||je).mat3[7],Ke=(this||je).mat3[8],Je=Ke*Ee-Ye*Qe,$e=-Ke*Te+Ye*Ze,et=Qe*Te-Ee*Ze,tt=xe*Je+we*$e+Se*et;return tt?((this||je).mat3[0]=Je*(tt=1/tt),(this||je).mat3[1]=(-Ke*we+Se*Qe)*tt,(this||je).mat3[2]=(Ye*we-Se*Ee)*tt,(this||je).mat3[3]=$e*tt,(this||je).mat3[4]=(Ke*xe-Se*Ze)*tt,(this||je).mat3[5]=(-Ye*xe+Se*Te)*tt,(this||je).mat3[6]=et*tt,(this||je).mat3[7]=(-Qe*xe+we*Ze)*tt,(this||je).mat3[8]=(Ee*xe-we*Te)*tt,this||je):null}},{key:"transpose3x3",value:function(xe){var we=(xe=void 0===xe?(this||je).mat3:xe)[1],Se=xe[2],Te=xe[5];return(this||je).mat3[0]=xe[0],(this||je).mat3[1]=xe[3],(this||je).mat3[2]=xe[6],(this||je).mat3[3]=we,(this||je).mat3[4]=xe[4],(this||je).mat3[5]=xe[7],(this||je).mat3[6]=Se,(this||je).mat3[7]=Te,(this||je).mat3[8]=xe[8],this||je}},{key:"inverseTranspose",value:function(xe){xe=xe.mat4,void 0===(this||je).mat3?Te.default._friendlyError("sorry, this function only works with mat3"):((this||je).mat3[0]=xe[0],(this||je).mat3[1]=xe[1],(this||je).mat3[2]=xe[2],(this||je).mat3[3]=xe[4],(this||je).mat3[4]=xe[5],(this||je).mat3[5]=xe[6],(this||je).mat3[6]=xe[8],(this||je).mat3[7]=xe[9],(this||je).mat3[8]=xe[10]),xe=this.invert3x3();if(xe)xe.transpose3x3((this||je).mat3);else for(var we=0;we<9;we++)(this||je).mat3[we]=0;return this||je}},{key:"determinant",value:function(){var xe=(this||je).mat4[0]*(this||je).mat4[5]-(this||je).mat4[1]*(this||je).mat4[4],we=(this||je).mat4[0]*(this||je).mat4[6]-(this||je).mat4[2]*(this||je).mat4[4],Se=(this||je).mat4[0]*(this||je).mat4[7]-(this||je).mat4[3]*(this||je).mat4[4],Te=(this||je).mat4[1]*(this||je).mat4[6]-(this||je).mat4[2]*(this||je).mat4[5],Ee=(this||je).mat4[1]*(this||je).mat4[7]-(this||je).mat4[3]*(this||je).mat4[5],Ye=(this||je).mat4[2]*(this||je).mat4[7]-(this||je).mat4[3]*(this||je).mat4[6],Ze=(this||je).mat4[8]*(this||je).mat4[13]-(this||je).mat4[9]*(this||je).mat4[12],Qe=(this||je).mat4[8]*(this||je).mat4[14]-(this||je).mat4[10]*(this||je).mat4[12],Ke=(this||je).mat4[8]*(this||je).mat4[15]-(this||je).mat4[11]*(this||je).mat4[12],Je=(this||je).mat4[9]*(this||je).mat4[14]-(this||je).mat4[10]*(this||je).mat4[13],$e=(this||je).mat4[9]*(this||je).mat4[15]-(this||je).mat4[11]*(this||je).mat4[13];return xe*((this||je).mat4[10]*(this||je).mat4[15]-(this||je).mat4[11]*(this||je).mat4[14])-we*$e+Se*Je+Te*Ke-Ee*Qe+Ye*Ze}},{key:"mult",value:function(xe){var we;if(xe===(this||je)||xe===(this||je).mat4)we=this.copy().mat4;else if(xe instanceof Te.default.Matrix)we=xe.mat4;else if(O(xe))we=xe;else{if(16!==arguments.length)return;we=arguments}xe=(this||je).mat4[0];var Se=(this||je).mat4[1],Ee=(this||je).mat4[2],Ye=(this||je).mat4[3];return(this||je).mat4[0]=xe*we[0]+Se*we[4]+Ee*we[8]+Ye*we[12],(this||je).mat4[1]=xe*we[1]+Se*we[5]+Ee*we[9]+Ye*we[13],(this||je).mat4[2]=xe*we[2]+Se*we[6]+Ee*we[10]+Ye*we[14],(this||je).mat4[3]=xe*we[3]+Se*we[7]+Ee*we[11]+Ye*we[15],xe=(this||je).mat4[4],Se=(this||je).mat4[5],Ee=(this||je).mat4[6],Ye=(this||je).mat4[7],(this||je).mat4[4]=xe*we[0]+Se*we[4]+Ee*we[8]+Ye*we[12],(this||je).mat4[5]=xe*we[1]+Se*we[5]+Ee*we[9]+Ye*we[13],(this||je).mat4[6]=xe*we[2]+Se*we[6]+Ee*we[10]+Ye*we[14],(this||je).mat4[7]=xe*we[3]+Se*we[7]+Ee*we[11]+Ye*we[15],xe=(this||je).mat4[8],Se=(this||je).mat4[9],Ee=(this||je).mat4[10],Ye=(this||je).mat4[11],(this||je).mat4[8]=xe*we[0]+Se*we[4]+Ee*we[8]+Ye*we[12],(this||je).mat4[9]=xe*we[1]+Se*we[5]+Ee*we[9]+Ye*we[13],(this||je).mat4[10]=xe*we[2]+Se*we[6]+Ee*we[10]+Ye*we[14],(this||je).mat4[11]=xe*we[3]+Se*we[7]+Ee*we[11]+Ye*we[15],xe=(this||je).mat4[12],Se=(this||je).mat4[13],Ee=(this||je).mat4[14],Ye=(this||je).mat4[15],(this||je).mat4[12]=xe*we[0]+Se*we[4]+Ee*we[8]+Ye*we[12],(this||je).mat4[13]=xe*we[1]+Se*we[5]+Ee*we[9]+Ye*we[13],(this||je).mat4[14]=xe*we[2]+Se*we[6]+Ee*we[10]+Ye*we[14],(this||je).mat4[15]=xe*we[3]+Se*we[7]+Ee*we[11]+Ye*we[15],this||je}},{key:"apply",value:function(xe){var we;if(xe===(this||je)||xe===(this||je).mat4)we=this.copy().mat4;else if(xe instanceof Te.default.Matrix)we=xe.mat4;else if(O(xe))we=xe;else{if(16!==arguments.length)return;we=arguments}xe=(this||je).mat4;var Se=xe[0],Ee=xe[4],Ye=xe[8],Ze=xe[12];Se=(xe[0]=we[0]*Se+we[1]*Ee+we[2]*Ye+we[3]*Ze,xe[4]=we[4]*Se+we[5]*Ee+we[6]*Ye+we[7]*Ze,xe[8]=we[8]*Se+we[9]*Ee+we[10]*Ye+we[11]*Ze,xe[12]=we[12]*Se+we[13]*Ee+we[14]*Ye+we[15]*Ze,xe[1]),Ee=xe[5],Ye=xe[9],Ze=xe[13],Se=(xe[1]=we[0]*Se+we[1]*Ee+we[2]*Ye+we[3]*Ze,xe[5]=we[4]*Se+we[5]*Ee+we[6]*Ye+we[7]*Ze,xe[9]=we[8]*Se+we[9]*Ee+we[10]*Ye+we[11]*Ze,xe[13]=we[12]*Se+we[13]*Ee+we[14]*Ye+we[15]*Ze,xe[2]),Ee=xe[6],Ye=xe[10],Ze=xe[14],Se=(xe[2]=we[0]*Se+we[1]*Ee+we[2]*Ye+we[3]*Ze,xe[6]=we[4]*Se+we[5]*Ee+we[6]*Ye+we[7]*Ze,xe[10]=we[8]*Se+we[9]*Ee+we[10]*Ye+we[11]*Ze,xe[14]=we[12]*Se+we[13]*Ee+we[14]*Ye+we[15]*Ze,xe[3]),Ee=xe[7],Ye=xe[11],Ze=xe[15];return xe[3]=we[0]*Se+we[1]*Ee+we[2]*Ye+we[3]*Ze,xe[7]=we[4]*Se+we[5]*Ee+we[6]*Ye+we[7]*Ze,xe[11]=we[8]*Se+we[9]*Ee+we[10]*Ye+we[11]*Ze,xe[15]=we[12]*Se+we[13]*Ee+we[14]*Ye+we[15]*Ze,this||je}},{key:"scale",value:function(xe,we,Se){return xe instanceof Te.default.Vector?(we=xe.y,Se=xe.z,xe=xe.x):xe instanceof Array&&(we=xe[1],Se=xe[2],xe=xe[0]),(this||je).mat4[0]*=xe,(this||je).mat4[1]*=xe,(this||je).mat4[2]*=xe,(this||je).mat4[3]*=xe,(this||je).mat4[4]*=we,(this||je).mat4[5]*=we,(this||je).mat4[6]*=we,(this||je).mat4[7]*=we,(this||je).mat4[8]*=Se,(this||je).mat4[9]*=Se,(this||je).mat4[10]*=Se,(this||je).mat4[11]*=Se,this||je}},{key:"rotate",value:function(xe,we,Se,Ee){we instanceof Te.default.Vector?(Se=we.y,Ee=we.z,we=we.x):we instanceof Array&&(Se=we[1],Ee=we[2],we=we[0]);var Ye=Math.sqrt(we*we+Se*Se+Ee*Ee),Ze=(Ye=(we*=1/Ye,Se*=1/Ye,Ee*=1/Ye,(this||je).mat4[0]),(this||je).mat4[1]),Qe=(this||je).mat4[2],Ke=(this||je).mat4[3],Je=(this||je).mat4[4],$e=(this||je).mat4[5],et=(this||je).mat4[6],tt=(this||je).mat4[7],rt=(this||je).mat4[8],ot=(this||je).mat4[9],nt=(this||je).mat4[10],st=(this||je).mat4[11],it=Math.sin(xe),dt=(xe=Math.cos(xe),1-xe),ht=we*we*dt+xe,ft=Se*we*dt+Ee*it,pt=Ee*we*dt-Se*it,mt=we*Se*dt-Ee*it,yt=Se*Se*dt+xe,gt=Ee*Se*dt+we*it,wt=we*Ee*dt+Se*it;Se=Se*Ee*dt-we*it,we=Ee*Ee*dt+xe;return(this||je).mat4[0]=Ye*ht+Je*ft+rt*pt,(this||je).mat4[1]=Ze*ht+$e*ft+ot*pt,(this||je).mat4[2]=Qe*ht+et*ft+nt*pt,(this||je).mat4[3]=Ke*ht+tt*ft+st*pt,(this||je).mat4[4]=Ye*mt+Je*yt+rt*gt,(this||je).mat4[5]=Ze*mt+$e*yt+ot*gt,(this||je).mat4[6]=Qe*mt+et*yt+nt*gt,(this||je).mat4[7]=Ke*mt+tt*yt+st*gt,(this||je).mat4[8]=Ye*wt+Je*Se+rt*we,(this||je).mat4[9]=Ze*wt+$e*Se+ot*we,(this||je).mat4[10]=Qe*wt+et*Se+nt*we,(this||je).mat4[11]=Ke*wt+tt*Se+st*we,this||je}},{key:"translate",value:function(xe){var we=xe[0],Se=xe[1];xe=xe[2]||0;(this||je).mat4[12]+=(this||je).mat4[0]*we+(this||je).mat4[4]*Se+(this||je).mat4[8]*xe,(this||je).mat4[13]+=(this||je).mat4[1]*we+(this||je).mat4[5]*Se+(this||je).mat4[9]*xe,(this||je).mat4[14]+=(this||je).mat4[2]*we+(this||je).mat4[6]*Se+(this||je).mat4[10]*xe,(this||je).mat4[15]+=(this||je).mat4[3]*we+(this||je).mat4[7]*Se+(this||je).mat4[11]*xe}},{key:"rotateX",value:function(je){this.rotate(je,1,0,0)}},{key:"rotateY",value:function(je){this.rotate(je,0,1,0)}},{key:"rotateZ",value:function(je){this.rotate(je,0,0,1)}},{key:"perspective",value:function(xe,we,Se,Te){xe=1/Math.tan(xe/2);var Ee=1/(Se-Te);return(this||je).mat4[0]=xe/we,(this||je).mat4[1]=0,(this||je).mat4[2]=0,(this||je).mat4[3]=0,(this||je).mat4[4]=0,(this||je).mat4[5]=xe,(this||je).mat4[6]=0,(this||je).mat4[7]=0,(this||je).mat4[8]=0,(this||je).mat4[9]=0,(this||je).mat4[10]=(Te+Se)*Ee,(this||je).mat4[11]=-1,(this||je).mat4[12]=0,(this||je).mat4[13]=0,(this||je).mat4[14]=2*Te*Se*Ee,(this||je).mat4[15]=0,this||je}},{key:"ortho",value:function(xe,we,Se,Te,Ee,Ye){var Ze=1/(xe-we),Qe=1/(Se-Te),Ke=1/(Ee-Ye);return(this||je).mat4[0]=-2*Ze,(this||je).mat4[1]=0,(this||je).mat4[2]=0,(this||je).mat4[3]=0,(this||je).mat4[4]=0,(this||je).mat4[5]=-2*Qe,(this||je).mat4[6]=0,(this||je).mat4[7]=0,(this||je).mat4[8]=0,(this||je).mat4[9]=0,(this||je).mat4[10]=2*Ke,(this||je).mat4[11]=0,(this||je).mat4[12]=(xe+we)*Ze,(this||je).mat4[13]=(Te+Se)*Qe,(this||je).mat4[14]=(Ye+Ee)*Ke,(this||je).mat4[15]=1,this||je}},{key:"multiplyVec4",value:function(xe,we,Se,Te){var Ee=new Array(4),Ye=(this||je).mat4;return Ee[0]=Ye[0]*xe+Ye[4]*we+Ye[8]*Se+Ye[12]*Te,Ee[1]=Ye[1]*xe+Ye[5]*we+Ye[9]*Se+Ye[13]*Te,Ee[2]=Ye[2]*xe+Ye[6]*we+Ye[10]*Se+Ye[14]*Te,Ee[3]=Ye[3]*xe+Ye[7]*we+Ye[11]*Se+Ye[15]*Te,Ee}},{key:"multiplyPoint",value:function(je){var xe=je.x,we=je.y;je=je.z,xe=this.multiplyVec4(xe,we,je,1);return new Te.default.Vector(xe[0],xe[1],xe[2])}},{key:"multiplyAndNormalizePoint",value:function(je){var xe=je.x,we=je.y;je=je.z,xe=this.multiplyVec4(xe,we,je,1);return xe[0]/=xe[3],xe[1]/=xe[3],xe[2]/=xe[3],new Te.default.Vector(xe[0],xe[1],xe[2])}},{key:"multiplyDirection",value:function(je){var xe=je.x,we=je.y;je=je.z,xe=this.multiplyVec4(xe,we,je,0);return new Te.default.Vector(xe[0],xe[1],xe[2])}},{key:"mult3x3",value:function(xe){var we;if(xe===(this||je)||xe===(this||je).mat3)we=this.copy().mat3;else if(xe instanceof Te.default.Matrix)we=xe.mat3;else if(O(xe))we=xe;else{if(9!==arguments.length)return;we=arguments}xe=(this||je).mat3[0];var Se=(this||je).mat3[1],Ee=(this||je).mat3[2];return(this||je).mat3[0]=xe*we[0]+Se*we[3]+Ee*we[6],(this||je).mat3[1]=xe*we[1]+Se*we[4]+Ee*we[7],(this||je).mat3[2]=xe*we[2]+Se*we[5]+Ee*we[8],xe=(this||je).mat3[3],Se=(this||je).mat3[4],Ee=(this||je).mat3[5],(this||je).mat3[3]=xe*we[0]+Se*we[3]+Ee*we[6],(this||je).mat3[4]=xe*we[1]+Se*we[4]+Ee*we[7],(this||je).mat3[5]=xe*we[2]+Se*we[5]+Ee*we[8],xe=(this||je).mat3[6],Se=(this||je).mat3[7],Ee=(this||je).mat3[8],(this||je).mat3[6]=xe*we[0]+Se*we[3]+Ee*we[6],(this||je).mat3[7]=xe*we[1]+Se*we[4]+Ee*we[7],(this||je).mat3[8]=xe*we[2]+Se*we[5]+Ee*we[8],this||je}},{key:"column",value:function(xe){return new Te.default.Vector((this||je).mat3[3*xe],(this||je).mat3[3*xe+1],(this||je).mat3[3*xe+2])}},{key:"row",value:function(xe){return new Te.default.Vector((this||je).mat3[xe],(this||je).mat3[xe+3],(this||je).mat3[xe+6])}},{key:"diagonal",value:function(){return void 0!==(this||je).mat3?[(this||je).mat3[0],(this||je).mat3[4],(this||je).mat3[8]]:[(this||je).mat4[0],(this||je).mat4[5],(this||je).mat4[10],(this||je).mat4[15]]}},{key:"multiplyVec3",value:function(je,xe){return(xe=void 0===xe?je.copy():xe).x=this.row(0).dot(je),xe.y=this.row(1).dot(je),xe.z=this.row(2).dot(je),xe}},{key:"createSubMatrix3x3",value:function(){var xe=new Te.default.Matrix("mat3");return xe.mat3[0]=(this||je).mat4[0],xe.mat3[1]=(this||je).mat4[1],xe.mat3[2]=(this||je).mat4[2],xe.mat3[3]=(this||je).mat4[4],xe.mat3[4]=(this||je).mat4[5],xe.mat3[5]=(this||je).mat4[6],xe.mat3[6]=(this||je).mat4[8],xe.mat3[7]=(this||je).mat4[9],xe.mat3[8]=(this||je).mat4[10],xe}}])&&n(xe.prototype,we),Se&&n(xe,Se),r}(),Te.default.Matrix);Se.default=xe},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(xe,we,Se){xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.map"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;xe=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function o(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}xe.default.RenderBuffer=function(){function i(xe,we,Se,Te,Ee,Ye){if(!((this||je)instanceof i))throw new TypeError("Cannot call a class as a function");(this||je).size=xe,(this||je).src=we,(this||je).dst=Se,(this||je).attr=Te,(this||je)._renderer=Ee,(this||je).map=Ye}var xe,we,Se;return xe=i,(we=[{key:"_prepareBuffer",value:function(xe,we){var Se,Te,Ee,Ye=we.attributes,Ze=(this||je)._renderer.GL,Qe=xe.model||xe;Ye=Ye[(this||je).attr];Ye&&(Se=xe[(this||je).dst],0<(Te=Qe[(this||je).src]).length?((Ee=!Se)&&(xe[(this||je).dst]=Se=Ze.createBuffer()),Ze.bindBuffer(Ze.ARRAY_BUFFER,Se),!Ee&&!1===Qe.dirtyFlags[(this||je).src]||(Ee=(xe=(this||je).map)?xe(Te):Te,(this||je)._renderer._bindBuffer(Se,Ze.ARRAY_BUFFER,Ee),Qe.dirtyFlags[(this||je).src]=!1),we.enableAttrib(Ye,(this||je).size)):-1!==(xe=Ye.location)&&(this||je)._renderer.registerEnabled.has(xe)&&(Ze.disableVertexAttribArray(xe),(this||je)._renderer.registerEnabled.delete(xe)))}}])&&o(xe.prototype,we),Se&&o(xe,Se),i}();xe=xe.default.RenderBuffer;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.find-index"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.find-index"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ze=xe("../core/main"))&&Ze.__esModule?Ze:{default:Ze},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function f(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}xe("./p5.RenderBuffer"),Te.default.RendererGL.prototype.beginShape=function(xe){return(this||je).immediateMode.shapeMode=void 0!==xe?xe:Ee.TESS,(this||je).immediateMode.geometry.reset(),(this||je).immediateMode.contourIndices=[],this||je};var Ye={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},Ze=(Te.default.RendererGL.prototype.beginContour=function(){if((this||je).immediateMode.shapeMode!==Ee.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");(this||je).immediateMode.contourIndices.push((this||je).immediateMode.geometry.vertices.length)},Te.default.RendererGL.prototype.vertex=function(xe,we){if((this||je).immediateMode.shapeMode===Ee.QUADS&&(this||je).immediateMode.geometry.vertices.length%6==3)for(var Se in Ye){var Ze=Ye[Se];Se=(this||je).immediateMode.geometry[Se];Se.push.apply(Se,f(Se.slice(Se.length-3*Ze,Se.length-2*Ze)).concat(f(Se.slice(Se.length-Ze,Se.length))))}var Qe,Ke,Je=Qe=Ke=0,$e=(3===arguments.length?Je=arguments[2]:4===arguments.length?(Qe=arguments[2],Ke=arguments[3]):5===arguments.length&&(Je=arguments[2],Qe=arguments[3],Ke=arguments[4]),new Te.default.Vector(xe,we,Je));$e=((this||je).immediateMode.geometry.vertices.push($e),(this||je).immediateMode.geometry.vertexNormals.push((this||je)._currentNormal),(this||je).curFillColor||[.5,.5,.5,1]),$e=((this||je).immediateMode.geometry.vertexColors.push($e[0],$e[1],$e[2],$e[3]),(this||je).curStrokeColor||[.5,.5,.5,1]);return(this||je).immediateMode.geometry.vertexStrokeColors.push($e[0],$e[1],$e[2],$e[3]),(this||je).textureMode!==Ee.IMAGE||(this||je).isProcessingVertices||(null!==(this||je)._tex?0<(this||je)._tex.width&&0<(this||je)._tex.height&&(Qe/=(this||je)._tex.width,Ke/=(this||je)._tex.height):void 0===(this||je).userFillShader&&void 0===(this||je).userStrokeShader&&void 0===(this||je).userPointShader&&null===(this||je)._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),(this||je).immediateMode.geometry.uvs.push(Qe,Ke),(this||je).immediateMode._bezierVertex[0]=xe,(this||je).immediateMode._bezierVertex[1]=we,(this||je).immediateMode._bezierVertex[2]=Je,(this||je).immediateMode._quadraticVertex[0]=xe,(this||je).immediateMode._quadraticVertex[1]=we,(this||je).immediateMode._quadraticVertex[2]=Je,this||je},Te.default.RendererGL.prototype.normal=function(xe,we,Se){return xe instanceof Te.default.Vector?(this||je)._currentNormal=xe:(this||je)._currentNormal=new Te.default.Vector(xe,we,Se),this||je},Te.default.RendererGL.prototype.endShape=function(xe,we,Se,Te,Ye,Ze){var Qe=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;return(this||je).immediateMode.shapeMode===Ee.POINTS?this._drawPoints((this||je).immediateMode.geometry.vertices,(this||je).immediateMode.buffers.point):(3===(this||je).immediateMode.geometry.vertices.length&&(this||je).immediateMode.shapeMode===Ee.TESS&&((this||je).immediateMode.shapeMode,Ee.TRIANGLES),(this||je).isProcessingVertices=!0,(this||je)._processVertices.apply(this||je,arguments),(this||je).isProcessingVertices=!1,(this||je).immediateMode.shapeMode!==Ee.LINE_STRIP&&(this||je).immediateMode.shapeMode!==Ee.LINES||((this||je).immediateMode.shapeMode=Ee.TRIANGLE_FAN),(this||je).immediateMode.shapeMode===Ee.QUADS?(this||je).immediateMode.shapeMode=Ee.TRIANGLES:(this||je).immediateMode.shapeMode===Ee.QUAD_STRIP&&((this||je).immediateMode.shapeMode=Ee.TRIANGLE_STRIP),(this||je)._doFill&&!(this||je).geometryBuilder&&3<=(this||je).immediateMode.geometry.vertices.length&&this._drawImmediateFill(Qe),(this||je)._doStroke&&!(this||je).geometryBuilder&&1<=(this||je).immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),(this||je).geometryBuilder&&(this||je).geometryBuilder.addImmediate(),(this||je).isBezier=!1,(this||je).isQuadratic=!1,(this||je).isCurve=!1,(this||je).immediateMode._bezierVertex.length=0,(this||je).immediateMode._quadraticVertex.length=0,(this||je).immediateMode._curveVertex.length=0),this||je},Te.default.RendererGL.prototype._processVertices=function(xe){var we;0!==(this||je).immediateMode.geometry.vertices.length&&(we=(this||je)._doStroke,xe=xe===Ee.CLOSE,we&&((this||je).immediateMode.geometry.edges=this._calculateEdges((this||je).immediateMode.shapeMode,(this||je).immediateMode.geometry.vertices,xe),(this||je).geometryBuilder||(this||je).immediateMode.geometry._edgesToVertices()),we=(this||je).immediateMode.shapeMode===Ee.TESS,xe=0<(this||je).immediateMode.contourIndices.length,(this||je)._doFill&&((this||je).isBezier||(this||je).isQuadratic||(this||je).isCurve||we||xe)&&(this||je).immediateMode.shapeMode!==Ee.LINES&&this._tesselateShape())},Te.default.RendererGL.prototype._calculateEdges=function(xe,we,Se){var Te=[],Ye=0,Ze=(this||je).immediateMode.contourIndices.slice(),Qe=0;switch(xe){case Ee.TRIANGLE_STRIP:for(Ye=0;Ye<we.length-2;Ye++)Te.push([Ye,Ye+1]),Te.push([Ye,Ye+2]);Te.push([Ye,Ye+1]);break;case Ee.TRIANGLE_FAN:for(Ye=1;Ye<we.length-1;Ye++)Te.push([0,Ye]),Te.push([Ye,Ye+1]);Te.push([0,we.length-1]);break;case Ee.TRIANGLES:for(Ye=0;Ye<we.length-2;Ye+=3)Te.push([Ye,Ye+1]),Te.push([Ye+1,Ye+2]),Te.push([Ye+2,Ye]);break;case Ee.LINES:for(Ye=0;Ye<we.length-1;Ye+=2)Te.push([Ye,Ye+1]);break;case Ee.QUADS:for(Ye=0;Ye<we.length-5;Ye+=6)Te.push([Ye,Ye+1]),Te.push([Ye+1,Ye+2]),Te.push([Ye+3,Ye+5]),Te.push([Ye+4,Ye+5]);break;case Ee.QUAD_STRIP:for(Ye=0;Ye<we.length-2;Ye+=2)Te.push([Ye,Ye+1]),Te.push([Ye,Ye+2]),Te.push([Ye+1,Ye+3]);Te.push([Ye,Ye+1]);break;default:for(Ye=0;Ye<we.length;Ye++)Ye+1<we.length&&Ye+1!==Ze[0]?Te.push([Ye,Ye+1]):((Se||Qe)&&Te.push([Ye,Qe]),0<Ze.length&&(Qe=Ze.shift()))}return xe!==Ee.TESS&&Se&&Te.push([we.length-1,0]),Te},Te.default.RendererGL.prototype._tesselateShape=function(){for(var xe=this||je,we=((this||je).immediateMode.shapeMode=Ee.TRIANGLES,[[]]),Se=0;Se<(this||je).immediateMode.geometry.vertices.length;Se++)0<(this||je).immediateMode.contourIndices.length&&(this||je).immediateMode.contourIndices[0]===Se&&((this||je).immediateMode.contourIndices.shift(),we.push([])),we[we.length-1].push((this||je).immediateMode.geometry.vertices[Se].x,(this||je).immediateMode.geometry.vertices[Se].y,(this||je).immediateMode.geometry.vertices[Se].z,(this||je).immediateMode.geometry.uvs[2*Se],(this||je).immediateMode.geometry.uvs[2*Se+1],(this||je).immediateMode.geometry.vertexColors[4*Se],(this||je).immediateMode.geometry.vertexColors[4*Se+1],(this||je).immediateMode.geometry.vertexColors[4*Se+2],(this||je).immediateMode.geometry.vertexColors[4*Se+3],(this||je).immediateMode.geometry.vertexNormals[Se].x,(this||je).immediateMode.geometry.vertexNormals[Se].y,(this||je).immediateMode.geometry.vertexNormals[Se].z);for(var Ye,Ze=this._triangulate(we),Qe=(this||je).immediateMode.geometry.vertices,Ke=((this||je).immediateMode.geometry.vertices=[],(this||je).immediateMode.geometry.vertexNormals=[],(this||je).immediateMode.geometry.uvs=[],[]),Je=0,$e=Ze.length;Je<$e;Je+=Te.default.RendererGL.prototype.tessyVertexSize)Ke.push.apply(Ke,f(Ze.slice(Je+5,Je+9))),(this||je).normal.apply(this||je,f(Ze.slice(Je+9,Je+12))),(this||je).vertex.apply(this||je,f(Ze.slice(Je,Je+5)));(this||je).geometryBuilder&&(Ye=new Map,(this||je).immediateMode.geometry.edges=(this||je).immediateMode.geometry.edges.map((function(je){return je.map((function(je){if(!Ye.has(je)){var we=Qe[je],Se=xe.immediateMode.geometry.vertices.findIndex((function(je){return we.x===je.x&&we.y===je.y&&we.z===je.z}));if(-1===Se){for(var Te=1/0,Ee=0,Ze=0;Ze<xe.immediateMode.geometry.vertices.length;Ze++){var Ke=xe.immediateMode.geometry.vertices[Ze],Je=we.x-Ke.x,$e=we.y-Ke.y;Ke=we.z-Ke.z,Je=Je*Je+$e*$e+Ke*Ke;Je<Te&&(Te=Je,Ee=Ze)}Se=Ee}Ye.set(je,Se)}return Ye.get(je)}))}))),(this||je).immediateMode.geometry.vertexColors=Ke},Te.default.RendererGL.prototype._drawImmediateFill=function(){var xe,we=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,Se=(this||je).GL,Te=((this||je)._useVertexColor=0<(this||je).immediateMode.geometry.vertexColors.length,xe=this._getImmediateFillShader(),this._setFillUniforms(xe),!0),Ee=!1,Ye=void 0;try{for(var Ze,Qe=(this||je).immediateMode.buffers.fill[Symbol.iterator]();!(Te=(Ze=Qe.next()).done);Te=!0)Ze.value._prepareBuffer((this||je).immediateMode.geometry,xe)}catch(xe){Ee=!0,Ye=xe}finally{try{Te||null==Qe.return||Qe.return()}finally{if(Ee)throw Ye}}if(xe.disableRemainingAttributes(),this._applyColorBlend((this||je).curFillColor,(this||je).immediateMode.geometry.hasFillTransparency()),1===we)Se.drawArrays((this||je).immediateMode.shapeMode,0,(this||je).immediateMode.geometry.vertices.length);else try{Se.drawArraysInstanced((this||je).immediateMode.shapeMode,0,(this||je).immediateMode.geometry.vertices.length,we)}catch(xe){console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}xe.unbindShader()},Te.default.RendererGL.prototype._drawImmediateStroke=function(){var xe=(this||je).GL,we=((this||je)._useLineColor=0<(this||je).immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),Se=(this._setStrokeUniforms(we),!0),Te=!1,Ee=void 0;try{for(var Ye,Ze=(this||je).immediateMode.buffers.stroke[Symbol.iterator]();!(Se=(Ye=Ze.next()).done);Se=!0)Ye.value._prepareBuffer((this||je).immediateMode.geometry,we)}catch(xe){Te=!0,Ee=xe}finally{try{Se||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}we.disableRemainingAttributes(),this._applyColorBlend((this||je).curStrokeColor,(this||je).immediateMode.geometry.hasFillTransparency()),xe.drawArrays(xe.TRIANGLES,0,(this||je).immediateMode.geometry.lineVertices.length/3),we.unbindShader()},Te.default.RendererGL);Se.default=Ze},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=(xe("./p5.RendererGL"),xe("./p5.RenderBuffer"),function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=l();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants")));function l(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,l=function(){return je},je)}Te.default.RendererGL.prototype.freeGeometry=function(je){je.gid?this._freeBuffers(je.gid):console.warn("The model you passed to freeGeometry does not have an id!")},Te.default.RendererGL.prototype._initBufferDefaults=function(xe){var we;return this._freeBuffers(xe),1e3<Object.keys((this||je).retainedMode.geometry).length&&(we=Object.keys((this||je).retainedMode.geometry)[0],this._freeBuffers(we)),(this||je).retainedMode.geometry[xe]={}},Te.default.RendererGL.prototype._freeBuffers=function(xe){var we,Se=(this||je).retainedMode.geometry[xe];function t(je){var xe=!0,Te=!1,Ee=void 0;try{for(var Ye,Ze=je[Symbol.iterator]();!(xe=(Ye=Ze.next()).done);xe=!0){var Qe=Ye.value;Se[Qe.dst]&&(we.deleteBuffer(Se[Qe.dst]),Se[Qe.dst]=null)}}catch(je){Te=!0,Ee=je}finally{try{xe||null==Ze.return||Ze.return()}finally{if(Te)throw Ee}}}Se&&(delete(this||je).retainedMode.geometry[xe],we=(this||je).GL,Se.indexBuffer&&we.deleteBuffer(Se.indexBuffer),t((this||je).retainedMode.buffers.stroke),t((this||je).retainedMode.buffers.fill))},Te.default.RendererGL.prototype.createBuffers=function(xe,we){var Se,Ee,Ye,Ze=(this||je).GL,Qe=(xe=this._initBufferDefaults(xe),xe.model=we,xe.indexBuffer);return we.faces.length?(Qe=Qe||(xe.indexBuffer=Ze.createBuffer()),Ye=(Ee=(Se=Te.default.RendererGL.prototype._flatten(we.faces)).some((function(je){return 65535<je})))?Uint32Array:Uint16Array,this._bindBuffer(Qe,Ze.ELEMENT_ARRAY_BUFFER,Se,Ye),xe.indexBufferType=Ee?Ze.UNSIGNED_INT:Ze.UNSIGNED_SHORT,xe.vertexCount=3*we.faces.length):(Qe&&(Ze.deleteBuffer(Qe),xe.indexBuffer=null),xe.vertexCount=we.vertices?we.vertices.length:0),xe.lineVertexCount=we.lineVertices?we.lineVertices.length/3:0,xe},Te.default.RendererGL.prototype.drawBuffers=function(xe){var we=(this||je).GL,Se=(this||je).retainedMode.geometry[xe];if(!(this||je).geometryBuilder&&(this||je)._doFill&&0<(this||je).retainedMode.geometry[xe].vertexCount){(this||je)._useVertexColor=0<Se.model.vertexColors.length;var Te=this._getRetainedFillShader(),Ee=(this._setFillUniforms(Te),!0),Ye=!1,Ze=void 0;try{for(var Qe,Ke=(this||je).retainedMode.buffers.fill[Symbol.iterator]();!(Ee=(Qe=Ke.next()).done);Ee=!0)Qe.value._prepareBuffer(Se,Te)}catch(xe){Ye=!0,Ze=xe}finally{try{Ee||null==Ke.return||Ke.return()}finally{if(Ye)throw Ze}}Te.disableRemainingAttributes(),Se.indexBuffer&&this._bindBuffer(Se.indexBuffer,we.ELEMENT_ARRAY_BUFFER),this._applyColorBlend((this||je).curFillColor,Se.model.hasFillTransparency()),this._drawElements(we.TRIANGLES,xe),Te.unbindShader()}if(!(this||je).geometryBuilder&&(this||je)._doStroke&&0<Se.lineVertexCount){(this||je)._useLineColor=0<Se.model.vertexStrokeColors.length;var Je=this._getRetainedStrokeShader(),$e=(this._setStrokeUniforms(Je),!0);Ye=!1,Ze=void 0;try{for(var et,tt=(this||je).retainedMode.buffers.stroke[Symbol.iterator]();!($e=(et=tt.next()).done);$e=!0)et.value._prepareBuffer(Se,Je)}catch(xe){Ye=!0,Ze=xe}finally{try{$e||null==tt.return||tt.return()}finally{if(Ye)throw Ze}}Je.disableRemainingAttributes(),this._applyColorBlend((this||je).curStrokeColor,Se.model.hasStrokeTransparency()),this._drawArrays(we.TRIANGLES,xe),Je.unbindShader()}return(this||je).geometryBuilder&&(this||je).geometryBuilder.addRetained(Se),this||je},Te.default.RendererGL.prototype.drawBuffersScaled=function(xe,we,Se,Te){var Ee=(this||je).uMVMatrix.copy();try{(this||je).uMVMatrix.scale(we,Se,Te),this.drawBuffers(xe)}finally{(this||je).uMVMatrix=Ee}},Te.default.RendererGL.prototype._drawArrays=function(xe,we){return(this||je).GL.drawArrays(xe,0,(this||je).retainedMode.geometry[we].lineVertexCount),this||je},Te.default.RendererGL.prototype._drawElements=function(xe,we){we=(this||je).retainedMode.geometry[we];var Se=(this||je).GL;if(we.indexBuffer){if((this||je)._pInst.webglVersion!==Ee.WEBGL2&&we.indexBufferType===Se.UNSIGNED_INT&&!Se.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");Se.drawElements(Se.TRIANGLES,we.vertexCount,we.indexBufferType,0)}else Se.drawArrays(xe||Se.TRIANGLES,0,we.vertexCount)},Te.default.RendererGL.prototype._drawPoints=function(xe,we){var Se=(this||je).GL,Te=this._getImmediatePointShader();this._setPointUniforms(Te),this._bindBuffer(we,Se.ARRAY_BUFFER,this._vToNArray(xe),Float32Array,Se.STATIC_DRAW),Te.enableAttrib(Te.attributes.aPosition,3),this._applyColorBlend((this||je).curStrokeColor),Se.drawArrays(Se.Points,0,xe.length),Te.unbindShader()};var Ye=Te.default.RendererGL;Se.default=Ye},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.flat"),xe("core-js/modules/es.array.flat-map"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.array.unscopables.flat"),xe("core-js/modules/es.array.unscopables.flat-map"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.reflect.get"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.float64-array"),xe("core-js/modules/es.typed-array.int16-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.concat"),xe("core-js/modules/es.array.copy-within"),xe("core-js/modules/es.array.every"),xe("core-js/modules/es.array.fill"),xe("core-js/modules/es.array.flat"),xe("core-js/modules/es.array.flat-map"),xe("core-js/modules/es.array.from"),xe("core-js/modules/es.array.includes"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.map"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.array.unscopables.flat"),xe("core-js/modules/es.array.unscopables.flat-map"),xe("core-js/modules/es.map"),xe("core-js/modules/es.object.assign"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.set"),xe("core-js/modules/es.string.includes"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.float32-array"),xe("core-js/modules/es.typed-array.float64-array"),xe("core-js/modules/es.typed-array.int16-array"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.uint16-array"),xe("core-js/modules/es.typed-array.uint32-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.readPixelsWebGL=C,Se.readPixelWebGL=O,Se.default=void 0;var Te=n(xe("../core/main")),Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=d();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants")),Ye=n(xe("./GeometryBuilder")),Ze=n(xe("libtess")),Qe=(xe("./p5.Shader"),xe("./p5.Camera"),xe("../core/p5.Renderer"),xe("./p5.Matrix"),xe("./p5.Framebuffer"),xe("path"),xe("./p5.Texture"));function d(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,d=function(){return je},je)}function n(je){return je&&je.__esModule?je:{default:je}}function h(je){return function(je){if(Array.isArray(je)){for(var xe=0,we=new Array(je.length);xe<je.length;xe++)we[xe]=je[xe];return we}}(je)||function(je){if(Symbol.iterator in Object(je)||"[object Arguments]"===Object.prototype.toString.call(je))return Array.from(je)}(je)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function p(je,xe,we){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(je,xe,we){je=function(je,xe){for(;!Object.prototype.hasOwnProperty.call(je,xe)&&null!==(je=b(je)););return je}(je,xe);if(je)return(je=Object.getOwnPropertyDescriptor(je,xe)).get?je.get.call(we):je.value})(je,xe,we||je)}function m(je,xe){return(m=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function y(xe){return function(){var we,Se,Te=b(xe);return we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=b(this||je).constructor,Reflect.construct(Te,arguments,we)):Te.apply(this||je,arguments),Te=this||je,!(Se=we)||"object"!==i(Se)&&"function"!=typeof Se?v(Te):Se}}function v(je){if(void 0===je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}function b(je){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}function _(je,xe,we){xe in je?Object.defineProperty(je,xe,{value:we,enumerable:!0,configurable:!0,writable:!0}):je[xe]=we}function s(je,xe){et+="#define STROKE_CAP_".concat(je," ").concat(xe,"\n"),Je[Ee[je]]=xe}function j(je,xe){et+="#define STROKE_JOIN_".concat(je," ").concat(xe,"\n"),$e[Ee[je]]=xe}var Ke,Je={},$e={},et="",tt=(xe=(s("ROUND",0),s("PROJECT",1),s("SQUARE",2),j("ROUND",0),j("MITER",1),j("BEVEL",2),'#define PI 3.141592\n\nprecision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\nuniform mat3 uCameraRotation;\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\nuniform float metallic;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\n// setting from  _setImageLightUniforms()\n// boolean to initiate the calculateImageDiffuse and calculateImageSpecular\nuniform bool uUseImageLight;\n// texture for use in calculateImageDiffuse\nuniform sampler2D environmentMapDiffused;\n// texture for use in calculateImageSpecular\nuniform sampler2D environmentMapSpecular;\n// roughness for use in calculateImageSpecular\nuniform float levelOfDetail;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  float specularIntensity = mix(1.0, 0.4, metallic);\n  float diffuseIntensity = mix(1.0, 0.1, metallic);\n  if (uSpecular)\n    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;\n    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;\n  return lr;\n}\n\n// converts the range of "value" from [min1 to max1] to [min2 to max2]\nfloat map(float value, float min1, float max1, float min2, float max2) {\n  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 mapTextureToNormal( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );\n  return angles;\n}\n\n\nvec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){\n  // make 2 seperate builds \n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position\n  vec3 worldNormal = normalize(vNormal * uCameraRotation);\n  vec2 newTexCoor = mapTextureToNormal( worldNormal );\n  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);\n}\n\nvec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){\n  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);\n  vec3 worldNormal = normalize(vNormal);\n  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );\n  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;\n  vec2 newTexCoor = mapTextureToNormal( R );\n#ifdef WEBGL2\n  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);\n#else\n  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);\n#endif\n  // this is to make the darker sections more dark\n  // png and jpg usually flatten the brightness so it is to reverse that\n  return mix(\n    pow(outColor.xyz, vec3(10)),\n    pow(outColor.xyz, vec3(1.2)),\n    metallic \n  );\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  if( uUseImageLight ){\n    totalDiffuse += calculateImageDiffuse(normal, modelPosition);\n    totalSpecular += calculateImageSpecular(normal, modelPosition);\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n'),{sphereMappingFrag:"#define PI 3.141592\n\nprecision highp float;\n  \nuniform sampler2D uSampler;\nuniform mat3 uNewNormalMatrix;\nuniform float uFovY;\nuniform float uAspect;\n\nvarying vec2 vTexCoord;\n  \nvoid main() {\n    float uFovX = uFovY * uAspect; \n    vec4 newTexColor = texture2D(uSampler, vTexCoord);\n    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);\n    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);\n    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );\n    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);\n    vec2 suv;\n    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);\n    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;\n    newTexColor = texture2D(uSampler, suv.xy);\n    gl_FragColor = newTexColor;\n}\n",immediateVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nOUT vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"IN vec3 aPosition;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"IN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nOUT vec3 vVertexNormal;\nOUT highp vec2 vVertTexCoord;\nOUT vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"IN vec3 vVertexNormal;\nvoid main(void) {\n  OUT_COLOR = vec4(vVertexNormal, 1.0);\n}\n",basicFrag:"IN vec4 vColor;\nvoid main(void) {\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:xe+"// include lighting.glgl\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT highp vec2 vVertTexCoord;\nOUT vec3 vDiffuseColor;\nOUT vec3 vSpecularColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",lightTextureFrag:"uniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nIN highp vec2 vVertTexCoord;\nIN vec3 vDiffuseColor;\nIN vec3 vSpecularColor;\nIN vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    OUT_COLOR = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp int;\n\nIN vec3 aPosition;\nIN vec3 aNormal;\nIN vec2 aTexCoord;\nIN vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nOUT vec3 vNormal;\nOUT vec2 vTexCoord;\nOUT vec3 vViewPosition;\nOUT vec3 vAmbientColor;\nOUT vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:xe+"// include lighting.glsl\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nIN vec3 vNormal;\nIN vec2 vTexCoord;\nIN vec3 vViewPosition;\nIN vec3 vAmbientColor;\nIN vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  OUT_COLOR = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;\n  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;\n  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;\n  vec2 pixelScale = vec2(\n    1. / length(newOrigin - newDX),\n    1. / length(newOrigin - newDY)\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:et+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nIN vec4 aPosition;\nIN vec3 aTangentIn;\nIN vec3 aTangentOut;\nIN float aSide;\nIN vec4 aVertexColor;\n\nOUT vec4 vColor;\nOUT vec2 vTangent;\nOUT vec2 vCenter;\nOUT vec2 vPosition;\nOUT float vMaxDist;\nOUT float vCap;\nOUT float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n\n    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.\n    // Multiplying again by its sign here negates the flip to get just the scale.\n    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.),\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.),\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset;\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:et+"precision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nIN vec4 vColor;\nIN vec2 vTangent;\nIN vec2 vCenter;\nIN vec2 vPosition;\nIN float vMaxDist;\nIN float vCap;\nIN float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"IN vec3 aPosition;\nuniform float uPointSize;\nOUT float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}\n",pointFrag:"precision mediump int;\nuniform vec4 uMaterialColor;\nIN float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n",imageLightVert:"precision highp float;\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nvarying vec3 localPos;\nvarying vec3 vWorldNormal;\nvarying vec3 vWorldPosition;\nvarying vec2 vTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n  \n  // orient the normals and pass to the fragment shader\n  vWorldNormal = uNormalMatrix * aNormal;\n  \n  // send the view position to the fragment shader\n  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;\n  \n  localPos = vWorldPosition;\n  vTexCoord = aTexCoord;\n}\n\n\n/*\nin the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.\n*/\n",imageLightDiffusedFrag:"precision highp float;\nvarying vec3 localPos;\n\n// the HDR cubemap converted (can be from an equirectangular environment map.)\nuniform sampler2D environmentMap;\nvarying vec2 vTexCoord;\n\nconst float PI = 3.14159265359;\n\nvec2 nTOE( vec3 v ){\n  // x = r sin(phi) cos(theta)   \n  // y = r cos(phi)  \n  // z = r sin(phi) sin(theta)\n  float phi = acos( v.y );\n  // if phi is 0, then there are no x, z components\n  float theta = 0.0;\n  // else \n  theta = acos(v.x / sin(phi));\n  float sinTheta = v.z / sin(phi);\n  if (sinTheta < 0.0) {\n    // Turn it into -theta, but in the 0-2PI range\n    theta = 2.0 * PI - theta;\n  }\n  theta = theta / (2.0 * 3.14159);\n  phi = phi / 3.14159 ;\n  \n  vec2 angles = vec2( phi, theta );\n  return angles;\n}\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\nvoid main()\n{   \t \n\t// the sample direction equals the hemisphere's orientation\n  float phi = vTexCoord.x * 2.0 * PI;\n  float theta = vTexCoord.y * PI;\n  float x = sin(theta) * cos(phi);\n  float y = sin(theta) * sin(phi);\n  float z = cos(theta);\n  vec3 normal = vec3( x, y, z);\n\n\t// Discretely sampling the hemisphere given the integral's\n  // spherical coordinates translates to the following fragment code:\n\tvec3 irradiance = vec3(0.0);  \n\tvec3 up\t= vec3(0.0, 1.0, 0.0);\n\tvec3 right = normalize(cross(up, normal));\n\tup = normalize(cross(normal, right));\n\n\t//  We specify a fixed sampleDelta delta value to traverse\n  // the hemisphere; decreasing or increasing the sample delta\n  // will increase or decrease the accuracy respectively.\n\tconst float sampleDelta = 0.100;\n\tfloat nrSamples = 0.0;\n  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;\n\tfor(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)\n\t{\n    float phi = rawPhi + randomOffset;\n    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)\n    {\n      float theta = rawTheta + randomOffset;\n      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance\n      float x = sin(theta) * cos(phi);\n      float y = sin(theta) * sin(phi);\n      float z = cos(theta);\n      vec3 tangentSample = vec3( x, y, z);\n      \n      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;\n        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);\n      nrSamples++;\n    }\n\t}\n\t// divide by the total number of samples taken, giving us the average sampled irradiance.\n\tirradiance = PI * irradiance * (1.0 / float(nrSamples )) ;\n  \n \n\tgl_FragColor = vec4(irradiance, 1.0);\n}",imageLightSpecularFrag:"precision highp float;\r\nvarying vec3 localPos;\r\nvarying vec2 vTexCoord;\r\n\r\n// our texture\r\nuniform sampler2D environmentMap;\r\nuniform float roughness;\r\n\r\nconst float PI = 3.14159265359;\r\n\r\nfloat VanDerCorput(int bits);\r\nvec2 HammersleyNoBitOps(int i, int N);\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r\n\r\n\r\nvec2 nTOE( vec3 v ){\r\n  // x = r sin(phi) cos(theta)   \r\n  // y = r cos(phi)  \r\n  // z = r sin(phi) sin(theta)\r\n  float phi = acos( v.y );\r\n  // if phi is 0, then there are no x, z components\r\n  float theta = 0.0;\r\n  // else \r\n  theta = acos(v.x / sin(phi));\r\n  float sinTheta = v.z / sin(phi);\r\n  if (sinTheta < 0.0) {\r\n    // Turn it into -theta, but in the 0-2PI range\r\n    theta = 2.0 * PI - theta;\r\n  }\r\n  theta = theta / (2.0 * 3.14159);\r\n  phi = phi / 3.14159 ;\r\n  \r\n  vec2 angles = vec2( phi, theta );\r\n  return angles;\r\n}\r\n\r\n\r\nvoid main(){\r\n  const int SAMPLE_COUNT = 400; // 4096\r\n  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r\n  float totalWeight = 0.0;\r\n  vec3 prefilteredColor = vec3(0.0);\r\n  float phi = vTexCoord.x * 2.0 * PI;\r\n  float theta = vTexCoord.y * PI;\r\n  float x = sin(theta) * cos(phi);\r\n  float y = sin(theta) * sin(phi);\r\n  float z = cos(theta);\r\n  vec3 N = vec3(x,y,z);\r\n  vec3 V = N;\r\n  for (int i = 0; i < SAMPLE_COUNT; ++i)\r\n  {\r\n    // break at smaller sample numbers for low roughness levels\r\n    if(i == lowRoughnessLimit)\r\n    {\r\n      break;\r\n    }\r\n    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r\n    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r\n    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r\n\r\n    float NdotL = max(dot(N, L), 0.0);\r\n    if (NdotL > 0.0)\r\n    {\r\n      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r\n      totalWeight += NdotL;\r\n    }\r\n  }\r\n  prefilteredColor = prefilteredColor / totalWeight;\r\n\r\n  gl_FragColor = vec4(prefilteredColor, 1.0);\r\n}\r\n\r\nvec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r\n  float a = roughness * roughness;\r\n\r\n  float phi = 2.0 * PI * Xi.x;\r\n  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r\n  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r\n  // from spherical coordinates to cartesian coordinates\r\n  vec3 H;\r\n  H.x = cos(phi) * sinTheta;\r\n  H.y = sin(phi) * sinTheta;\r\n  H.z = cosTheta;\r\n\r\n  // from tangent-space vector to world-space sample vector\r\n  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r\n  vec3 tangent = normalize(cross(up, N));\r\n  vec3 bitangent = cross(N, tangent);\r\n\r\n  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r\n  return normalize(sampleVec);\r\n}\r\n\r\n\r\nfloat VanDerCorput(int n, int base)\r\n{\r\n#ifdef WEBGL2\r\n\r\n    uint bits = uint(n);\r\n    bits = (bits << 16u) | (bits >> 16u);\r\n    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r\n    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r\n    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r\n    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r\n    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r\n\r\n#else\r\n\r\n  float invBase = 1.0 / float(base);\r\n  float denom = 1.0;\r\n  float result = 0.0;\r\n\r\n\r\n  for (int i = 0; i < 32; ++i)\r\n  {\r\n        if (n > 0)\r\n        {\r\n        denom = mod(float(n), 2.0);\r\n        result += denom * invBase;\r\n        invBase = invBase / 2.0;\r\n        n = int(float(n) / 2.0);\r\n        }\r\n  }\r\n\r\n\r\n  return result;\r\n\r\n#endif\r\n}\r\n\r\nvec2 HammersleyNoBitOps(int i, int N)\r\n{\r\n  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r\n}\r\n"}),rt=tt.sphereMappingFrag;for(Ke in tt)tt[Ke]="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n"+tt[Ke];_(xe={},Ee.GRAY,"precision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 tex = texture2D(tex0, vTexCoord);\n  float gray = luma(tex.rgb);\n  gl_FragColor = vec4(gray, gray, gray, tex.a);\n}\n"),_(xe,Ee.ERODE,"// Reduces the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the darkest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum < lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),_(xe,Ee.DILATE,"// Increase the bright areas in an image\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform vec2 texelSize;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  // weights 77, 151, 28 taken from src/image/filters.js\n  return dot(color, vec3(0.300781, 0.589844, 0.109375));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float lum = luma(color.rgb);\n\n  // set current color as the brightest neighbor color\n\n  vec4 neighbors[4];\n  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));\n  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));\n  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));\n  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));\n\n  for (int i = 0; i < 4; i++) {\n    vec4 neighborColor = neighbors[i];\n    float neighborLum = luma(neighborColor.rgb);\n\n    if (neighborLum > lum) {\n      color = neighborColor;\n      lum = neighborLum;\n    }\n  }\n\n  gl_FragColor = color;\n}\n"),_(xe,Ee.BLUR,"precision highp float;\n\n// Two-pass blur filter, unweighted kernel.\n// See also a similar blur at Adam Ferriss' repo of shader examples:\n// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag\n\n\nuniform sampler2D tex0;\nvarying vec2 vTexCoord;\nuniform vec2 direction;\nuniform vec2 canvasSize;\nuniform float radius;\n\nfloat random(vec2 p) {\n  vec3 p3  = fract(vec3(p.xyx) * .1031);\n  p3 += dot(p3, p3.yzx + 33.33);\n  return fract((p3.x + p3.y) * p3.z);\n}\n\n// This isn't a real Gaussian weight, it's a quadratic weight. It's what the\n// CPU mode's blur uses though, so we also use it here to match.\nfloat quadWeight(float x, float e) {\n  return pow(e-abs(x), 2.);\n}\n\nvoid main(){\n  vec2 uv = vTexCoord;\n\n  // A reasonable maximum number of samples\n  const float maxSamples = 64.0;\n\n  float numSamples = floor(7. * radius);\n  if (fract(numSamples / 2.) == 0.) {\n    numSamples++;\n  }\n  vec4 avg = vec4(0.0);\n  float total = 0.0;\n\n  // Calculate the spacing to avoid skewing if numSamples > maxSamples\n  float spacing = 1.0;\n  if (numSamples > maxSamples) {\n    spacing = numSamples / maxSamples;\n    numSamples = maxSamples;\n  }\n\n  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));\n  for (float i = 0.0; i < maxSamples; i++) {\n    if (i >= numSamples) break;\n\n    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;\n    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;\n    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);\n\n    avg += weight * texture2D(tex0, sampleCoord);\n    total += weight;\n  }\n\n  avg /= total;\n  gl_FragColor = avg;\n}\n"),_(xe,Ee.POSTERIZE,"// Limit color space for a stylized cartoon / poster effect\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nvec3 quantize(vec3 color, float n) {\n  // restrict values to N options/bins\n  // and floor each channel to nearest value\n  //\n  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0\n  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)\n\n  color = color * n;\n  color = floor(color);\n  color = color / (n - 1.0);\n  return color;\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n\n  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);\n\n  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);\n}\n"),_(xe,Ee.OPAQUE,"// Set alpha channel to entirely opaque\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  gl_FragColor = vec4(color.rgb / color.a, 1.0);\n}\n"),_(xe,Ee.INVERT,"// Set each pixel to inverse value\n// Note that original INVERT does not change the opacity, so this follows suit\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\n\nvoid main() {\nvec4 color = texture2D(tex0, vTexCoord);\nvec3 origColor = color.rgb / color.a;\nvec3 invertedColor = vec3(1.0) - origColor;\ngl_FragColor = vec4(invertedColor * color.a, color.a);\n}\n"),_(xe,Ee.THRESHOLD,"// Convert pixels to either white or black, \n// depending on if their luma is above or below filterParameter\n\nprecision highp float;\n\nvarying vec2 vTexCoord;\n\nuniform sampler2D tex0;\nuniform float filterParameter;\n\nfloat luma(vec3 color) {\n  // weighted grayscale with luminance values\n  return dot(color, vec3(0.2126, 0.7152, 0.0722));\n}\n\nvoid main() {\n  vec4 color = texture2D(tex0, vTexCoord);\n  float gray = luma(color.rgb / color.a);\n  // floor() used to match src/image/filters.js\n  float threshold = floor(filterParameter * 255.0) / 255.0;\n  float blackOrWhite = step(threshold, gray);\n  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);\n}\n");var ot=xe;function C(je,xe,we,Se,Te,Ee,Ye,Ze,Qe,Ke){var Je=xe.getParameter(xe.FRAMEBUFFER_BINDING),$e=(we=(xe.bindFramebuffer(xe.FRAMEBUFFER,we),Ze===xe.RGBA?4:3),Ee*Ye*we),et=Qe===xe.UNSIGNED_BYTE?Uint8Array:Float32Array;if(je instanceof et&&je.length===$e||(je=new et($e)),xe.readPixels(Se,Ke?Ke-Te-Ye:Te,Ee,Ye,Ze,Qe,je),xe.bindFramebuffer(xe.FRAMEBUFFER,Je),Ke)for(var tt=Math.floor(Ye/2),rt=new et(Ee*we),ot=0;ot<tt;ot++){var nt=ot*Ee*4,st=(Ye-ot-1)*Ee*4;rt.set(je.subarray(nt,nt+4*Ee)),je.copyWithin(nt,st,st+4*Ee),je.set(rt,st)}return je}function O(je,xe,we,Se,Te,Ee,Ye){var Ze=je.getParameter(je.FRAMEBUFFER_BINDING);xe=(je.bindFramebuffer(je.FRAMEBUFFER,xe),Te===je.RGBA?4:3),xe=new(Ee===je.UNSIGNED_BYTE?Uint8Array:Float32Array)(xe);return je.readPixels(we,Ye?Ye-Se-1:Se,1,1,Te,Ee,xe),je.bindFramebuffer(je.FRAMEBUFFER,Ze),Array.from(xe)}Te.default.prototype.setAttributes=function(xe,we){if(void 0===(this||je)._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Se=!0;if(void 0!==we?(null===(this||je)._glAttributes&&((this||je)._glAttributes={}),(this||je)._glAttributes[xe]!==we&&((this||je)._glAttributes[xe]=we,Se=!1)):xe instanceof Object&&(this||je)._glAttributes!==xe&&((this||je)._glAttributes=xe,Se=!1),(this||je)._renderer.isP3D&&!Se){if(!(this||je)._setupDone)for(var Ee in(this||je)._renderer.retainedMode.geometry)if((this||je)._renderer.retainedMode.geometry.hasOwnProperty(Ee))return void Te.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),(this||je)._renderer._resetContext(),this.pop(),(this||je)._renderer._curCamera&&((this||je)._renderer._curCamera._renderer=(this||je)._renderer)}}},Te.default.RendererGL=function(xe){var we=s;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&m(we,xe);var Se,Ke=y(s);function s(xe,we,Se,Ye){if((this||je)instanceof s)return(xe=Ke.call(this||je,xe,we,Se))._setAttributeDefaults(we),xe._initContext(),xe.isP3D=!0,xe.geometryBuilder=void 0,xe.GL=xe.drawingContext,xe._pInst._setProperty("drawingContext",xe.drawingContext),xe._isErasing=!1,xe._clipDepths=[],xe._isClipApplied=!1,xe._stencilTestOn=!1,xe._enableLighting=!1,xe.ambientLightColors=[],xe.mixedAmbientLight=[],xe.mixedSpecularColor=[],xe.specularColors=[1,1,1],xe.directionalLightDirections=[],xe.directionalLightDiffuseColors=[],xe.directionalLightSpecularColors=[],xe.pointLightPositions=[],xe.pointLightDiffuseColors=[],xe.pointLightSpecularColors=[],xe.spotLightPositions=[],xe.spotLightDirections=[],xe.spotLightDiffuseColors=[],xe.spotLightSpecularColors=[],xe.spotLightAngle=[],xe.spotLightConc=[],xe.activeImageLight=null,xe.diffusedTextures=new Map,xe.specularTextures=new Map,xe.drawMode=Ee.FILL,xe.curFillColor=xe._cachedFillStyle=[1,1,1,1],xe.curAmbientColor=xe._cachedFillStyle=[1,1,1,1],xe.curSpecularColor=xe._cachedFillStyle=[0,0,0,0],xe.curEmissiveColor=xe._cachedFillStyle=[0,0,0,0],xe.curStrokeColor=xe._cachedStrokeStyle=[0,0,0,1],xe.curBlendMode=Ee.BLEND,xe.preEraseBlend=void 0,xe._cachedBlendMode=void 0,xe.webglVersion===Ee.WEBGL2?xe.blendExt=xe.GL:xe.blendExt=xe.GL.getExtension("EXT_blend_minmax"),xe._isBlending=!1,xe._hasSetAmbient=!1,xe._useSpecularMaterial=!1,xe._useEmissiveMaterial=!1,xe._useNormalMaterial=!1,xe._useShininess=1,xe._useMetalness=0,xe._useLineColor=!1,xe._useVertexColor=!1,xe.registerEnabled=new Set,xe._tint=[255,255,255,255],xe.constantAttenuation=1,xe.linearAttenuation=0,xe.quadraticAttenuation=0,xe.uMVMatrix=new Te.default.Matrix,xe.uPMatrix=new Te.default.Matrix,xe.uNMatrix=new Te.default.Matrix("mat3"),xe.curMatrix=new Te.default.Matrix("mat3"),xe._currentNormal=new Te.default.Vector(0,0,1),xe._curCamera=new Te.default.Camera(v(xe)),xe._curCamera._computeCameraDefaultSettings(),xe._curCamera._setDefaultCamera(),xe.filterCamera=new Te.default.Camera(v(xe)),xe.filterCamera._computeCameraDefaultSettings(),xe.filterCamera._setDefaultCamera(),xe.prevTouches=[],xe.zoomVelocity=0,xe.rotateVelocity=new Te.default.Vector(0,0),xe.moveVelocity=new Te.default.Vector(0,0),xe.executeZoom=!1,xe.executeRotateAndMove=!1,xe.specularShader=void 0,xe.sphereMapping=void 0,xe.diffusedShader=void 0,xe._defaultLightShader=void 0,xe._defaultImmediateModeShader=void 0,xe._defaultNormalShader=void 0,xe._defaultColorShader=void 0,xe._defaultPointShader=void 0,xe.userFillShader=void 0,xe.userStrokeShader=void 0,xe.userPointShader=void 0,xe.retainedMode={geometry:{},buffers:{stroke:[new Te.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(xe)),new Te.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(xe))],fill:[new Te.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(xe),xe._vToNArray),new Te.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(xe),xe._vToNArray),new Te.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(xe)),new Te.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(xe),xe._flatten)],text:[new Te.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(xe),xe._vToNArray),new Te.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(xe),xe._flatten)]}},xe.immediateMode={geometry:new Te.default.Geometry,shapeMode:Ee.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new Te.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",v(xe),xe._vToNArray),new Te.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",v(xe),xe._vToNArray),new Te.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",v(xe)),new Te.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",v(xe),xe._flatten)],stroke:[new Te.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",v(xe)),new Te.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",v(xe)),new Te.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",v(xe)),new Te.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",v(xe))],point:xe.GL.createBuffer()}},xe.pointSize=5,xe.curStrokeWeight=1,xe.curStrokeCap=Ee.ROUND,xe.curStrokeJoin=Ee.ROUND,xe.textures=new Map,xe.framebuffers=new Set,xe.activeFramebuffers=[],xe.filterShader=void 0,xe.filterLayer=void 0,xe.filterLayerTemp=void 0,xe.defaultFilterShaders={},xe.textureMode=Ee.IMAGE,xe.textureWrapX=Ee.CLAMP,xe.textureWrapY=Ee.CLAMP,xe._tex=null,xe._curveTightness=6,xe._lookUpTableBezier=[],xe._lookUpTableQuadratic=[],xe._lutBezierDetail=0,xe._lutQuadraticDetail=0,xe.isProcessingVertices=!1,xe._tessy=xe._initTessy(),xe.fontInfos={},xe._curShader=void 0,xe;throw new TypeError("Cannot call a class as a function")}return we=s,(xe=[{key:"beginGeometry",value:function(){if((this||je).geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");(this||je).geometryBuilder=new Ye.default(this||je)}},{key:"endGeometry",value:function(){var xe;if((this||je).geometryBuilder)return xe=(this||je).geometryBuilder.finish(),(this||je).geometryBuilder=void 0,xe;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(je){return this.beginGeometry(),je(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(je){var xe={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===je._glAttributes?je._glAttributes=xe:je._glAttributes=Object.assign(xe,je._glAttributes)}},{key:"_initContext",value:function(){if(1!==(this||je)._pInst._glAttributes.version&&((this||je).drawingContext=(this||je).canvas.getContext("webgl2",(this||je)._pInst._glAttributes)),(this||je).webglVersion=(this||je).drawingContext?Ee.WEBGL2:Ee.WEBGL,(this||je)._pInst._setProperty("webglVersion",(this||je).webglVersion),(this||je).drawingContext||((this||je).drawingContext=(this||je).canvas.getContext("webgl",(this||je)._pInst._glAttributes)||(this||je).canvas.getContext("experimental-webgl",(this||je)._pInst._glAttributes)),null===(this||je).drawingContext)throw new Error("Error creating webgl context");var xe=(this||je).drawingContext;xe.enable(xe.DEPTH_TEST),xe.depthFunc(xe.LEQUAL),xe.viewport(0,0,xe.drawingBufferWidth,xe.drawingBufferHeight),xe.pixelStorei(xe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),(this||je)._viewport=(this||je).drawingContext.getParameter((this||je).drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(xe,we){var Se,Ee=(this||je).width,Ye=(this||je).height,Ze=(this||je).canvas.id,Qe=(this||je)._pInst instanceof Te.default.Graphics;Ze=(Qe?((Se=(this||je)._pInst).canvas.parentNode.removeChild(Se.canvas),Se.canvas=document.createElement("canvas"),(Se._pInst._userNode||document.body).appendChild(Se.canvas),Te.default.Element.call(Se,Se.canvas,Se._pInst),Se.width=Ee,Se.height=Ye):((Se=(this||je).canvas)&&Se.parentNode.removeChild(Se),(Se=document.createElement("canvas")).id=Ze,((this||je)._pInst._userNode||document.body).appendChild(Se),(this||je)._pInst.canvas=Se,(this||je).canvas=Se),new Te.default.RendererGL((this||je)._pInst.canvas,(this||je)._pInst,!Qe));(this||je)._pInst._setProperty("_renderer",Ze),Ze.resize(Ee,Ye),Ze._applyDefaults(),Qe||(this||je)._pInst._elements.push(Ze),"function"==typeof we&&setTimeout((function(){we.apply(window._renderer,xe)}),0)}},{key:"_update",value:function(){(this||je).uMVMatrix.set((this||je)._curCamera.cameraMatrix),(this||je).ambientLightColors.length=0,(this||je).specularColors=[1,1,1],(this||je).directionalLightDirections.length=0,(this||je).directionalLightDiffuseColors.length=0,(this||je).directionalLightSpecularColors.length=0,(this||je).pointLightPositions.length=0,(this||je).pointLightDiffuseColors.length=0,(this||je).pointLightSpecularColors.length=0,(this||je).spotLightPositions.length=0,(this||je).spotLightDirections.length=0,(this||je).spotLightDiffuseColors.length=0,(this||je).spotLightSpecularColors.length=0,(this||je).spotLightAngle.length=0,(this||je).spotLightConc.length=0,(this||je)._enableLighting=!1,(this||je)._tint=[255,255,255,255],(this||je).GL.clearStencil(0),(this||je).GL.clear((this||je).GL.DEPTH_BUFFER_BIT|(this||je).GL.STENCIL_BUFFER_BIT),(this||je).GL.disable((this||je).GL.STENCIL_TEST)}},{key:"background",value:function(){var xe=(xe=(this||je)._pInst).color.apply(xe,arguments),we=xe.levels[0]/255,Se=xe.levels[1]/255,Te=xe.levels[2]/255;xe=xe.levels[3]/255;this.clear(we,Se,Te,xe)}},{key:"fill",value:function(xe,we,Se,Ye){var Ze=Te.default.prototype.color.apply((this||je)._pInst,arguments);(this||je).curFillColor=Ze._array,(this||je).drawMode=Ee.FILL,(this||je)._useNormalMaterial=!1,(this||je)._tex=null}},{key:"stroke",value:function(xe,we,Se,Ee){var Ye=Te.default.prototype.color.apply((this||je)._pInst,arguments);(this||je).curStrokeColor=Ye._array}},{key:"strokeCap",value:function(xe){(this||je).curStrokeCap=xe}},{key:"strokeJoin",value:function(xe){(this||je).curStrokeJoin=xe}},{key:"getFilterLayer",value:function(){return(this||je).filterLayer||((this||je).filterLayer=(this||je)._pInst.createFramebuffer()),(this||je).filterLayer}},{key:"getFilterLayerTemp",value:function(){return(this||je).filterLayerTemp||((this||je).filterLayerTemp=(this||je)._pInst.createFramebuffer()),(this||je).filterLayerTemp}},{key:"matchSize",value:function(je,xe){je.width===xe.width&&je.height===xe.height||je.resize(xe.width,xe.height),je.pixelDensity()!==xe.pixelDensity()&&je.pixelDensity(xe.pixelDensity())}},{key:"filter",value:function(){var xe,we,Se=this||je,Ye=this.getFilterLayer(),Ze=void 0,Qe=void 0,Ke=("string"==typeof(arguments.length<=0?void 0:arguments[0])?(Qe=arguments.length<=0?void 0:arguments[0],_(xe={},Ee.BLUR,3),_(xe,Ee.POSTERIZE,4),_(xe,Ee.THRESHOLD,.5),Ze=Qe in xe&&void 0===(arguments.length<=1?void 0:arguments[1])?xe[Qe]:arguments.length<=1?void 0:arguments[1],Qe in(this||je).defaultFilterShaders||((this||je).defaultFilterShaders[Qe]=new Te.default.Shader(Ye._renderer,"uniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nattribute vec3 aPosition;\n// texcoords only come from p5 to vertex shader\n// so pass texcoords on to the fragment shader in a varying variable\nattribute vec2 aTexCoord;\nvarying vec2 vTexCoord;\n\nvoid main() {\n  // transferring texcoords for the frag shader\n  vTexCoord = aTexCoord;\n\n  // copy position with a fourth coordinate for projection (1.0 is normal)\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n}\n",ot[Qe])),(this||je).filterShader=(this||je).defaultFilterShaders[Qe]):(this||je).filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this||je),Je=(this.matchSize(Ye,Ke),Ye.draw((function(){return Se._pInst.clear()})),[1/(Ke.width*Ke.pixelDensity()),1/(Ke.height*Ke.pixelDensity())]);Qe===Ee.BLUR?(we=this.getFilterLayerTemp(),this.matchSize(we,Ke),(this||je)._pInst.push(),(this||je)._pInst.noStroke(),(this||je)._pInst.blendMode(Ee.BLEND),(this||je)._pInst.shader((this||je).filterShader),(this||je).filterShader.setUniform("texelSize",Je),(this||je).filterShader.setUniform("canvasSize",[Ke.width,Ke.height]),(this||je).filterShader.setUniform("radius",Math.max(1,Ze)),we.draw((function(){Se.filterShader.setUniform("direction",[1,0]),Se.filterShader.setUniform("tex0",Ke),Se._pInst.clear(),Se._pInst.shader(Se.filterShader),Se._pInst.noLights(),Se._pInst.plane(Ke.width,Ke.height)})),Ye.draw((function(){Se.filterShader.setUniform("direction",[0,1]),Se.filterShader.setUniform("tex0",we),Se._pInst.clear(),Se._pInst.shader(Se.filterShader),Se._pInst.noLights(),Se._pInst.plane(Ke.width,Ke.height)})),(this||je)._pInst.pop()):Ye.draw((function(){Se._pInst.noStroke(),Se._pInst.blendMode(Ee.BLEND),Se._pInst.shader(Se.filterShader),Se.filterShader.setUniform("tex0",Ke),Se.filterShader.setUniform("texelSize",Je),Se.filterShader.setUniform("canvasSize",[Ke.width,Ke.height]),Se.filterShader.setUniform("filterParameter",Ze),Se._pInst.noLights(),Se._pInst.plane(Ke.width,Ke.height)})),(this||je)._pInst.push(),(this||je)._pInst.noStroke(),this.clear(),(this||je)._pInst.push(),(this||je)._pInst.imageMode(Ee.CORNER),(this||je)._pInst.blendMode(Ee.BLEND),Ke.filterCamera._resize(),(this||je)._pInst.setCamera(Ke.filterCamera),(this||je)._pInst.resetMatrix(),(this||je)._pInst.image(Ye,-Ke.width/2,-Ke.height/2,Ke.width,Ke.height),(this||je)._pInst.clearDepth(),(this||je)._pInst.pop(),(this||je)._pInst.pop()}},{key:"pixelDensity",value:function(xe){return xe?(this||je)._pInst.pixelDensity(xe):(this||je)._pInst.pixelDensity()}},{key:"blendMode",value:function(xe){xe===Ee.DARKEST||xe===Ee.LIGHTEST||xe===Ee.ADD||xe===Ee.BLEND||xe===Ee.SUBTRACT||xe===Ee.SCREEN||xe===Ee.EXCLUSION||xe===Ee.REPLACE||xe===Ee.MULTIPLY||xe===Ee.REMOVE?(this||je).curBlendMode=xe:xe!==Ee.BURN&&xe!==Ee.OVERLAY&&xe!==Ee.HARD_LIGHT&&xe!==Ee.SOFT_LIGHT&&xe!==Ee.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(xe,we){(this||je)._isErasing||((this||je).preEraseBlend=(this||je).curBlendMode,(this||je)._isErasing=!0,this.blendMode(Ee.REMOVE),(this||je)._cachedFillStyle=(this||je).curFillColor.slice(),(this||je).curFillColor=[1,1,1,xe/255],(this||je)._cachedStrokeStyle=(this||je).curStrokeColor.slice(),(this||je).curStrokeColor=[1,1,1,we/255])}},{key:"noErase",value:function(){(this||je)._isErasing&&((this||je).curFillColor=(this||je)._cachedFillStyle.slice(),(this||je).curStrokeColor=(this||je)._cachedStrokeStyle.slice(),(this||je).curBlendMode=(this||je).preEraseBlend,this.blendMode((this||je).preEraseBlend),(this||je)._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return(this||je).activeFramebuffers[(this||je).activeFramebuffers.length-1]||this||je}},{key:"beginClip",value:function(){var xe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};xe=(p(b(s.prototype),"beginClip",this||je).call(this||je,xe),this.drawTarget()._isClipApplied=!0,(this||je).GL);xe.clearStencil(0),xe.clear(xe.STENCIL_BUFFER_BIT),xe.enable(xe.STENCIL_TEST),(this||je)._stencilTestOn=!0,xe.stencilFunc(xe.ALWAYS,1,255),xe.stencilOp(xe.KEEP,xe.KEEP,xe.REPLACE),xe.disable(xe.DEPTH_TEST),(this||je)._pInst.push(),(this||je)._pInst.resetShader(),(this||je)._doFill&&(this||je)._pInst.fill(0,0),(this||je)._doStroke&&(this||je)._pInst.stroke(0,0)}},{key:"endClip",value:function(){(this||je)._pInst.pop();var xe=(this||je).GL;xe.stencilOp(xe.KEEP,xe.KEEP,xe.KEEP),xe.stencilFunc((this||je)._clipInvert?xe.EQUAL:xe.NOTEQUAL,0,255),xe.enable(xe.DEPTH_TEST),(this||je)._clipDepths.push((this||je)._pushPopDepth),p(b(s.prototype),"endClip",this||je).call(this||je)}},{key:"_clearClip",value:function(){(this||je).GL.clearStencil(1),(this||je).GL.clear((this||je).GL.STENCIL_BUFFER_BIT),0<(this||je)._clipDepths.length&&(this||je)._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(xe){(this||je).curStrokeWeight!==xe&&((this||je).pointSize=xe,(this||je).curStrokeWeight=xe)}},{key:"_getPixel",value:function(xe,we){var Se=(this||je).GL;return O(Se,null,xe,we,Se.RGBA,Se.UNSIGNED_BYTE,(this||je)._pInst.height*(this||je)._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var xe,we,Se=(this||je)._pixelsState;!0!==(this||je)._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(xe=(this||je)._pInst._pixelDensity,we=(this||je).GL,Se._setProperty("pixels",C(Se.pixels,we,null,0,0,(this||je).width*xe,(this||je).height*xe,we.RGBA,we.UNSIGNED_BYTE,(this||je).height*xe)))}},{key:"updatePixels",value:function(){var xe=this._getTempFramebuffer();xe.pixels=(this||je)._pixelsState.pixels,xe.updatePixels(),(this||je)._pInst.push(),(this||je)._pInst.resetMatrix(),(this||je)._pInst.clear(),(this||je)._pInst.imageMode(Ee.CENTER),(this||je)._pInst.image(xe,0,0),(this||je)._pInst.pop(),(this||je).GL.clearDepth(1),(this||je).GL.clear((this||je).GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return(this||je)._tempFramebuffer||((this||je)._tempFramebuffer=(this||je)._pInst.createFramebuffer({format:Ee.UNSIGNED_BYTE,useDepth:(this||je)._pInst._glAttributes.depth,depthFormat:Ee.UNSIGNED_INT,antialias:(this||je)._pInst._glAttributes.antialias})),(this||je)._tempFramebuffer}},{key:"geometryInHash",value:function(xe){return void 0!==(this||je).retainedMode.geometry[xe]}},{key:"viewport",value:function(xe,we){(this||je)._viewport=[0,0,xe,we],(this||je).GL.viewport(0,0,xe,we)}},{key:"resize",value:function(xe,we){Te.default.Renderer.prototype.resize.call(this||je,xe,we),(this||je)._origViewport={width:(this||je).GL.drawingBufferWidth,height:(this||je).GL.drawingBufferHeight},this.viewport((this||je)._origViewport.width,(this||je)._origViewport.height),(this||je)._curCamera._resize();xe=(this||je)._pixelsState;var Se=(void 0!==xe.pixels&&xe._setProperty("pixels",new Uint8Array((this||je).GL.drawingBufferWidth*(this||je).GL.drawingBufferHeight*4)),!0);we=!1,xe=void 0;try{for(var Ee,Ye=(this||je).framebuffers[Symbol.iterator]();!(Se=(Ee=Ye.next()).done);Se=!0)Ee.value._canvasSizeChanged()}catch(Se){we=!0,xe=Se}finally{try{Se||null==Ye.return||Ye.return()}finally{if(we)throw xe}}}},{key:"clear",value:function(){var xe=(arguments.length<=0?void 0:arguments[0])||0,we=(arguments.length<=1?void 0:arguments[1])||0,Se=(arguments.length<=2?void 0:arguments[2])||0,Te=(arguments.length<=3?void 0:arguments[3])||0,Ye=this.activeFramebuffer();Ye&&Ye.format===Ee.UNSIGNED_BYTE&&!Ye.antialias&&0===Te&&(Te=1e-10),(this||je).GL.clearColor(xe*Te,we*Te,Se*Te,Te),(this||je).GL.clearDepth(1),(this||je).GL.clear((this||je).GL.COLOR_BUFFER_BIT|(this||je).GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){(this||je).GL.clearDepth(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1),(this||je).GL.clear((this||je).GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(xe,we,Se,Ee,Ye,Ze){16===arguments.length?Te.default.Matrix.prototype.apply.apply((this||je).uMVMatrix,arguments):(this||je).uMVMatrix.apply([xe,we,0,0,Se,Ee,0,0,0,0,1,0,Ye,Ze,0,1])}},{key:"translate",value:function(xe,we,Se){return xe instanceof Te.default.Vector&&(Se=xe.z,we=xe.y,xe=xe.x),(this||je).uMVMatrix.translate([xe,we,Se]),this||je}},{key:"scale",value:function(xe,we,Se){return(this||je).uMVMatrix.scale(xe,we,Se),this||je}},{key:"rotate",value:function(xe,we){return void 0===we?this.rotateZ(xe):(Te.default.Matrix.prototype.rotate.apply((this||je).uMVMatrix,arguments),this||je)}},{key:"rotateX",value:function(xe){return this.rotate(xe,1,0,0),this||je}},{key:"rotateY",value:function(xe){return this.rotate(xe,0,1,0),this||je}},{key:"rotateZ",value:function(xe){return this.rotate(xe,0,0,1),this||je}},{key:"push",value:function(){var xe=Te.default.Renderer.prototype.push.apply(this||je),we=xe.properties;return we.uMVMatrix=(this||je).uMVMatrix.copy(),we.uPMatrix=(this||je).uPMatrix.copy(),we._curCamera=(this||je)._curCamera,(this||je)._curCamera=(this||je)._curCamera.copy(),we.ambientLightColors=(this||je).ambientLightColors.slice(),we.specularColors=(this||je).specularColors.slice(),we.directionalLightDirections=(this||je).directionalLightDirections.slice(),we.directionalLightDiffuseColors=(this||je).directionalLightDiffuseColors.slice(),we.directionalLightSpecularColors=(this||je).directionalLightSpecularColors.slice(),we.pointLightPositions=(this||je).pointLightPositions.slice(),we.pointLightDiffuseColors=(this||je).pointLightDiffuseColors.slice(),we.pointLightSpecularColors=(this||je).pointLightSpecularColors.slice(),we.spotLightPositions=(this||je).spotLightPositions.slice(),we.spotLightDirections=(this||je).spotLightDirections.slice(),we.spotLightDiffuseColors=(this||je).spotLightDiffuseColors.slice(),we.spotLightSpecularColors=(this||je).spotLightSpecularColors.slice(),we.spotLightAngle=(this||je).spotLightAngle.slice(),we.spotLightConc=(this||je).spotLightConc.slice(),we.userFillShader=(this||je).userFillShader,we.userStrokeShader=(this||je).userStrokeShader,we.userPointShader=(this||je).userPointShader,we.pointSize=(this||je).pointSize,we.curStrokeWeight=(this||je).curStrokeWeight,we.curStrokeColor=(this||je).curStrokeColor,we.curFillColor=(this||je).curFillColor,we.curAmbientColor=(this||je).curAmbientColor,we.curSpecularColor=(this||je).curSpecularColor,we.curEmissiveColor=(this||je).curEmissiveColor,we._hasSetAmbient=(this||je)._hasSetAmbient,we._useSpecularMaterial=(this||je)._useSpecularMaterial,we._useEmissiveMaterial=(this||je)._useEmissiveMaterial,we._useShininess=(this||je)._useShininess,we._useMetalness=(this||je)._useMetalness,we.constantAttenuation=(this||je).constantAttenuation,we.linearAttenuation=(this||je).linearAttenuation,we.quadraticAttenuation=(this||je).quadraticAttenuation,we._enableLighting=(this||je)._enableLighting,we._useNormalMaterial=(this||je)._useNormalMaterial,we._tex=(this||je)._tex,we.drawMode=(this||je).drawMode,we._currentNormal=(this||je)._currentNormal,we.curBlendMode=(this||je).curBlendMode,we.activeImageLight=(this||je).activeImageLight,xe}},{key:"pop",value:function(){var xe;0<(this||je)._clipDepths.length&&(this||je)._pushPopDepth===(this||je)._clipDepths[(this||je)._clipDepths.length-1]&&this._clearClip();for(var we=arguments.length,Se=new Array(we),Te=0;Te<we;Te++)Se[Te]=arguments[Te];(xe=p(b(s.prototype),"pop",this||je)).call.apply(xe,[this||je].concat(Se)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var xe=this.drawTarget();xe._isClipApplied!==(this||je)._stencilTestOn&&(xe._isClipApplied?((this||je).GL.enable((this||je).GL.STENCIL_TEST),(this||je)._stencilTestOn=!0):((this||je).GL.disable((this||je).GL.STENCIL_TEST),(this||je)._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return(this||je).uMVMatrix.set((this||je)._curCamera.cameraMatrix),this||je}},{key:"_getImmediateStrokeShader",value:function(){var xe=(this||je).userStrokeShader;return xe&&xe.isStrokeShader()?xe:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(xe){return(this||je).sphereMapping||((this||je).sphereMapping=(this||je)._pInst.createFilterShader(rt)),(this||je).uNMatrix.inverseTranspose((this||je).uMVMatrix),(this||je).uNMatrix.invert3x3((this||je).uNMatrix),(this||je).sphereMapping.setUniform("uFovY",(this||je)._curCamera.cameraFOV),(this||je).sphereMapping.setUniform("uAspect",(this||je)._curCamera.aspectRatio),(this||je).sphereMapping.setUniform("uNewNormalMatrix",(this||je).uNMatrix.mat3),(this||je).sphereMapping.setUniform("uSampler",xe),(this||je).sphereMapping}},{key:"_getImmediateFillShader",value:function(){var xe=(this||je).userFillShader;if((this||je)._useNormalMaterial&&(!xe||!xe.isNormalShader()))return this._getNormalShader();if((this||je)._enableLighting){if(!xe||!xe.isLightShader())return this._getLightShader()}else if((this||je)._tex){if(!xe||!xe.isTextureShader())return this._getLightShader()}else if(!xe)return this._getImmediateModeShader();return xe}},{key:"_getRetainedFillShader",value:function(){if((this||je)._useNormalMaterial)return this._getNormalShader();var xe=(this||je).userFillShader;if((this||je)._enableLighting){if(!xe||!xe.isLightShader())return this._getLightShader()}else if((this||je)._tex){if(!xe||!xe.isTextureShader())return this._getLightShader()}else if(!xe)return this._getColorShader();return xe}},{key:"_getImmediatePointShader",value:function(){var xe=(this||je).userPointShader;return xe&&xe.isPointShader()?xe:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return(this||je)._defaultLightShader||((this||je)._pInst._glAttributes.perPixelLighting?(this||je)._defaultLightShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","highp")+tt.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+tt.phongFrag):(this||je)._defaultLightShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","highp")+tt.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+tt.lightTextureFrag)),(this||je)._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return(this||je)._defaultImmediateModeShader||((this||je)._defaultImmediateModeShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","mediump")+tt.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.vertexColorFrag)),(this||je)._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return(this||je)._defaultNormalShader||((this||je)._defaultNormalShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","mediump")+tt.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.normalFrag)),(this||je)._defaultNormalShader}},{key:"_getColorShader",value:function(){return(this||je)._defaultColorShader||((this||je)._defaultColorShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","mediump")+tt.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.basicFrag)),(this||je)._defaultColorShader}},{key:"_getPointShader",value:function(){return(this||je)._defaultPointShader||((this||je)._defaultPointShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","mediump")+tt.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.pointFrag)),(this||je)._defaultPointShader}},{key:"_getLineShader",value:function(){return(this||je)._defaultLineShader||((this||je)._defaultLineShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","mediump")+tt.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.lineFrag)),(this||je)._defaultLineShader}},{key:"_getFontShader",value:function(){return(this||je)._defaultFontShader||((this||je).webglVersion===Ee.WEBGL&&(this||je).GL.getExtension("OES_standard_derivatives"),(this||je)._defaultFontShader=new Te.default.Shader(this||je,this._webGL2CompatibilityPrefix("vert","mediump")+tt.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+tt.fontFrag)),(this||je)._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(xe,we){var Se="";return(this||je).webglVersion===Ee.WEBGL2&&(Se+="#version 300 es\n#define WEBGL2\n"),"vert"===xe?Se+="#define VERTEX_SHADER\n":"frag"===xe&&(Se+="#define FRAGMENT_SHADER\n"),we&&(Se+="precision ".concat(we," float;\n")),Se}},{key:"_getEmptyTexture",value:function(){var xe;return(this||je)._emptyTexture||((xe=new Te.default.Image(1,1)).set(0,0,255),(this||je)._emptyTexture=new Te.default.Texture(this||je,xe)),(this||je)._emptyTexture}},{key:"getTexture",value:function(xe){xe instanceof Te.default.Framebuffer&&(xe=xe.color);var we=(this||je).textures.get(xe);return we||(we=new Te.default.Texture(this||je,xe),(this||je).textures.set(xe,we),we)}},{key:"getDiffusedTexture",value:function(xe){var we,Se,Te=this||je;return null!=(this||je).diffusedTextures.get(xe)?(this||je).diffusedTextures.get(xe):(0,we=Math.floor(xe.height/xe.width*200),Se=(this||je)._pInst.createFramebuffer({width:200,height:we,density:1}),(this||je).diffusedShader||((this||je).diffusedShader=(this||je)._pInst.createShader(tt.imageLightVert,tt.imageLightDiffusedFrag)),Se.draw((function(){Te._pInst.shader(Te.diffusedShader),Te.diffusedShader.setUniform("environmentMap",xe),Te._pInst.noStroke(),Te._pInst.rectMode(Ee.CENTER),Te._pInst.noLights(),Te._pInst.rect(0,0,200,we)})),(this||je).diffusedTextures.set(xe,Se),Se)}},{key:"getSpecularTexture",value:function(xe){var we=this||je;if(null!=(this||je).specularTextures.get(xe))return(this||je).specularTextures.get(xe);for(var Se,Te=[],Ee=(this||je)._pInst.createFramebuffer({width:512,height:512,density:1}),Ye=Math.log(512)/Math.log(2),Ze=((this||je).specularShader||((this||je).specularShader=(this||je)._pInst.createShader(tt.imageLightVert,tt.imageLightSpecularFrag)),512);1<=Ze;Ze/=2)!function(je){Ee.resize(je,je);var Se=1-Math.log(je)/Math.log(2)/Ye;Ee.draw((function(){we._pInst.shader(we.specularShader),we._pInst.clear(),we.specularShader.setUniform("environmentMap",xe),we.specularShader.setUniform("roughness",Se),we._pInst.noStroke(),we._pInst.noLights(),we._pInst.plane(je,je)})),Te.push(Ee.get().drawingContext.getImageData(0,0,je,je))}(Ze);return Ee.remove(),Se=new Qe.MipmapTexture(this||je,Te,{}),(this||je).specularTextures.set(xe,Se),Se}},{key:"activeFramebuffer",value:function(){return(this||je).activeFramebuffers[(this||je).activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(xe){return new Te.default.Framebuffer(this||je,xe)}},{key:"_setStrokeUniforms",value:function(xe){xe.bindShader(),xe.setUniform("uUseLineColor",(this||je)._useLineColor),xe.setUniform("uMaterialColor",(this||je).curStrokeColor),xe.setUniform("uStrokeWeight",(this||je).curStrokeWeight),xe.setUniform("uStrokeCap",Je[(this||je).curStrokeCap]),xe.setUniform("uStrokeJoin",$e[(this||je).curStrokeJoin])}},{key:"_setFillUniforms",value:function(xe){var we=this||je,Se=(xe.bindShader(),(this||je).mixedSpecularColor=h((this||je).curSpecularColor),0<(this||je)._useMetalness&&((this||je).mixedSpecularColor=(this||je).mixedSpecularColor.map((function(je,xe){return we.curFillColor[xe]*we._useMetalness+je*(1-we._useMetalness)}))),xe.setUniform("uUseVertexColor",(this||je)._useVertexColor),xe.setUniform("uMaterialColor",(this||je).curFillColor),xe.setUniform("isTexture",!!(this||je)._tex),(this||je)._tex&&xe.setUniform("uSampler",(this||je)._tex),xe.setUniform("uTint",(this||je)._tint),xe.setUniform("uHasSetAmbient",(this||je)._hasSetAmbient),xe.setUniform("uAmbientMatColor",(this||je).curAmbientColor),xe.setUniform("uSpecularMatColor",(this||je).mixedSpecularColor),xe.setUniform("uEmissiveMatColor",(this||je).curEmissiveColor),xe.setUniform("uSpecular",(this||je)._useSpecularMaterial),xe.setUniform("uEmissive",(this||je)._useEmissiveMaterial),xe.setUniform("uShininess",(this||je)._useShininess),xe.setUniform("metallic",(this||je)._useMetalness),this._setImageLightUniforms(xe),xe.setUniform("uUseLighting",(this||je)._enableLighting),(this||je).pointLightDiffuseColors.length/3);Se=(xe.setUniform("uPointLightCount",Se),xe.setUniform("uPointLightLocation",(this||je).pointLightPositions),xe.setUniform("uPointLightDiffuseColors",(this||je).pointLightDiffuseColors),xe.setUniform("uPointLightSpecularColors",(this||je).pointLightSpecularColors),(this||je).directionalLightDiffuseColors.length/3),Se=(xe.setUniform("uDirectionalLightCount",Se),xe.setUniform("uLightingDirection",(this||je).directionalLightDirections),xe.setUniform("uDirectionalDiffuseColors",(this||je).directionalLightDiffuseColors),xe.setUniform("uDirectionalSpecularColors",(this||je).directionalLightSpecularColors),(this||je).ambientLightColors.length/3),Se=((this||je).mixedAmbientLight=h((this||je).ambientLightColors),0<(this||je)._useMetalness&&((this||je).mixedAmbientLight=(this||je).mixedAmbientLight.map((function(je){je-=we._useMetalness;return Math.max(0,je)}))),xe.setUniform("uAmbientLightCount",Se),xe.setUniform("uAmbientColor",(this||je).mixedAmbientLight),(this||je).spotLightDiffuseColors.length/3);xe.setUniform("uSpotLightCount",Se),xe.setUniform("uSpotLightAngle",(this||je).spotLightAngle),xe.setUniform("uSpotLightConc",(this||je).spotLightConc),xe.setUniform("uSpotLightDiffuseColors",(this||je).spotLightDiffuseColors),xe.setUniform("uSpotLightSpecularColors",(this||je).spotLightSpecularColors),xe.setUniform("uSpotLightLocation",(this||je).spotLightPositions),xe.setUniform("uSpotLightDirection",(this||je).spotLightDirections),xe.setUniform("uConstantAttenuation",(this||je).constantAttenuation),xe.setUniform("uLinearAttenuation",(this||je).linearAttenuation),xe.setUniform("uQuadraticAttenuation",(this||je).quadraticAttenuation),xe.bindTextures()}},{key:"_setImageLightUniforms",value:function(xe){var we,Se;xe.setUniform("uUseImageLight",null!=(this||je).activeImageLight),(this||je).activeImageLight&&(we=this.getDiffusedTexture((this||je).activeImageLight),xe.setUniform("environmentMapDiffused",we),we=this.getSpecularTexture((this||je).activeImageLight),Se=20/(this||je)._useShininess,xe.setUniform("levelOfDetail",8*Se),xe.setUniform("environmentMapSpecular",we))}},{key:"_setPointUniforms",value:function(xe){xe.bindShader(),xe.setUniform("uMaterialColor",(this||je).curStrokeColor),xe.setUniform("uPointSize",(this||je).pointSize*(this||je)._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(xe,we,Se,Ee,Ye){we=we||(this||je).GL.ARRAY_BUFFER,(this||je).GL.bindBuffer(we,xe),void 0!==Se&&((xe=Se)instanceof Te.default.DataArray?xe=Se.dataArray():xe instanceof(Ee||Float32Array)||(xe=new(Ee||Float32Array)(xe)),(this||je).GL.bufferData(we,xe,Ye||(this||je).GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(je,xe){return je.length===xe.length&&je.every((function(je,we){return je===xe[we]}))}},{key:"_isTypedArray",value:function(je){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some((function(xe){return je instanceof xe}))}},{key:"_flatten",value:function(je){return je.flat()}},{key:"_vToNArray",value:function(je){return je.flatMap((function(je){return[je.x,je.y,je.z]}))}},{key:"_bezierCoefficients",value:function(je){var xe=je*je,we=1-je,Se=we*we;return[Se*we,3*Se*je,3*we*xe,xe*je]}},{key:"_quadraticCoefficients",value:function(je){var xe=1-je;return[xe*xe,2*xe*je,je*je]}},{key:"_bezierToCatmull",value:function(xe){return[xe[1],xe[1]+(xe[2]-xe[0])/(this||je)._curveTightness,xe[2]-(xe[3]-xe[1])/(this||je)._curveTightness,xe[2]]}},{key:"_initTessy",value:function(){var je=new Ze.default.GluTesselator;return je.gluTessCallback(Ze.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(je,xe){var we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=je[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0){var Ze=Ee.value;xe.push(Ze)}}catch(je){Se=!0,Te=je}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}})),je.gluTessCallback(Ze.default.gluEnum.GLU_TESS_BEGIN,(function(je){je!==Ze.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(je))})),je.gluTessCallback(Ze.default.gluEnum.GLU_TESS_ERROR,(function(je){console.log("error callback"),console.log("error number: ".concat(je))})),je.gluTessCallback(Ze.default.gluEnum.GLU_TESS_COMBINE,(function(je,xe,we){for(var Se=new Array(Te.default.RendererGL.prototype.tessyVertexSize).fill(0),Ee=0;Ee<we.length;Ee++)for(var Ye=0;Ye<Se.length;Ye++)0!==we[Ee]&&xe[Ee]&&(Se[Ye]+=xe[Ee][Ye]*we[Ee]);return Se})),je.gluTessCallback(Ze.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(je){})),je.gluTessProperty(Ze.default.gluEnum.GLU_TESS_WINDING_RULE,Ze.default.windingRule.GLU_TESS_WINDING_NONZERO),je}},{key:"_triangulate",value:function(xe){var we=xe[0]?xe[0][2]:void 0,Se=!0,Ee=!0,Ye=!1,Ze=void 0;try{for(var Qe,Ke=xe[Symbol.iterator]();!(Ee=(Qe=Ke.next()).done);Ee=!0)for(var Je=Qe.value,$e=0;$e<Je.length;$e+=Te.default.RendererGL.prototype.tessyVertexSize)if(Je[$e+2]!==we){Se=!1;break}}catch(xe){Ye=!0,Ze=xe}finally{try{Ee||null==Ke.return||Ke.return()}finally{if(Ye)throw Ze}}Se?(this||je)._tessy.gluTessNormal(0,0,1):(this||je)._tessy.gluTessNormal(0,0,0);Ye=[];var et=((this||je)._tessy.gluTessBeginPolygon(Ye),!0),tt=(Ze=!1,void 0);try{for(var rt,ot=xe[Symbol.iterator]();!(et=(rt=ot.next()).done);et=!0){var nt=rt.value;(this||je)._tessy.gluTessBeginContour();for(var st=0;st<nt.length;st+=Te.default.RendererGL.prototype.tessyVertexSize){var it=nt.slice(st,st+Te.default.RendererGL.prototype.tessyVertexSize);(this||je)._tessy.gluTessVertex(it,it)}(this||je)._tessy.gluTessEndContour()}}catch(xe){Ze=!0,tt=xe}finally{try{et||null==ot.return||ot.return()}finally{if(Ze)throw tt}}return(this||je)._tessy.gluTessEndPolygon(),Ye}}])&&f(we.prototype,xe),Se&&f(we,Se),s}(Te.default.Renderer),Te.default.prototype._assert3d=function(xe){if(!(this||je)._renderer.isP3D)throw new Error("".concat(xe,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},Te.default.RendererGL.prototype.tessyVertexSize=12;xe=Te.default.RendererGL;Se.default=xe},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(xe,we,Se){xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.index-of"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.array.slice"),xe("core-js/modules/es.array.some"),xe("core-js/modules/es.function.name"),xe("core-js/modules/es.object.keys"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.default=void 0;var Te=(xe=xe("../core/main"))&&xe.__esModule?xe:{default:xe};function n(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}Te.default.Shader=function(){function o(xe,we,Se){if(!((this||je)instanceof o))throw new TypeError("Cannot call a class as a function");(this||je)._renderer=xe,(this||je)._vertSrc=we,(this||je)._fragSrc=Se,(this||je)._vertShader=-1,(this||je)._fragShader=-1,(this||je)._glProgram=0,(this||je)._loadedAttributes=!1,(this||je).attributes={},(this||je)._loadedUniforms=!1,(this||je).uniforms={},(this||je)._bound=!1,(this||je).samplers=[]}var xe,we,Se;return xe=o,(we=[{key:"init",value:function(){if(0===(this||je)._glProgram){var xe=(this||je)._renderer.GL;if((this||je)._vertShader=xe.createShader(xe.VERTEX_SHADER),xe.shaderSource((this||je)._vertShader,(this||je)._vertSrc),xe.compileShader((this||je)._vertShader),!xe.getShaderParameter((this||je)._vertShader,xe.COMPILE_STATUS))return Te.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(xe.getShaderInfoLog((this||je)._vertShader))),null;if((this||je)._fragShader=xe.createShader(xe.FRAGMENT_SHADER),xe.shaderSource((this||je)._fragShader,(this||je)._fragSrc),xe.compileShader((this||je)._fragShader),!xe.getShaderParameter((this||je)._fragShader,xe.COMPILE_STATUS))return Te.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(xe.getShaderInfoLog((this||je)._fragShader))),null;(this||je)._glProgram=xe.createProgram(),xe.attachShader((this||je)._glProgram,(this||je)._vertShader),xe.attachShader((this||je)._glProgram,(this||je)._fragShader),xe.linkProgram((this||je)._glProgram),xe.getProgramParameter((this||je)._glProgram,xe.LINK_STATUS)||Te.default._friendlyError("Snap! Error linking shader program: ".concat(xe.getProgramInfoLog((this||je)._glProgram))),this._loadAttributes(),this._loadUniforms()}return this||je}},{key:"copyToContext",value:function(xe){var we=new Te.default.Shader(xe._renderer,(this||je)._vertSrc,(this||je)._fragSrc);return we.ensureCompiledOnContext(xe),we}},{key:"ensureCompiledOnContext",value:function(xe){if(0!==(this||je)._glProgram&&(this||je)._renderer!==xe._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");0===(this||je)._glProgram&&((this||je)._renderer=xe._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!(this||je)._loadedAttributes){(this||je).attributes={};for(var xe=(this||je)._renderer.GL,we=xe.getProgramParameter((this||je)._glProgram,xe.ACTIVE_ATTRIBUTES),Se=0;Se<we;++Se){var Te=xe.getActiveAttrib((this||je)._glProgram,Se),Ee=Te.name,Ye=xe.getAttribLocation((this||je)._glProgram,Ee),Ze={};Ze.name=Ee,Ze.location=Ye,Ze.index=Se,Ze.type=Te.type,Ze.size=Te.size,(this||je).attributes[Ee]=Ze}(this||je)._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!(this||je)._loadedUniforms){for(var xe=(this||je)._renderer.GL,we=xe.getProgramParameter((this||je)._glProgram,xe.ACTIVE_UNIFORMS),Se=0,Te=0;Te<we;++Te){var Ee=xe.getActiveUniform((this||je)._glProgram,Te),Ye={},Ze=(Ye.location=xe.getUniformLocation((this||je)._glProgram,Ee.name),Ye.size=Ee.size,Ee.name);1<Ee.size&&(Ze=Ze.substring(0,Ze.indexOf("[0]"))),Ye.name=Ze,Ye.type=Ee.type,Ye._cachedData=void 0,Ye.type===xe.SAMPLER_2D&&(Ye.samplerIndex=Se,Se++,(this||je).samplers.push(Ye)),Ye.isArray=1<Ee.size||Ye.type===xe.FLOAT_MAT3||Ye.type===xe.FLOAT_MAT4||Ye.type===xe.FLOAT_VEC2||Ye.type===xe.FLOAT_VEC3||Ye.type===xe.FLOAT_VEC4||Ye.type===xe.INT_VEC2||Ye.type===xe.INT_VEC4||Ye.type===xe.INT_VEC3,(this||je).uniforms[Ze]=Ye}(this||je)._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),(this||je)._bound||(this.useProgram(),(this||je)._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",(this||je)._renderer._viewport))}},{key:"unbindShader",value:function(){return(this||je)._bound&&(this.unbindTextures(),(this||je)._bound=!1),this||je}},{key:"bindTextures",value:function(){var xe=(this||je)._renderer.GL,we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=(this||je).samplers[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0){var Ze=Ee.value,Qe=Ze.texture;void 0===Qe&&(Qe=(this||je)._renderer._getEmptyTexture()),xe.activeTexture(xe.TEXTURE0+Ze.samplerIndex),Qe.bindTexture(),Qe.update(),xe.uniform1i(Ze.location,Ze.samplerIndex)}}catch(xe){Se=!0,Te=xe}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}}},{key:"updateTextures",value:function(){var xe=!0,we=!1,Se=void 0;try{for(var Te,Ee=(this||je).samplers[Symbol.iterator]();!(xe=(Te=Ee.next()).done);xe=!0){var Ye=Te.value.texture;Ye&&Ye.update()}}catch(xe){we=!0,Se=xe}finally{try{xe||null==Ee.return||Ee.return()}finally{if(we)throw Se}}}},{key:"unbindTextures",value:function(){var xe=!0,we=!1,Se=void 0;try{for(var Te,Ee=(this||je).samplers[Symbol.iterator]();!(xe=(Te=Ee.next()).done);xe=!0){var Ye=Te.value;this.setUniform(Ye.name,(this||je)._renderer._getEmptyTexture())}}catch(xe){we=!0,Se=xe}finally{try{xe||null==Ee.return||Ee.return()}finally{if(we)throw Se}}}},{key:"_setMatrixUniforms",value:function(){var xe=(this||je)._renderer._curCamera.cameraMatrix,we=(this||je)._renderer.uPMatrix,Se=(this||je)._renderer.uMVMatrix,Te=Se.copy();Te.mult(we),this.isStrokeShader()&&("default"===(this||je)._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",xe.mat4),this.setUniform("uProjectionMatrix",we.mat4),this.setUniform("uModelViewMatrix",Se.mat4),this.setUniform("uModelViewProjectionMatrix",Te.mat4),(this||je).uniforms.uNormalMatrix&&((this||je)._renderer.uNMatrix.inverseTranspose((this||je)._renderer.uMVMatrix),this.setUniform("uNormalMatrix",(this||je)._renderer.uNMatrix.mat3)),(this||je).uniforms.uCameraRotation&&((this||je)._renderer.curMatrix.inverseTranspose((this||je)._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",(this||je)._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var xe=(this||je)._renderer.GL;return(this||je)._renderer._curShader!==(this||je)&&(xe.useProgram((this||je)._glProgram),(this||je)._renderer._curShader=this||je),this||je}},{key:"setUniform",value:function(xe,we){var Se=(this||je).uniforms[xe];if(Se){var Ee=(this||je)._renderer.GL;if(Se.isArray){if(Se._cachedData&&(this||je)._renderer._arraysEqual(Se._cachedData,we))return;Se._cachedData=we.slice(0)}else{if(Se._cachedData&&Se._cachedData===we)return;Array.isArray(we)?Se._cachedData=we.slice(0):Se._cachedData=we}var Ye=Se.location;switch(this.useProgram(),Se.type){case Ee.BOOL:!0===we?Ee.uniform1i(Ye,1):Ee.uniform1i(Ye,0);break;case Ee.INT:1<Se.size?we.length&&Ee.uniform1iv(Ye,we):Ee.uniform1i(Ye,we);break;case Ee.FLOAT:1<Se.size?we.length&&Ee.uniform1fv(Ye,we):Ee.uniform1f(Ye,we);break;case Ee.FLOAT_MAT3:Ee.uniformMatrix3fv(Ye,!1,we);break;case Ee.FLOAT_MAT4:Ee.uniformMatrix4fv(Ye,!1,we);break;case Ee.FLOAT_VEC2:1<Se.size?we.length&&Ee.uniform2fv(Ye,we):Ee.uniform2f(Ye,we[0],we[1]);break;case Ee.FLOAT_VEC3:1<Se.size?we.length&&Ee.uniform3fv(Ye,we):Ee.uniform3f(Ye,we[0],we[1],we[2]);break;case Ee.FLOAT_VEC4:1<Se.size?we.length&&Ee.uniform4fv(Ye,we):Ee.uniform4f(Ye,we[0],we[1],we[2],we[3]);break;case Ee.INT_VEC2:1<Se.size?we.length&&Ee.uniform2iv(Ye,we):Ee.uniform2i(Ye,we[0],we[1]);break;case Ee.INT_VEC3:1<Se.size?we.length&&Ee.uniform3iv(Ye,we):Ee.uniform3i(Ye,we[0],we[1],we[2]);break;case Ee.INT_VEC4:1<Se.size?we.length&&Ee.uniform4iv(Ye,we):Ee.uniform4i(Ye,we[0],we[1],we[2],we[3]);break;case Ee.SAMPLER_2D:Ee.activeTexture(Ee.TEXTURE0+Se.samplerIndex),Se.texture=we instanceof Te.default.Texture?we:(this||je)._renderer.getTexture(we),Ee.uniform1i(Ye,Se.samplerIndex),Se.texture.src.gifProperties&&Se.texture.src._animateGif((this||je)._renderer._pInst)}return this||je}}},{key:"isLightShader",value:function(){return[(this||je).attributes.aNormal,(this||je).uniforms.uUseLighting,(this||je).uniforms.uAmbientLightCount,(this||je).uniforms.uDirectionalLightCount,(this||je).uniforms.uPointLightCount,(this||je).uniforms.uAmbientColor,(this||je).uniforms.uDirectionalDiffuseColors,(this||je).uniforms.uDirectionalSpecularColors,(this||je).uniforms.uPointLightLocation,(this||je).uniforms.uPointLightDiffuseColors,(this||je).uniforms.uPointLightSpecularColors,(this||je).uniforms.uLightingDirection,(this||je).uniforms.uSpecular].some((function(je){return void 0!==je}))}},{key:"isNormalShader",value:function(){return void 0!==(this||je).attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<(this||je).samplers.length}},{key:"isColorShader",value:function(){return void 0!==(this||je).attributes.aVertexColor||void 0!==(this||je).uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==(this||je).uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(xe,we,Se,Te,Ee,Ye){var Ze;return xe&&-1!==(xe=xe.location)&&(Ze=(this||je)._renderer.GL,(this||je)._renderer.registerEnabled.has(xe)||(Ze.enableVertexAttribArray(xe),(this||je)._renderer.registerEnabled.add(xe)),(this||je)._renderer.GL.vertexAttribPointer(xe,we,Se||Ze.FLOAT,Te||!1,Ee||0,Ye||0)),this||je}},{key:"disableRemainingAttributes",value:function(){var xe=this||je,we=!0,Se=!1,Te=void 0;try{for(var Ee,Ye=(this||je)._renderer.registerEnabled.values()[Symbol.iterator]();!(we=(Ee=Ye.next()).done);we=!0)!function(){var je=Ee.value;Object.keys(xe.attributes).some((function(we){return xe.attributes[we].location===je}))||(xe._renderer.GL.disableVertexAttribArray(je),xe._renderer.registerEnabled.delete(je))}()}catch(we){Se=!0,Te=we}finally{try{we||null==Ye.return||Ye.return()}finally{if(Se)throw Te}}}}])&&n(xe.prototype,we),Se&&n(xe,Se),o}();xe=Te.default.Shader;Se.default=xe},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.get-prototype-of"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.reflect.construct"),xe("core-js/modules/es.regexp.to-string"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.typed-array.uint8-array"),xe("core-js/modules/es.typed-array.copy-within"),xe("core-js/modules/es.typed-array.every"),xe("core-js/modules/es.typed-array.fill"),xe("core-js/modules/es.typed-array.filter"),xe("core-js/modules/es.typed-array.find"),xe("core-js/modules/es.typed-array.find-index"),xe("core-js/modules/es.typed-array.for-each"),xe("core-js/modules/es.typed-array.includes"),xe("core-js/modules/es.typed-array.index-of"),xe("core-js/modules/es.typed-array.iterator"),xe("core-js/modules/es.typed-array.join"),xe("core-js/modules/es.typed-array.last-index-of"),xe("core-js/modules/es.typed-array.map"),xe("core-js/modules/es.typed-array.reduce"),xe("core-js/modules/es.typed-array.reduce-right"),xe("core-js/modules/es.typed-array.reverse"),xe("core-js/modules/es.typed-array.set"),xe("core-js/modules/es.typed-array.slice"),xe("core-js/modules/es.typed-array.some"),xe("core-js/modules/es.typed-array.sort"),xe("core-js/modules/es.typed-array.subarray"),xe("core-js/modules/es.typed-array.to-locale-string"),xe("core-js/modules/es.typed-array.to-string"),Object.defineProperty(Se,"__esModule",{value:!0}),Se.checkWebGLCapabilities=m,Se.default=Se.MipmapTexture=void 0;var Te=(Ye=xe("../core/main"))&&Ye.__esModule?Ye:{default:Ye},Ee=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=l();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function l(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,l=function(){return je},je)}function u(je,xe){return(u=Object.setPrototypeOf||function(je,xe){return je.__proto__=xe,je})(je,xe)}function c(xe){return function(){var we,Se=n(xe);Se=(we=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(je){}}}()?(we=n(this||je).constructor,Reflect.construct(Se,arguments,we)):Se.apply(this||je,arguments),this||je);if(!we||"object"!==i(we)&&"function"!=typeof we){if(void 0!==Se)return Se;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return we}}function n(je){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(je)}function d(je,xe){if(!(je instanceof xe))throw new TypeError("Cannot call a class as a function")}function h(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function f(je,xe,we){xe&&h(je.prototype,xe),we&&h(je,we)}Te.default.Texture=function(){function n(xe,we,Se){d(this||je,n),(this||je)._renderer=xe;var Ee=(this||je)._renderer.GL;Se=(Se=Se||{},(this||je).src=we,(this||je).glTex=void 0,(this||je).glTarget=Ee.TEXTURE_2D,(this||je).glFormat=Se.format||Ee.RGBA,(this||je).mipmaps=!1,(this||je).glMinFilter=Se.minFilter||Ee.LINEAR,(this||je).glMagFilter=Se.magFilter||Ee.LINEAR,(this||je).glWrapS=Se.wrapS||Ee.CLAMP_TO_EDGE,(this||je).glWrapT=Se.wrapT||Ee.CLAMP_TO_EDGE,(this||je).glDataType=Se.dataType||Ee.UNSIGNED_BYTE,m(xe)),xe=((this||je).glFormat!==Ee.HALF_FLOAT||Se.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),(this||je).glDataType=Ee.FLOAT),(this||je).glFormat!==Ee.HALF_FLOAT||(this||je).glMinFilter!==Ee.LINEAR&&(this||je).glMagFilter!==Ee.LINEAR||Se.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),(this||je).glMinFilter===Ee.LINEAR&&((this||je).glMinFilter=Ee.NEAREST),(this||je).glMagFilter===Ee.LINEAR&&((this||je).glMagFilter=Ee.NEAREST)),(this||je).glFormat!==Ee.FLOAT||Se.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),(this||je).glDataType=Ee.UNSIGNED_BYTE),(this||je).glFormat!==Ee.FLOAT||(this||je).glMinFilter!==Ee.LINEAR&&(this||je).glMagFilter!==Ee.LINEAR||Se.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),(this||je).glMinFilter===Ee.LINEAR&&((this||je).glMinFilter=Ee.NEAREST),(this||je).glMagFilter===Ee.LINEAR&&((this||je).glMagFilter=Ee.NEAREST)),(this||je).isSrcMediaElement=void 0!==Te.default.MediaElement&&we instanceof Te.default.MediaElement,(this||je)._videoPrevUpdateTime=0,(this||je).isSrcHTMLElement=void 0!==Te.default.Element&&we instanceof Te.default.Element&&!(we instanceof Te.default.Graphics)&&!(we instanceof Te.default.Renderer),(this||je).isSrcP5Image=we instanceof Te.default.Image,(this||je).isSrcP5Graphics=we instanceof Te.default.Graphics,(this||je).isSrcP5Renderer=we instanceof Te.default.Renderer,(this||je).isImageData="undefined"!=typeof ImageData&&we instanceof ImageData,(this||je).isFramebufferTexture=we instanceof Te.default.FramebufferTexture,this._getTextureDataFromSource());return(this||je).width=xe.width,(this||je).height=xe.height,this.init(xe),this||je}return f(n,[{key:"_getTextureDataFromSource",value:function(){var xe;return(this||je).isFramebufferTexture?xe=(this||je).src.rawTexture():(this||je).isSrcP5Image?xe=(this||je).src.canvas:(this||je).isSrcMediaElement||(this||je).isSrcP5Graphics||(this||je).isSrcP5Renderer||(this||je).isSrcHTMLElement?xe=(this||je).src.elt:(this||je).isImageData&&(xe=(this||je).src),xe}},{key:"init",value:function(xe){var we,Se=(this||je)._renderer.GL;(this||je).isFramebufferTexture||((this||je).glTex=Se.createTexture()),(this||je).glWrapS=(this||je)._renderer.textureWrapX,(this||je).glWrapT=(this||je)._renderer.textureWrapY,this.setWrapMode((this||je).glWrapS,(this||je).glWrapT),this.bindTexture(),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MAG_FILTER,(this||je).glMagFilter),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MIN_FILTER,(this||je).glMinFilter),(this||je).isFramebufferTexture||(0===(this||je).width||0===(this||je).height||(this||je).isSrcMediaElement&&!(this||je).src.loadedmetadata?(we=new Uint8Array([1,1,1,1]),Se.texImage2D((this||je).glTarget,0,Se.RGBA,1,1,0,(this||je).glFormat,(this||je).glDataType,we)):Se.texImage2D((this||je).glTarget,0,(this||je).glFormat,(this||je).glFormat,(this||je).glDataType,xe))}},{key:"update",value:function(){var xe,we,Se,Te=(this||je).src;return 0!==Te.width&&0!==Te.height&&!(this||je).isFramebufferTexture&&(xe=this._getTextureDataFromSource(),we=!1,Se=(this||je)._renderer.GL,xe.width!==(this||je).width||xe.height!==(this||je).height?(we=!0,(this||je).width=xe.width||Te.width,(this||je).height=xe.height||Te.height,(this||je).isSrcP5Image?Te.setModified(!1):((this||je).isSrcMediaElement||(this||je).isSrcHTMLElement)&&Te.setModified(!0)):(this||je).isSrcP5Image?Te.isModified()&&Te.setModified(!(we=!0)):(this||je).isSrcMediaElement?Te.isModified()?Te.setModified(!(we=!0)):Te.loadedmetadata&&(this||je)._videoPrevUpdateTime!==Te.time()&&((this||je)._videoPrevUpdateTime=Te.time(),we=!0):(this||je).isImageData?Te._dirty&&(we=!(Te._dirty=!1)):we=!0,we&&(this.bindTexture(),Se.texImage2D((this||je).glTarget,0,(this||je).glFormat,(this||je).glFormat,(this||je).glDataType,xe)),we)}},{key:"bindTexture",value:function(){return(this||je)._renderer.GL.bindTexture((this||je).glTarget,this.getTexture()),this||je}},{key:"unbindTexture",value:function(){(this||je)._renderer.GL.bindTexture((this||je).glTarget,null)}},{key:"getTexture",value:function(){return(this||je).isFramebufferTexture?(this||je).src.rawTexture():(this||je).glTex}},{key:"setInterpolation",value:function(xe,we){var Se=(this||je)._renderer.GL;(this||je).glMinFilter=this.glFilter(xe),(this||je).glMagFilter=this.glFilter(we),this.bindTexture(),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MIN_FILTER,(this||je).glMinFilter),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_MAG_FILTER,(this||je).glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(xe){var we=(this||je)._renderer.GL;return xe===Ee.NEAREST?we.NEAREST:we.LINEAR}},{key:"setWrapMode",value:function(xe,we){function r(je){return 0==(je&je-1)}var Se=(this||je)._renderer.GL,Te=this._getTextureDataFromSource(),Ye=(Te=Te.naturalWidth&&Te.naturalHeight?(Ye=Te.naturalWidth,Te.naturalHeight):(Ye=(this||je).width,(this||je).height),r(Ye));Te=r(Te);xe===Ee.REPEAT?(this||je)._renderer.webglVersion===Ee.WEBGL2||Ye&&Te?(this||je).glWrapS=Se.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),(this||je).glWrapS=Se.CLAMP_TO_EDGE):xe===Ee.MIRROR?(this||je)._renderer.webglVersion===Ee.WEBGL2||Ye&&Te?(this||je).glWrapS=Se.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),(this||je).glWrapS=Se.CLAMP_TO_EDGE):(this||je).glWrapS=Se.CLAMP_TO_EDGE,we===Ee.REPEAT?(this||je)._renderer.webglVersion===Ee.WEBGL2||Ye&&Te?(this||je).glWrapT=Se.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),(this||je).glWrapT=Se.CLAMP_TO_EDGE):we===Ee.MIRROR?(this||je)._renderer.webglVersion===Ee.WEBGL2||Ye&&Te?(this||je).glWrapT=Se.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),(this||je).glWrapT=Se.CLAMP_TO_EDGE):(this||je).glWrapT=Se.CLAMP_TO_EDGE,this.bindTexture(),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_WRAP_S,(this||je).glWrapS),Se.texParameteri(Se.TEXTURE_2D,Se.TEXTURE_WRAP_T,(this||je).glWrapT),this.unbindTexture()}}]),n}();var Ye=function(xe){var we=n;if("function"!=typeof xe&&null!==xe)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),xe&&u(we,xe);var Se=c(n);function n(xe,we,Te){d(this||je,n);we=(xe=Se.call(this||je,xe,we,Te))._renderer.GL;return xe.glMinFilter===we.LINEAR&&(xe.glMinFilter=we.LINEAR_MIPMAP_LINEAR),xe}return f(n,[{key:"glFilter",value:function(xe){return(this||je)._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return(this||je).src}},{key:"init",value:function(xe){var we=(this||je)._renderer.GL;(this||je).glTex=we.createTexture(),this.bindTexture();for(var Se=0;Se<xe.length;Se++)we.texImage2D((this||je).glTarget,Se,(this||je).glFormat,(this||je).glFormat,(this||je).glDataType,xe[Se]);(this||je).glMinFilter=we.LINEAR_MIPMAP_LINEAR,we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MAG_FILTER,(this||je).glMagFilter),we.texParameteri(we.TEXTURE_2D,we.TEXTURE_MIN_FILTER,(this||je).glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),n}(Te.default.Texture);function m(je){var xe=je.GL,we=(je=je.webglVersion,je===Ee.WEBGL2?xe.getExtension("EXT_color_buffer_float")&&xe.getExtension("EXT_float_blend"):xe.getExtension("OES_texture_float")),Se=we&&xe.getExtension("OES_texture_float_linear");je=je===Ee.WEBGL2?xe.getExtension("EXT_color_buffer_float"):xe.getExtension("OES_texture_half_float");return{float:we,floatLinear:Se,halfFloat:je,halfFloatLinear:je&&xe.getExtension("OES_texture_half_float_linear")}}Se.MipmapTexture=Ye;xe=Te.default.Texture;Se.default=xe},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(xe,we,Se){function o(je){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(je)}function i(je){return(i="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(je){return o(je)}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":o(je)})(je)}xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.get-own-property-descriptor"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/es.weak-map"),xe("core-js/modules/web.dom-collections.iterator"),xe("core-js/modules/es.symbol"),xe("core-js/modules/es.symbol.description"),xe("core-js/modules/es.symbol.iterator"),xe("core-js/modules/es.array.iterator"),xe("core-js/modules/es.object.to-string"),xe("core-js/modules/es.regexp.exec"),xe("core-js/modules/es.string.iterator"),xe("core-js/modules/es.string.split"),xe("core-js/modules/es.string.sub"),xe("core-js/modules/web.dom-collections.iterator");var Te,Ee=(Te=xe("../core/main"))&&Te.__esModule?Te:{default:Te},Ye=function(je){if(je&&je.__esModule)return je;if(null===je||"object"!==i(je)&&"function"!=typeof je)return{default:je};var xe=a();if(xe&&xe.has(je))return xe.get(je);var we,Se={},Te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(we in je){var Ee;Object.prototype.hasOwnProperty.call(je,we)&&((Ee=Te?Object.getOwnPropertyDescriptor(je,we):null)&&(Ee.get||Ee.set)?Object.defineProperty(Se,we,Ee):Se[we]=je[we])}Se.default=je,xe&&xe.set(je,Se);return Se}(xe("../core/constants"));function a(){var je;return"function"!=typeof WeakMap?null:(je=new WeakMap,a=function(){return je},je)}function G(je,xe){if(!(je instanceof xe))throw new TypeError("Cannot call a class as a function")}function s(je,xe){for(var we=0;we<xe.length;we++){var Se=xe[we];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(je,Se.key,Se)}}function V(je,xe,we){xe&&s(je.prototype,xe),we&&s(je,we)}xe("./p5.Shader"),xe("./p5.RendererGL.Retained"),Ee.default.RendererGL.prototype._applyTextProperties=function(){},Ee.default.RendererGL.prototype.textWidth=function(xe){return this._isOpenType()?(this||je)._textFont._textWidth(xe,(this||je)._textSize):0};var Ze=function(){function r(xe,we){G(this||je,r),(this||je).width=xe,(this||je).height=we,(this||je).infos=[]}return V(r,[{key:"findImage",value:function(xe){var we,Se,Te=(this||je).width*(this||je).height;if(Te<xe)throw new Error("font is too complex to render in 3D");for(var Ee=(this||je).infos.length-1;0<=Ee;--Ee){var Ye=(this||je).infos[Ee];if(Ye.index+xe<Te){Se=(we=Ye).imageData;break}}if(!we){try{Se=new ImageData((this||je).width,(this||je).height)}catch(xe){var Ze=document.getElementsByTagName("canvas")[0],Qe=!Ze,Ke=(Ze||((Ze=document.createElement("canvas")).style.display="none",document.body.appendChild(Ze)),Ze.getContext("2d"));Ke&&(Se=Ke.createImageData((this||je).width,(this||je).height)),Qe&&document.body.removeChild(Ze)}(this||je).infos.push(we={index:0,imageData:Se})}Ke=we.index;return we.index+=xe,Se._dirty=!0,{imageData:Se,index:Ke}}}]),r}();function z(je,xe,we,Se,Te){var Ee=je.imageData.data;je=4*je.index++;Ee[je++]=xe,Ee[je++]=we,Ee[je++]=Se,Ee[+je]=Te}var Qe=Math.sqrt(3),Ke=function(){function t(xe){G(this||je,t),(this||je).font=xe,(this||je).strokeImageInfos=new Ze(64,64),(this||je).colDimImageInfos=new Ze(64,64),(this||je).rowDimImageInfos=new Ze(64,64),(this||je).colCellImageInfos=new Ze(64,64),(this||je).rowCellImageInfos=new Ze(64,64),(this||je).glyphInfos={}}return V(t,[{key:"getGlyphInfo",value:function(xe){var we=(this||je).glyphInfos[xe.index];if(!we){var Se=xe.getBoundingBox(),Te=Se.x1,Ye=Se.y1,Ze=Se.x2-Te,Ke=Se.y2-Ye,Je=xe.path.commands;if(0==Ze||0==Ke||!Je.length)return(this||je).glyphInfos[xe.index]={};for(var $e=[],et=[],tt=[],rt=8;0<=rt;--rt)tt.push([]);for(rt=8;0<=rt;--rt)et.push([]);var ot,nt,st,it,dt=function(){function n(xe,we,Se,Te){G(this||je,n),(this||je).p0=xe,(this||je).c0=we,(this||je).c1=Se,(this||je).p1=Te}return V(n,[{key:"toQuadratic",value:function(){return{x:(this||je).p0.x,y:(this||je).p0.y,x1:(this||je).p1.x,y1:(this||je).p1.y,cx:(3*((this||je).c0.x+(this||je).c1.x)-((this||je).p0.x+(this||je).p1.x))/4,cy:(3*((this||je).c0.y+(this||je).c1.y)-((this||je).p0.y+(this||je).p1.y))/4}}},{key:"quadError",value:function(){return Ee.default.Vector.sub(Ee.default.Vector.sub((this||je).p1,(this||je).p0),Ee.default.Vector.mult(Ee.default.Vector.sub((this||je).c1,(this||je).c0),3)).mag()/2}},{key:"split",value:function(xe){var we=Ee.default.Vector.lerp((this||je).p0,(this||je).c0,xe),Se=Ee.default.Vector.lerp((this||je).c0,(this||je).c1,xe),Te=Ee.default.Vector.lerp(we,Se,xe);Se=((this||je).c1=Ee.default.Vector.lerp((this||je).c1,(this||je).p1,xe),(this||je).c0=Ee.default.Vector.lerp(Se,(this||je).c1,xe),Ee.default.Vector.lerp(Te,(this||je).c0,xe)),xe=new n((this||je).p0,we,Te,Se);return(this||je).p0=Se,xe}},{key:"splitInflections",value:function(){var xe=Ee.default.Vector.sub((this||je).c0,(this||je).p0),we=Ee.default.Vector.sub(Ee.default.Vector.sub((this||je).c1,(this||je).c0),xe),Se=Ee.default.Vector.sub(Ee.default.Vector.sub(Ee.default.Vector.sub((this||je).p1,(this||je).c1),xe),Ee.default.Vector.mult(we,2)),Te=[],Ye=we.x*Se.y-we.y*Se.x;return 0!==Ye&&0<=(xe=(Se=xe.x*Se.y-xe.y*Se.x)*Se-4*Ye*(xe.x*we.y-xe.y*we.x))&&(Ye<0&&(Ye=-Ye,Se=-Se,0),xe=(-Se+(we=Math.sqrt(xe)))/(2*Ye),0<(Se=(-Se-we)/(2*Ye))&&Se<1&&(Te.push(this.split(Se)),xe=1-(1-xe)/(1-Se)),0<xe&&xe<1&&Te.push(this.split(xe))),Te.push(this||je),Te}}]),n}(),ht=!0,ft=!1,pt=void 0;try{for(var mt,yt=Je[Symbol.iterator]();!(ht=(mt=yt.next()).done);ht=!0){var gt=mt.value,wt=(gt.x-Te)/Ze,Dt=(gt.y-Ye)/Ke;if(!U(ot,nt,wt,Dt)){switch(gt.type){case"M":st=wt,it=Dt;break;case"L":I(ot,nt,wt,Dt);break;case"Q":var Xt=(gt.x1-Te)/Ze,Yt=(gt.y1-Ye)/Ke;L([ot,wt,Xt],[nt,Dt,Yt],{x:ot,y:nt,cx:Xt,cy:Yt});break;case"Z":U(ot,nt,st,it)?$e.push({x:ot,y:nt}):(I(ot,nt,st,it),$e.push({x:st,y:it}));break;case"C":for(var br=function(je,xe,we,Se,Te,Ye,Ze,Ke){je=new dt(new Ee.default.Vector(je,xe),new Ee.default.Vector(we,Se),new Ee.default.Vector(Te,Ye),new Ee.default.Vector(Ze,Ke)).splitInflections();var Je=[],$e=30/Qe,et=!0;xe=!1,we=void 0;try{for(var tt,rt=je[Symbol.iterator]();!(et=(tt=rt.next()).done);et=!0){for(var ot=tt.value,nt=[],st=void 0;!(.125<=(st=$e/ot.quadError()));){var it=Math.pow(st,1/3),ht=ot.split(it),ft=ot.split(1-it/(1-it));Je.push(ht),nt.push(ot),ot=ft}st<1&&Je.push(ot.split(.5)),Je.push(ot),Array.prototype.push.apply(Je,nt.reverse())}}catch(je){xe=!0,we=je}finally{try{et||null==rt.return||rt.return()}finally{if(xe)throw we}}return Je}(ot,nt,(gt.x1-Te)/Ze,(gt.y1-Ye)/Ke,(gt.x2-Te)/Ze,(gt.y2-Ye)/Ke,wt,Dt),_r=0;_r<br.length;_r++){var xr=br[_r].toQuadratic();L([xr.x,xr.x1,xr.cx],[xr.y,xr.y1,xr.cy],xr)}break;default:throw new Error("unknown command type: ".concat(gt.type))}ot=wt,nt=Dt}}}catch(xe){ft=!0,pt=xe}finally{try{ht||null==yt.return||yt.return()}finally{if(ft)throw pt}}for(var wr=$e.length,Sr=(this||je).strokeImageInfos.findImage(wr),Tr=Sr.index,Er=0;Er<wr;++Er){var Ar=$e[Er];z(Sr,R(Ar.x),R(Ar.y),R(Ar.cx),R(Ar.cy))}(we=(this||je).glyphInfos[xe.index]={glyph:xe,uGlyphRect:[Se.x1,-Se.y1,Se.x2,-Se.y2],strokeImageInfo:Sr,strokes:$e,colInfo:N(tt,(this||je).colDimImageInfos,(this||je).colCellImageInfos),rowInfo:N(et,(this||je).rowDimImageInfos,(this||je).rowCellImageInfos)}).uGridOffset=[we.colInfo.dimOffset,we.rowInfo.dimOffset]}return we;function L(je,xe,we){var Se=$e.length;function n(je,xe,we){for(var Se=je.length;0<Se--;){var Te=je[Se];Te<xe&&(xe=Te),we<Te&&(we=Te)}return{min:xe,max:we}}$e.push(we);we=n(je,1,0),je=Math.max(Math.floor(9*we.min-.5),0);for(var Te=Math.min(Math.ceil(9*we.max+.5),9),Ee=je;Ee<Te;++Ee)tt[Ee].push(Se);we=n(xe,1,0),je=Math.max(Math.floor(9*we.min-.5),0);for(var Ye=Math.min(Math.ceil(9*we.max+.5),9),Ze=je;Ze<Ye;++Ze)et[Ze].push(Se)}function R(je){return(je=(we=255)*je)<(xe=0)?xe:we<je?we:je;var xe,we}function I(je,xe,we,Se){L([je,we],[xe,Se],{x:je,y:xe,cx:(je+we)/2,cy:(xe+Se)/2})}function U(je,xe,we,Se){return Math.abs(we-je)<1e-5&&Math.abs(Se-xe)<1e-5}function N(je,xe,we){for(var Se=je.length,Te=xe.findImage(Se),Ee=(xe=Te.index,0),Ye=0;Ye<Se;++Ye)Ee+=je[Ye].length;for(var Ze=we.findImage(Ee),Qe=0;Qe<Se;++Qe){var Ke=je[Qe],Je=Ke.length,$e=Ze.index;z(Te,$e>>7,127&$e,Je>>7,127&Je);for(var et=0;et<Je;++et){var tt=Ke[et]+Tr;z(Ze,tt>>7,127&tt,0,0)}}return{cellImageInfo:Ze,dimOffset:xe,dimImageInfo:Te}}}}]),t}();Ee.default.RendererGL.prototype._renderText=function(xe,we,Se,Te,Ze){if((this||je)._textFont&&"string"!=typeof(this||je)._textFont){if(!(Ze<=Te)&&(this||je)._doFill){if(this._isOpenType()){xe.push();Ze=(this||je)._doStroke;var Qe=(this||je).drawMode,Je=((this||je)._doStroke=!1,(this||je).drawMode=Ye.TEXTURE,(this||je)._textFont.font),$e=($e=(this||je)._textFont._fontInfo)||((this||je)._textFont._fontInfo=new Ke(Je)),et=(Se=(this||je)._textFont._handleAlignment(this||je,we,Se,Te),Te=(this||je)._textSize/Je.unitsPerEm,this.translate(Se.x,Se.y,0),this.scale(Te,Te,1),(this||je).GL),tt=(Se=!(this||je)._defaultFontShader,this._getFontShader()),rt=(tt.init(),tt.bindShader(),Se&&(tt.setUniform("uGridImageSize",[64,64]),tt.setUniform("uCellsImageSize",[64,64]),tt.setUniform("uStrokeImageSize",[64,64]),tt.setUniform("uGridSize",[9,9])),this._applyColorBlend((this||je).curFillColor),(this||je).retainedMode.geometry.glyph),ot=(rt||((Te=(this||je)._textGeom=new Ee.default.Geometry(1,1,(function(){for(var xe=0;xe<=1;xe++)for(var we=0;we<=1;we++)(this||je).vertices.push(new Ee.default.Vector(we,xe,0)),(this||je).uvs.push(we,xe)}))).computeFaces().computeNormals(),rt=this.createBuffers("glyph",Te)),!0);Se=!1,Te=void 0;try{for(var nt,st=(this||je).retainedMode.buffers.text[Symbol.iterator]();!(ot=(nt=st.next()).done);ot=!0)nt.value._prepareBuffer(rt,tt)}catch(xe){Se=!0,Te=xe}finally{try{ot||null==st.return||st.return()}finally{if(Se)throw Te}}this._bindBuffer(rt.indexBuffer,et.ELEMENT_ARRAY_BUFFER),tt.setUniform("uMaterialColor",(this||je).curFillColor),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var it=0,dt=null,ht=Je.stringToGlyphs(we),ft=!0,pt=!1,mt=void 0;try{for(var yt,gt=ht[Symbol.iterator]();!(ft=(yt=gt.next()).done);ft=!0){var wt,Dt,Xt=yt.value,Yt=(dt&&(it+=Je.getKerningValue(dt,Xt)),$e.getGlyphInfo(Xt));Yt.uGlyphRect&&(wt=Yt.rowInfo,Dt=Yt.colInfo,tt.setUniform("uSamplerStrokes",Yt.strokeImageInfo.imageData),tt.setUniform("uSamplerRowStrokes",wt.cellImageInfo.imageData),tt.setUniform("uSamplerRows",wt.dimImageInfo.imageData),tt.setUniform("uSamplerColStrokes",Dt.cellImageInfo.imageData),tt.setUniform("uSamplerCols",Dt.dimImageInfo.imageData),tt.setUniform("uGridOffset",Yt.uGridOffset),tt.setUniform("uGlyphRect",Yt.uGlyphRect),tt.setUniform("uGlyphOffset",it),tt.bindTextures(),et.drawElements(et.TRIANGLES,6,(this||je).GL.UNSIGNED_SHORT,0)),it+=Xt.advanceWidth,dt=Xt}}catch(xe){pt=!0,mt=xe}finally{try{ft||null==gt.return||gt.return()}finally{if(pt)throw mt}}}finally{tt.unbindShader(),(this||je)._doStroke=Ze,(this||je).drawMode=Qe,et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),xe.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return xe}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)}));var we=xe;export{we as default};

